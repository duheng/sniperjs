{"remainingRequest":"/Users/qitmac001131/Desktop/work/ykit3/packages/ykit3-config-resolver/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/qitmac001131/Desktop/test/sniperjs/example/node/node_modules/@qnpm/skyeye-web/dist/skyeye.js","dependencies":[{"path":"/Users/qitmac001131/Desktop/test/sniperjs/example/node/node_modules/@qnpm/skyeye-web/dist/skyeye.js","hash":"557e83f8244a0e70f5b39a474f1d2445"},{"path":"/Users/qitmac001131/Desktop/work/ykit3/packages/ykit3-config-resolver/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/qitmac001131/Desktop/work/ykit3/packages/ykit3-config-resolver/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgooZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkgewogIGlmICgodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gJ29iamVjdCcgJiYgKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09PSAnb2JqZWN0JykgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoW10sIGZhY3RvcnkpO2Vsc2UgewogICAgdmFyIGEgPSBmYWN0b3J5KCk7CgogICAgZm9yICh2YXIgaSBpbiBhKSB7CiAgICAgICgodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldOwogICAgfQogIH0KfSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHZvaWQgMCwgZnVuY3Rpb24gKCkgewogIHJldHVybiAoCiAgICAvKioqKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZXMpIHsKICAgICAgLy8gd2VicGFja0Jvb3RzdHJhcAoKICAgICAgLyoqKioqKi8KICAgICAgLy8gVGhlIG1vZHVsZSBjYWNoZQoKICAgICAgLyoqKioqKi8KICAgICAgdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCgogICAgICAvKioqKioqLwoKICAgICAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewogICAgICAgIC8qKioqKiovCgogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCgogICAgICAgIC8qKioqKiovCiAgICAgICAgaWYgKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7CiAgICAgICAgICAvKioqKioqLwogICAgICAgICAgcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7CiAgICAgICAgICAvKioqKioqLwogICAgICAgIH0KICAgICAgICAvKioqKioqLwogICAgICAgIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCgogICAgICAgIC8qKioqKiovCgoKICAgICAgICB2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7CiAgICAgICAgICAvKioqKioqLwogICAgICAgICAgaTogbW9kdWxlSWQsCgogICAgICAgICAgLyoqKioqKi8KICAgICAgICAgIGw6IGZhbHNlLAoKICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICBleHBvcnRzOiB7fQogICAgICAgICAgLyoqKioqKi8KCiAgICAgICAgfTsKICAgICAgICAvKioqKioqLwoKICAgICAgICAvKioqKioqLwogICAgICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgoKICAgICAgICAvKioqKioqLwoKICAgICAgICBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKICAgICAgICAvKioqKioqLwoKICAgICAgICAvKioqKioqLwogICAgICAgIC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWQKCiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgbW9kdWxlLmwgPSB0cnVlOwogICAgICAgIC8qKioqKiovCgogICAgICAgIC8qKioqKiovCiAgICAgICAgLy8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGUKCiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgIC8qKioqKiovCiAgICAgIH0KICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCgogICAgICAvKioqKioqLwogICAgICAvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQoKICAgICAgLyoqKioqKi8KCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKCiAgICAgIC8qKioqKiovCgogICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzOwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzCgogICAgICAvKioqKioqLwoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24gKGV4cG9ydHMsIG5hbWUsIGdldHRlcikgewogICAgICAgIC8qKioqKiovCiAgICAgICAgaWYgKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHsKICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgewogICAgICAgICAgICAvKioqKioqLwogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAoKICAgICAgICAgICAgLyoqKioqKi8KICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKCiAgICAgICAgICAgIC8qKioqKiovCiAgICAgICAgICAgIGdldDogZ2V0dGVyCiAgICAgICAgICAgIC8qKioqKiovCgogICAgICAgICAgfSk7CiAgICAgICAgICAvKioqKioqLwogICAgICAgIH0KICAgICAgICAvKioqKioqLwoKICAgICAgfTsKICAgICAgLyoqKioqKi8KCiAgICAgIC8qKioqKiovCiAgICAgIC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzCgogICAgICAvKioqKioqLwoKCiAgICAgIF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uIChtb2R1bGUpIHsKICAgICAgICAvKioqKioqLwogICAgICAgIHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgPwogICAgICAgIC8qKioqKiovCiAgICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsKICAgICAgICB9IDoKICAgICAgICAvKioqKioqLwogICAgICAgIGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7CiAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH07CiAgICAgICAgLyoqKioqKi8KCiAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwogICAgICAgIC8qKioqKiovCgoKICAgICAgICByZXR1cm4gZ2V0dGVyOwogICAgICAgIC8qKioqKiovCiAgICAgIH07CiAgICAgIC8qKioqKiovCgogICAgICAvKioqKioqLwogICAgICAvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwKCiAgICAgIC8qKioqKiovCgoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHkpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOwogICAgICB9OwogICAgICAvKioqKioqLwoKICAgICAgLyoqKioqKi8KICAgICAgLy8gX193ZWJwYWNrX3B1YmxpY19wYXRoX18KCiAgICAgIC8qKioqKiovCgoKICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7CiAgICAgIC8qKioqKiovCgogICAgICAvKioqKioqLwogICAgICAvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKCiAgICAgIC8qKioqKiovCgogICAgICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTsKICAgICAgLyoqKioqKi8KICAgIH0oCiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKICAgIC8qKioqKiovCiAgICBbCiAgICAvKiAwICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwoKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sICJfX2VzTW9kdWxlIiwgewogICAgICAgIHZhbHVlOiB0cnVlCiAgICAgIH0pOwogICAgICAvKiBoYXJtb255IGltcG9ydCAqLwoKICAgICAgdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fY29tcHV0ZVN0YWNrVHJhY2VfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7CiAgICAgIC8qIGhhcm1vbnkgaW1wb3J0ICovCgoKICAgICAgdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5zdHJ1bWVudERPTV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTsKICAgICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgICB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3V1aWRqc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTsKICAgICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgICB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3V1aWRqc19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3V1aWRqc19fKTsKCiAgICAgIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgICAgICAgIH0pOwogICAgICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGtleXM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgICAgICAgIGlmIChpICUgMikgewogICAgICAgICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb2JqOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVkIGJ5IGppYW5neXVoZSBvbiAyMDIwLzMvOC4KICAgICAgICovCgoKICAgICAgdmFyIHNreUV5ZUluZm8gPSB7fTsKICAgICAgdmFyIGRlZmF1bHRPcHRzID0gewogICAgICAgIHhoclJlY29yZFNpemU6IDUsCiAgICAgICAgZG9tT3BlcmF0aW9uU2l6ZTogMTAsCiAgICAgICAgcGFnZU5hbWU6IHdpbmRvdy5fX3BhZ2VfaWQgfHwgJycKICAgICAgfTsKICAgICAgdmFyIGRvbU9wZXJhdGlvbkxpc3QgPSBbXTsKICAgICAgdmFyIGFqYXhMaXN0ID0gW107CgogICAgICBmdW5jdGlvbiBzZW5kRXJyb3IoZGF0YSkgewogICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgcmVxdWVzdC5za3lFeWVSZXEgPSB0cnVlOwoKICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCAnLy9sb2cuZmxpZ2h0LnF1bmFyLmNvbS9lcnJvckhhbmRsZS9lcnJvclJlY29yZCcpOwogICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICBkYXRhLnRyYWNlSWQgPSBza3lFeWVJbmZvLnRyYWNlSWQ7CiAgICAgICAgcmVxdWVzdC5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZmlsbChzb3VyY2UsIG5hbWUsIHJlcGxhY2VtZW50KSB7CiAgICAgICAgdmFyIG9yaWdpbmFsID0gc291cmNlW25hbWVdOwogICAgICAgIHZhciB3cmFwcGVkID0gcmVwbGFjZW1lbnQob3JpZ2luYWwpOwogICAgICAgIHNvdXJjZVtuYW1lXSA9IHdyYXBwZWQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGluc3RydW1lbnRYSFIoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChza3lFeWVJbmZvLnhoclJlY29yZCB8fCBza3lFeWVJbmZvLnhockVycm9yUmVjb3JkKSB7CiAgICAgICAgICAgIHZhciB4aHJwcm90byA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZTsKICAgICAgICAgICAgZmlsbCh4aHJwcm90bywgJ3NlbmQnLCBmdW5jdGlvbiAob3JpZ2luYWxTZW5kKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciB4aHIgPSB0aGlzOwogICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gRGF0ZS5ub3coKTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyKCkgewogICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmICgheGhyLnNreUV5ZVJlcSAmJiB4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWVzdGFtcCA9IERhdGUubm93KCk7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgeGhyRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncywKICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiBlbmRUaW1lc3RhbXAsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBzdGFydFRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGVuZFRpbWVzdGFtcCAtIHN0YXJ0VGltZXN0YW1wLAogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVVSTDogeGhyLnJlc3BvbnNlVVJMLAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB4aHIucmVzcG9uc2UKICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRFcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVR5cGU6ICd4aHJFcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyRGF0YTogeGhyRGF0YQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza3lFeWVJbmZvLnhoclJlY29yZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhMaXN0LnB1c2goeGhyRGF0YSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhamF4TGlzdC5sZW5ndGggPiBza3lFeWVJbmZvLnhoclJlY29yZFNpemUgLSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kQWpheCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4geGhyICYmIHR5cGVvZiB4aHIub25yZWFkeXN0YXRlY2hhbmdlID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgIGZpbGwoeGhyLCAnb25yZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKG9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIG9ucmVhZHlzdGF0ZWNoYW5nZUhhbmRsZXIoKTsKCiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlYWR5U3RhdGVBcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5U3RhdGVBcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHhociwgcmVhZHlTdGF0ZUFyZ3MpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8gaWYgb25yZWFkeXN0YXRlY2hhbmdlIHdhc24ndCBhY3R1YWxseSBzZXQgYnkgdGhlIHBhZ2Ugb24gdGhpcyB4aHIsIHdlCiAgICAgICAgICAgICAgICAgIC8vIGFyZSBmcmVlIHRvIHNldCBvdXIgb3duIGFuZCBjYXB0dXJlIHRoZSBicmVhZGNydW1iCiAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbFNlbmQuYXBwbHkodGhpcywgYXJncyk7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2VuZEFqYXgoKSB7CiAgICAgICAgaWYgKHNreUV5ZUluZm8ueGhyUmVjb3JkKSB7CiAgICAgICAgICBzZW5kRXJyb3IoewogICAgICAgICAgICBtZXNzYWdlVHlwZTogJ3hockxpc3QnLAogICAgICAgICAgICBhamF4TGlzdDogYWpheExpc3QKICAgICAgICAgIH0pOwogICAgICAgICAgYWpheExpc3QgPSBbXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGNhcHR1cmVFeGNlcHRpb24oZXJyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBmaWxlbmFtZSA9IGVyci5maWxlbmFtZSB8fCAnJzsKICAgICAgICAgIHZhciBlcnJvciA9IGVyci5lcnJvciB8fCB7fTsKCiAgICAgICAgICB2YXIgX3JlZiA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NvbXB1dGVTdGFja1RyYWNlX19bImEiCiAgICAgICAgICAvKiBkZWZhdWx0ICovCiAgICAgICAgICBdKShlcnJvcikgfHwge30sCiAgICAgICAgICAgICAgc3RhY2sgPSBfcmVmLnN0YWNrLAogICAgICAgICAgICAgIG1lc3NhZ2UgPSBfcmVmLm1lc3NhZ2UsCiAgICAgICAgICAgICAgbmFtZSA9IF9yZWYubmFtZTsKCiAgICAgICAgICB2YXIgZGF0YSA9IF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICBtZXNzYWdlVHlwZTogJ2NhcHR1cmVFeGNlcHRpb24nLAogICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVyci5tZXNzYWdlLAogICAgICAgICAgICBlcnJvclN0YWNrOiBlcnJvci5zdGFjayB8fCAnJywKICAgICAgICAgICAgbm93VGltZTogRGF0ZS5ub3coKSwKICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLAogICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICBkb21PcGVyYXRpb25MaXN0OiBkb21PcGVyYXRpb25MaXN0LAogICAgICAgICAgICBzdGFja1RyYWNlOiBzdGFjawogICAgICAgICAgfSwgc2t5RXllSW5mbyk7CgogICAgICAgICAgc2VuZEFqYXgoKTsKICAgICAgICAgIHNlbmRFcnJvcihkYXRhKTsKCiAgICAgICAgICBpZiAoc2t5RXllSW5mby5odG1sUmVjb3JkKSB7CiAgICAgICAgICAgIHNlbmRFcnJvcih7CiAgICAgICAgICAgICAgbWVzc2FnZVR5cGU6ICdwYWdlSHRtbCcsCiAgICAgICAgICAgICAgaHRtbDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CgogICAgICBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHsKICAgICAgICAvL3Byb2plY3ROYW1lLHBhZ2VOYW1lCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHNreUV5ZUluZm8gPSBfb2JqZWN0U3ByZWFkKHt9LCBkZWZhdWx0T3B0cywge30sIG9wdGlvbnMpOwogICAgICAgICAgc2t5RXllSW5mby50cmFjZUlkID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX3V1aWRqc19fX2RlZmF1bHQuYS5nZW5lcmF0ZSgpOwogICAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9faW5zdHJ1bWVudERPTV9fWyJhIgogICAgICAgICAgLyogZGVmYXVsdCAqLwogICAgICAgICAgXSkoZG9tT3BlcmF0aW9uTGlzdCwgc2t5RXllSW5mbyk7CiAgICAgICAgICBpbnN0cnVtZW50WEhSKCk7CiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIGNhcHR1cmVFeGNlcHRpb24oZXJyKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIH0KICAgICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICAgIF9fd2VicGFja19leHBvcnRzX19bImRlZmF1bHQiXSA9IHsKICAgICAgICBpbml0OiBpbml0LAogICAgICAgIGNhcHR1cmVFeGNlcHRpb246IGNhcHR1cmVFeGNlcHRpb24KICAgICAgfTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAxICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICAvKioKICAgICAgICogQ3JlYXRlZCBieSBqaWFuZ3l1aGUgb24gMjAyMC8zLzguCiAgICAgICAqLwoKICAgICAgLyoqCiAgICAgICAqIENyZWF0ZWQgYnkgamlhbmd5dWhlIG9uIDIwMjAvMi8xOS4KICAgICAgICovCiAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cwogICAgICAvLyBnbG9iYWwgcmVmZXJlbmNlIHRvIHNsaWNlCgogICAgICB2YXIgVU5LTk9XTl9GVU5DVElPTiA9ICc/JzsgLy8gQ2hyb21pdW0gYmFzZWQgYnJvd3NlcnM6IENocm9tZSwgQnJhdmUsIG5ldyBPcGVyYSwgbmV3IEVkZ2UKCiAgICAgIHZhciBjaHJvbWUgPSAvXlxzKmF0ICg/OiguKj8pID9cKCk/KCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lLWV4dGVuc2lvbnxhZGRyZXNzfG5hdGl2ZXxldmFsfHdlYnBhY2t8PGFub255bW91cz58Wy1hLXpdKzp8LipidW5kbGV8XC8pLio/KSg/OjooXGQrKSk/KD86OihcZCspKT9cKT9ccyokL2k7IC8vIGdlY2tvIHJlZ2V4OiBgKD86YnVuZGxlfFxkK1wuanMpYDogYGJ1bmRsZWAgaXMgZm9yIHJlYWN0IG5hdGl2ZSwgYFxkK1wuanNgIGFsc28gYnV0IHNwZWNpZmljYWxseSBmb3IgcmFtIGJ1bmRsZXMgYmVjYXVzZSBpdAogICAgICAvLyBnZW5lcmF0ZXMgZmlsZW5hbWVzIHdpdGhvdXQgYSBwcmVmaXggbGlrZSBgZmlsZTovL2AgdGhlIGZpbGVuYW1lcyBpbiB0aGUgc3RhY2t0cmFjZSBhcmUganVzdCA0Mi5qcwogICAgICAvLyBXZSBuZWVkIHRoaXMgc3BlY2lmaWMgY2FzZSBmb3Igbm93IGJlY2F1c2Ugd2Ugd2FudCBubyBvdGhlciByZWdleCB0byBtYXRjaC4KCiAgICAgIHZhciBnZWNrbyA9IC9eXHMqKC4qPykoPzpcKCguKj8pXCkpPyg/Ol58QCk/KCg/OmZpbGV8aHR0cHM/fGJsb2J8Y2hyb21lfHdlYnBhY2t8cmVzb3VyY2V8bW96LWV4dGVuc2lvbikuKj86XC8uKj98XFtuYXRpdmUgY29kZVxdfFteQF0qKD86YnVuZGxlfFxkK1wuanMpKSg/OjooXGQrKSk/KD86OihcZCspKT9ccyokL2k7CiAgICAgIHZhciB3aW5qcyA9IC9eXHMqYXQgKD86KCg/Olxbb2JqZWN0IG9iamVjdFxdKT8uKykgKT9cKD8oKD86ZmlsZXxtcy1hcHB4fGh0dHBzP3x3ZWJwYWNrfGJsb2IpOi4qPyk6KFxkKykoPzo6KFxkKykpP1wpP1xzKiQvaTsKICAgICAgdmFyIGdlY2tvRXZhbCA9IC8oXFMrKSBsaW5lIChcZCspKD86ID4gZXZhbCBsaW5lIFxkKykqID4gZXZhbC9pOwogICAgICB2YXIgY2hyb21lRXZhbCA9IC9cKChcUyopKD86OihcZCspKSg/OjooXGQrKSlcKS87CiAgICAgIC8qKiBKU0RvYyAqLwogICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6Y3ljbG9tYXRpYy1jb21wbGV4aXR5CgogICAgICBmdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3AoZXgpIHsKICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25kaXRpb25hbC1hc3NpZ25tZW50CiAgICAgICAgaWYgKCFleCB8fCAhZXguc3RhY2spIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgdmFyIHN0YWNrID0gW107CiAgICAgICAgdmFyIGxpbmVzID0gZXguc3RhY2suc3BsaXQoJ1xuJyk7CiAgICAgICAgdmFyIGlzRXZhbDsKICAgICAgICB2YXIgc3VibWF0Y2g7CiAgICAgICAgdmFyIHBhcnRzOwogICAgICAgIHZhciBlbGVtZW50OwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBpZiAocGFydHMgPSBjaHJvbWUuZXhlYyhsaW5lc1tpXSkpIHsKICAgICAgICAgICAgdmFyIGlzTmF0aXZlID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignbmF0aXZlJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmUKCiAgICAgICAgICAgIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZQoKICAgICAgICAgICAgaWYgKGlzRXZhbCAmJiAoc3VibWF0Y2ggPSBjaHJvbWVFdmFsLmV4ZWMocGFydHNbMl0pKSkgewogICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZS9jb2x1bW4gbnVtYmVyCiAgICAgICAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsCgogICAgICAgICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMl07IC8vIGxpbmUKCiAgICAgICAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFszXTsgLy8gY29sdW1uCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGVsZW1lbnQgPSB7CiAgICAgICAgICAgICAgLy8gd29ya2luZyB3aXRoIHRoZSByZWdleHAgYWJvdmUgaXMgc3VwZXIgcGFpbmZ1bC4gaXQgaXMgcXVpdGUgYSBoYWNrLCBidXQganVzdCBzdHJpcHBpbmcgdGhlIGBhZGRyZXNzIGF0IGAKICAgICAgICAgICAgICAvLyBwcmVmaXggaGVyZSBzZWVtcyBsaWtlIHRoZSBxdWlja2VzdCBzb2x1dGlvbiBmb3Igbm93LgogICAgICAgICAgICAgIHVybDogcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignYWRkcmVzcyBhdCAnKSA9PT0gMCA/IHBhcnRzWzJdLnN1YnN0cignYWRkcmVzcyBhdCAnLmxlbmd0aCkgOiBwYXJ0c1syXSwKICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLAogICAgICAgICAgICAgIGFyZ3M6IGlzTmF0aXZlID8gW3BhcnRzWzJdXSA6IFtdLAogICAgICAgICAgICAgIGxpbmU6IHBhcnRzWzNdID8gK3BhcnRzWzNdIDogbnVsbCwKICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbAogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIGlmIChwYXJ0cyA9IHdpbmpzLmV4ZWMobGluZXNbaV0pKSB7CiAgICAgICAgICAgIGVsZW1lbnQgPSB7CiAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSwKICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLAogICAgICAgICAgICAgIGFyZ3M6IFtdLAogICAgICAgICAgICAgIGxpbmU6ICtwYXJ0c1szXSwKICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbAogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIGlmIChwYXJ0cyA9IGdlY2tvLmV4ZWMobGluZXNbaV0pKSB7CiAgICAgICAgICAgIGlzRXZhbCA9IHBhcnRzWzNdICYmIHBhcnRzWzNdLmluZGV4T2YoJyA+IGV2YWwnKSA+IC0xOwoKICAgICAgICAgICAgaWYgKGlzRXZhbCAmJiAoc3VibWF0Y2ggPSBnZWNrb0V2YWwuZXhlYyhwYXJ0c1szXSkpKSB7CiAgICAgICAgICAgICAgLy8gdGhyb3cgb3V0IGV2YWwgbGluZS9jb2x1bW4gYW5kIHVzZSB0b3AtbW9zdCBsaW5lIG51bWJlcgogICAgICAgICAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0gfHwgImV2YWwiOwogICAgICAgICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV07CiAgICAgICAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFsyXTsKICAgICAgICAgICAgICBwYXJ0c1s1XSA9ICcnOyAvLyBubyBjb2x1bW4gd2hlbiBldmFsCiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCAmJiAhcGFydHNbNV0gJiYgZXguY29sdW1uTnVtYmVyICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgICAvLyBGaXJlRm94IHVzZXMgdGhpcyBhd2Vzb21lIGNvbHVtbk51bWJlciBwcm9wZXJ0eSBmb3IgaXRzIHRvcCBmcmFtZQogICAgICAgICAgICAgIC8vIEFsc28gbm90ZSwgRmlyZWZveCdzIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZCBhbmQgZXZlcnl0aGluZyBlbHNlIGV4cGVjdHMgMS1iYXNlZCwKICAgICAgICAgICAgICAvLyBzbyBhZGRpbmcgMQogICAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgaGFjayBkb2Vzbid0IHdvcmsgaWYgdG9wLW1vc3QgZnJhbWUgaXMgZXZhbAogICAgICAgICAgICAgIHN0YWNrWzBdLmNvbHVtbiA9IGV4LmNvbHVtbk51bWJlciArIDE7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGVsZW1lbnQgPSB7CiAgICAgICAgICAgICAgdXJsOiBwYXJ0c1szXSwKICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLAogICAgICAgICAgICAgIGFyZ3M6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJywnKSA6IFtdLAogICAgICAgICAgICAgIGxpbmU6IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbCwKICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzVdID8gK3BhcnRzWzVdIDogbnVsbAogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFlbGVtZW50LmZ1bmMgJiYgZWxlbWVudC5saW5lKSB7CiAgICAgICAgICAgIGVsZW1lbnQuZnVuYyA9IFVOS05PV05fRlVOQ1RJT047CiAgICAgICAgICB9CgogICAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTsKICAgICAgICB9CgogICAgICAgIGlmICghc3RhY2subGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBtZXNzYWdlOiBleHRyYWN0TWVzc2FnZShleCksCiAgICAgICAgICBuYW1lOiBleC5uYW1lLAogICAgICAgICAgc3RhY2s6IHN0YWNrCiAgICAgICAgfTsKICAgICAgfQogICAgICAvKiogSlNEb2MgKi8KCgogICAgICBmdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja3RyYWNlUHJvcChleCkgewogICAgICAgIGlmICghZXggfHwgIWV4LnN0YWNrdHJhY2UpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gLy8gQWNjZXNzIGFuZCBzdG9yZSB0aGUgc3RhY2t0cmFjZSBwcm9wZXJ0eSBiZWZvcmUgZG9pbmcgQU5ZVEhJTkcKICAgICAgICAvLyBlbHNlIHRvIGl0IGJlY2F1c2UgT3BlcmEgaXMgbm90IHZlcnkgZ29vZCBhdCBwcm92aWRpbmcgaXQKICAgICAgICAvLyByZWxpYWJseSBpbiBvdGhlciBjaXJjdW1zdGFuY2VzLgoKCiAgICAgICAgdmFyIHN0YWNrdHJhY2UgPSBleC5zdGFja3RyYWNlOwogICAgICAgIHZhciBvcGVyYTEwUmVnZXggPSAvIGxpbmUgKFxkKykuKnNjcmlwdCAoPzppbiApPyhcUyspKD86OiBpbiBmdW5jdGlvbiAoXFMrKSk/JC9pOwogICAgICAgIHZhciBvcGVyYTExUmVnZXggPSAvIGxpbmUgKFxkKyksIGNvbHVtbiAoXGQrKVxzKig/OmluICg/Ojxhbm9ueW1vdXMgZnVuY3Rpb246IChbXj5dKyk+fChbXlwpXSspKVwoKC4qKVwpKT8gaW4gKC4qKTpccyokL2k7CiAgICAgICAgdmFyIGxpbmVzID0gc3RhY2t0cmFjZS5zcGxpdCgnXG4nKTsKICAgICAgICB2YXIgc3RhY2sgPSBbXTsKICAgICAgICB2YXIgcGFydHM7CgogICAgICAgIGZvciAodmFyIGxpbmUgPSAwOyBsaW5lIDwgbGluZXMubGVuZ3RoOyBsaW5lICs9IDIpIHsKICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbmRpdGlvbmFsLWFzc2lnbm1lbnQKICAgICAgICAgIHZhciBlbGVtZW50ID0gbnVsbDsKCiAgICAgICAgICBpZiAocGFydHMgPSBvcGVyYTEwUmVnZXguZXhlYyhsaW5lc1tsaW5lXSkpIHsKICAgICAgICAgICAgZWxlbWVudCA9IHsKICAgICAgICAgICAgICB1cmw6IHBhcnRzWzJdLAogICAgICAgICAgICAgIGZ1bmM6IHBhcnRzWzNdLAogICAgICAgICAgICAgIGFyZ3M6IFtdLAogICAgICAgICAgICAgIGxpbmU6ICtwYXJ0c1sxXSwKICAgICAgICAgICAgICBjb2x1bW46IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSBpZiAocGFydHMgPSBvcGVyYTExUmVnZXguZXhlYyhsaW5lc1tsaW5lXSkpIHsKICAgICAgICAgICAgZWxlbWVudCA9IHsKICAgICAgICAgICAgICB1cmw6IHBhcnRzWzZdLAogICAgICAgICAgICAgIGZ1bmM6IHBhcnRzWzNdIHx8IHBhcnRzWzRdLAogICAgICAgICAgICAgIGFyZ3M6IHBhcnRzWzVdID8gcGFydHNbNV0uc3BsaXQoJywnKSA6IFtdLAogICAgICAgICAgICAgIGxpbmU6ICtwYXJ0c1sxXSwKICAgICAgICAgICAgICBjb2x1bW46ICtwYXJ0c1syXQogICAgICAgICAgICB9OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgIGlmICghZWxlbWVudC5mdW5jICYmIGVsZW1lbnQubGluZSkgewogICAgICAgICAgICAgIGVsZW1lbnQuZnVuYyA9IFVOS05PV05fRlVOQ1RJT047CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgbWVzc2FnZTogZXh0cmFjdE1lc3NhZ2UoZXgpLAogICAgICAgICAgbmFtZTogZXgubmFtZSwKICAgICAgICAgIHN0YWNrOiBzdGFjawogICAgICAgIH07CiAgICAgIH0KICAgICAgLyoqIFJlbW92ZSBOIG51bWJlciBvZiBmcmFtZXMgZnJvbSB0aGUgc3RhY2sgKi8KCgogICAgICBmdW5jdGlvbiBwb3BGcmFtZXMoc3RhY2t0cmFjZSwgcG9wU2l6ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhY2t0cmFjZSwgewogICAgICAgICAgICBzdGFjazogc3RhY2t0cmFjZS5zdGFjay5zbGljZShwb3BTaXplKQogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgcmV0dXJuIHN0YWNrdHJhY2U7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUaGVyZSBhcmUgY2FzZXMgd2hlcmUgc3RhY2t0cmFjZS5tZXNzYWdlIGlzIGFuIEV2ZW50IG9iamVjdAogICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8xOTQ5CiAgICAgICAqIEluIHRoaXMgc3BlY2lmaWMgY2FzZSB3ZSB0cnkgdG8gZXh0cmFjdCBzdGFja3RyYWNlLm1lc3NhZ2UuZXJyb3IubWVzc2FnZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBleHRyYWN0TWVzc2FnZShleCkgewogICAgICAgIHZhciBtZXNzYWdlID0gZXggJiYgZXgubWVzc2FnZTsKCiAgICAgICAgaWYgKCFtZXNzYWdlKSB7CiAgICAgICAgICByZXR1cm4gJ05vIGVycm9yIG1lc3NhZ2UnOwogICAgICAgIH0KCiAgICAgICAgaWYgKG1lc3NhZ2UuZXJyb3IgJiYgdHlwZW9mIG1lc3NhZ2UuZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIHJldHVybiBtZXNzYWdlLmVycm9yLm1lc3NhZ2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbWVzc2FnZTsKICAgICAgfQogICAgICAvKiogSlNEb2MgKi8KCgogICAgICBmdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZShleCkgewogICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm5vLXVuc2FmZS1hbnkKICAgICAgICB2YXIgc3RhY2sgPSBudWxsOwogICAgICAgIHZhciBwb3BTaXplID0gZXggJiYgZXguZnJhbWVzVG9Qb3A7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgdHJpZWQgZmlyc3QgYmVjYXVzZSBPcGVyYSAxMCAqZGVzdHJveXMqCiAgICAgICAgICAvLyBpdHMgc3RhY2t0cmFjZSBwcm9wZXJ0eSBpZiB5b3UgdHJ5IHRvIGFjY2VzcyB0aGUgc3RhY2sKICAgICAgICAgIC8vIHByb3BlcnR5IGZpcnN0ISEKICAgICAgICAgIHN0YWNrID0gY29tcHV0ZVN0YWNrVHJhY2VGcm9tU3RhY2t0cmFjZVByb3AoZXgpOwoKICAgICAgICAgIGlmIChzdGFjaykgewogICAgICAgICAgICByZXR1cm4gcG9wRnJhbWVzKHN0YWNrLCBwb3BTaXplKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7Ly8gbm8tZW1wdHkKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrUHJvcChleCk7CgogICAgICAgICAgaWYgKHN0YWNrKSB7CiAgICAgICAgICAgIHJldHVybiBwb3BGcmFtZXMoc3RhY2ssIHBvcFNpemUpOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBuby1lbXB0eQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1lc3NhZ2U6IGV4dHJhY3RNZXNzYWdlKGV4KSwKICAgICAgICAgIG5hbWU6IGV4ICYmIGV4Lm5hbWUsCiAgICAgICAgICBzdGFjazogW10sCiAgICAgICAgICBmYWlsZWQ6IHRydWUKICAgICAgICB9OwogICAgICB9CiAgICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgICBfX3dlYnBhY2tfZXhwb3J0c19fWyJhIl0gPSBjb21wdXRlU3RhY2tUcmFjZTsKICAgICAgLyoqKi8KICAgIH0sCiAgICAvKiAyICovCgogICAgLyoqKi8KICAgIGZ1bmN0aW9uIChtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICAgInVzZSBzdHJpY3QiOwogICAgICAvKioKICAgICAgICogQ3JlYXRlZCBieSBqaWFuZ3l1aGUgb24gMjAyMC8zLzEwLgogICAgICAgKi8KCiAgICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHdhdCkgewogICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2F0KSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGh0bWxUcmVlQXNTdHJpbmcoZWxlbSkgewogICAgICAgIC8vIHRyeS9jYXRjaCBib3RoOgogICAgICAgIC8vIC0gYWNjZXNzaW5nIGV2ZW50LnRhcmdldCAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpCiAgICAgICAgLy8gLSBgaHRtbFRyZWVBc1N0cmluZ2AgYmVjYXVzZSBpdCdzIGNvbXBsZXgsIGFuZCBqdXN0IGFjY2Vzc2luZyB0aGUgRE9NIGluY29ycmVjdGx5CiAgICAgICAgLy8gLSBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4KICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGN1cnJlbnRFbGVtID0gZWxlbTsKICAgICAgICAgIHZhciBNQVhfVFJBVkVSU0VfSEVJR0hUID0gNTsKICAgICAgICAgIHZhciBNQVhfT1VUUFVUX0xFTiA9IDgwOwogICAgICAgICAgdmFyIG91dCA9IFtdOwogICAgICAgICAgdmFyIGhlaWdodCA9IDA7CiAgICAgICAgICB2YXIgbGVuID0gMDsKICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSAnID4gJzsKICAgICAgICAgIHZhciBzZXBMZW5ndGggPSBzZXBhcmF0b3IubGVuZ3RoOwogICAgICAgICAgdmFyIG5leHRTdHI7CgogICAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkgewogICAgICAgICAgICBuZXh0U3RyID0gX2h0bWxFbGVtZW50QXNTdHJpbmcoY3VycmVudEVsZW0pOyAvLyBiYWlsIG91dCBpZgogICAgICAgICAgICAvLyAtIG5leHRTdHIgaXMgdGhlICdodG1sJyBlbGVtZW50CiAgICAgICAgICAgIC8vIC0gdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRoYXQgd291bGQgYmUgY3JlYXRlZCBleGNlZWRzIE1BWF9PVVRQVVRfTEVOCiAgICAgICAgICAgIC8vICAgKGlnbm9yZSB0aGlzIGxpbWl0IGlmIHdlIGFyZSBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uKQoKICAgICAgICAgICAgaWYgKG5leHRTdHIgPT09ICdodG1sJyB8fCBoZWlnaHQgPiAxICYmIGxlbiArIG91dC5sZW5ndGggKiBzZXBMZW5ndGggKyBuZXh0U3RyLmxlbmd0aCA+PSBNQVhfT1VUUFVUX0xFTikgewogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBvdXQucHVzaChuZXh0U3RyKTsKICAgICAgICAgICAgbGVuICs9IG5leHRTdHIubGVuZ3RoOwogICAgICAgICAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG91dC5yZXZlcnNlKCkuam9pbihzZXBhcmF0b3IpOwogICAgICAgIH0gY2F0Y2ggKF9vTykgewogICAgICAgICAgcmV0dXJuICc8dW5rbm93bj4nOwogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogUmV0dXJucyBhIHNpbXBsZSwgcXVlcnktc2VsZWN0b3IgcmVwcmVzZW50YXRpb24gb2YgYSBET00gZWxlbWVudAogICAgICAgKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel0KICAgICAgICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIF9odG1sRWxlbWVudEFzU3RyaW5nKGVsKSB7CiAgICAgICAgdmFyIGVsZW0gPSBlbDsKICAgICAgICB2YXIgb3V0ID0gW107CiAgICAgICAgdmFyIGNsYXNzTmFtZTsKICAgICAgICB2YXIgY2xhc3NlczsKICAgICAgICB2YXIga2V5OwogICAgICAgIHZhciBhdHRyOwogICAgICAgIHZhciBpOwoKICAgICAgICBpZiAoIWVsZW0gfHwgIWVsZW0udGFnTmFtZSkgewogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIH0KCiAgICAgICAgb3V0LnB1c2goZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpOwoKICAgICAgICBpZiAoZWxlbS5pZCkgewogICAgICAgICAgb3V0LnB1c2goIiMiLmNvbmNhdChlbGVtLmlkKSk7CiAgICAgICAgfQoKICAgICAgICBjbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZTsKCiAgICAgICAgaWYgKGNsYXNzTmFtZSAmJiBpc1N0cmluZyhjbGFzc05hbWUpKSB7CiAgICAgICAgICBjbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KC9ccysvKTsKCiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBvdXQucHVzaCgiLiIuY29uY2F0KGNsYXNzZXNbaV0pKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBhdHRyV2hpdGVsaXN0ID0gWyd0eXBlJywgJ25hbWUnXTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IGF0dHJXaGl0ZWxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGtleSA9IGF0dHJXaGl0ZWxpc3RbaV07CiAgICAgICAgICBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5KTsKCiAgICAgICAgICBpZiAoYXR0cikgewogICAgICAgICAgICBvdXQucHVzaCgiWyIuY29uY2F0KGtleSwgIj1cIiIpLmNvbmNhdChhdHRyLCAiXCJdIikpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG91dC5qb2luKCcnKTsKICAgICAgfQogICAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgICAgX193ZWJwYWNrX2V4cG9ydHNfX1siYSJdID0gZnVuY3Rpb24gKGRvbU9wZXJhdGlvbkxpc3QsIHNreUV5ZUluZm8pIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDsKICAgICAgICAgICAgdmFyIHRhcmdldFBhdGggPSBodG1sVHJlZUFzU3RyaW5nKHRhcmdldCk7CiAgICAgICAgICAgIGh0bWxUcmVlQXNTdHJpbmcoKTsKCiAgICAgICAgICAgIGlmIChkb21PcGVyYXRpb25MaXN0Lmxlbmd0aCA+IHNreUV5ZUluZm8uZG9tT3BlcmF0aW9uU2l6ZSkgewogICAgICAgICAgICAgIGRvbU9wZXJhdGlvbkxpc3Quc2hpZnQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZG9tT3BlcmF0aW9uTGlzdC5wdXNoKHsKICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldFBhdGgsCiAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJywKICAgICAgICAgICAgICBub3dUaW1lOiBEYXRlLm5vdygpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICB9KTsKICAgICAgfTsKICAgICAgLyoqKi8KCiAgICB9LAogICAgLyogMyAqLwoKICAgIC8qKiovCiAgICBmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAgIC8qKgogICAgICAgKiBVVUlELmpzIC0gUkZDLWNvbXBsaWFudCBVVUlEIEdlbmVyYXRvciBmb3IgSmF2YVNjcmlwdAogICAgICAgKgogICAgICAgKiBAZmlsZQogICAgICAgKiBAYXV0aG9yICBMaW9zSwogICAgICAgKiBAdmVyc2lvbiB2NC4yLjQKICAgICAgICogQGxpY2Vuc2UgQXBhY2hlIExpY2Vuc2UgMi4wOiBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxOSBMaW9zSwogICAgICAgKi8KCiAgICAgIC8qKgogICAgICAgKiBAY2xhc3MKICAgICAgICogQGNsYXNzZGVzYyB7QGxpbmsgVVVJRH0gb2JqZWN0LgogICAgICAgKiBAaGlkZWNvbnN0cnVjdG9yCiAgICAgICAqLwogICAgICB2YXIgVVVJRDsKCiAgICAgIFVVSUQgPSBmdW5jdGlvbiAob3ZlcndyaXR0ZW5VVUlEKSB7CiAgICAgICAgInVzZSBzdHJpY3QiOyAvLyBDb3JlIENvbXBvbmVudCB7e3sKCiAgICAgICAgLyoqCiAgICAgICAgICogR2VuZXJhdGVzIGEgdmVyc2lvbiA0IFVVSUQgYXMgYSBoZXhhZGVjaW1hbCBzdHJpbmcuCiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gSGV4YWRlY2ltYWwgVVVJRCBzdHJpbmcuCiAgICAgICAgICovCgogICAgICAgIFVVSUQuZ2VuZXJhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmFuZCA9IFVVSUQuX2dldFJhbmRvbUludCwKICAgICAgICAgICAgICBoZXggPSBVVUlELl9oZXhBbGlnbmVyOwogICAgICAgICAgcmV0dXJuIGhleChyYW5kKDMyKSwgOCkgLy8gdGltZV9sb3cKICAgICAgICAgICsgIi0iICsgaGV4KHJhbmQoMTYpLCA0KSAvLyB0aW1lX21pZAogICAgICAgICAgKyAiLSIgKyBoZXgoMHg0MDAwIHwgcmFuZCgxMiksIDQpIC8vIHRpbWVfaGlfYW5kX3ZlcnNpb24KICAgICAgICAgICsgIi0iICsgaGV4KDB4ODAwMCB8IHJhbmQoMTQpLCA0KSAvLyBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIGNsb2NrX3NlcV9sb3cKICAgICAgICAgICsgIi0iICsgaGV4KHJhbmQoNDgpLCAxMik7IC8vIG5vZGUKICAgICAgICB9OwogICAgICAgIC8qKgogICAgICAgICAqIFJldHVybnMgYW4gdW5zaWduZWQgeC1iaXQgcmFuZG9tIGludGVnZXIuCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geCBVbnNpZ25lZCBpbnRlZ2VyIHJhbmdpbmcgZnJvbSAwIHRvIDUzLCBpbmNsdXNpdmUuCiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gVW5zaWduZWQgeC1iaXQgcmFuZG9tIGludGVnZXIgKDAgPD0gZih4KSA8IDJeeCkuCiAgICAgICAgICovCgoKICAgICAgICBVVUlELl9nZXRSYW5kb21JbnQgPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgaWYgKHggPCAwIHx8IHggPiA1MykgewogICAgICAgICAgICByZXR1cm4gTmFOOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBuID0gMCB8IE1hdGgucmFuZG9tKCkgKiAweDQwMDAwMDAwOyAvLyAxIDw8IDMwCgogICAgICAgICAgcmV0dXJuIHggPiAzMCA/IG4gKyAoMCB8IE1hdGgucmFuZG9tKCkgKiAoMSA8PCB4IC0gMzApKSAqIDB4NDAwMDAwMDAgOiBuID4+PiAzMCAtIHg7CiAgICAgICAgfTsKICAgICAgICAvKioKICAgICAgICAgKiBDb252ZXJ0cyBhbiBpbnRlZ2VyIHRvIGEgemVyby1maWxsZWQgaGV4YWRlY2ltYWwgc3RyaW5nLgogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG51bQogICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGgKICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAgICAgICAqLwoKCiAgICAgICAgVVVJRC5faGV4QWxpZ25lciA9IGZ1bmN0aW9uIChudW0sIGxlbmd0aCkgewogICAgICAgICAgdmFyIHN0ciA9IG51bS50b1N0cmluZygxNiksCiAgICAgICAgICAgICAgaSA9IGxlbmd0aCAtIHN0ci5sZW5ndGgsCiAgICAgICAgICAgICAgeiA9ICIwIjsKCiAgICAgICAgICBmb3IgKDsgaSA+IDA7IGkgPj4+PSAxLCB6ICs9IHopIHsKICAgICAgICAgICAgaWYgKGkgJiAxKSB7CiAgICAgICAgICAgICAgc3RyID0geiArIHN0cjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgfTsKICAgICAgICAvKioKICAgICAgICAgKiBSZXRhaW5zIHRoZSB2YWx1ZSBvZiAnVVVJRCcgZ2xvYmFsIHZhcmlhYmxlIGFzc2lnbmVkIGJlZm9yZSBsb2FkaW5nIFVVSUQuanMuCiAgICAgICAgICogQHNpbmNlIDMuMgogICAgICAgICAqIEB0eXBlIHthbnl9CiAgICAgICAgICovCgoKICAgICAgICBVVUlELm92ZXJ3cml0dGVuVVVJRCA9IG92ZXJ3cml0dGVuVVVJRDsgLy8gfX19CiAgICAgICAgLy8gQWR2YW5jZWQgUmFuZG9tIE51bWJlciBHZW5lcmF0b3IgQ29tcG9uZW50IHt7ewoKICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIG1hdGhQUk5HID0gVVVJRC5fZ2V0UmFuZG9tSW50OwogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBFbmFibGVzIE1hdGgucmFuZG9tKCktYmFzZWQgcHNldWRvcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgaW5zdGVhZCBvZiBjcnlwdG9ncmFwaGljYWxseSBzYWZlciBvcHRpb25zLgogICAgICAgICAgICogQHNpbmNlIHYzLjUuMAogICAgICAgICAgICogQGRlcHJlY2F0ZWQgVGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgb25seSB0byB3b3JrIGFyb3VuZCBwZXJmb3JtYW5jZSBkcmF3YmFja3Mgb2YgdGhlIHNhZmVyIGFsZ29yaXRobXMuCiAgICAgICAgICAgKi8KCiAgICAgICAgICBVVUlELnVzZU1hdGhSYW5kb20gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIFVVSUQuX2dldFJhbmRvbUludCA9IG1hdGhQUk5HOwogICAgICAgICAgfTsKCiAgICAgICAgICB2YXIgY3J5cHRvID0gbnVsbCwKICAgICAgICAgICAgICBjcnlwdG9QUk5HID0gbWF0aFBSTkc7CgogICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiICYmIChjcnlwdG8gPSB3aW5kb3cuY3J5cHRvIHx8IHdpbmRvdy5tc0NyeXB0bykpIHsKICAgICAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgdHlwZW9mIFVpbnQzMkFycmF5ICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIC8vIFdlYiBDcnlwdG9ncmFwaHkgQVBJCiAgICAgICAgICAgICAgY3J5cHRvUFJORyA9IGZ1bmN0aW9uIGNyeXB0b1BSTkcoeCkgewogICAgICAgICAgICAgICAgaWYgKHggPCAwIHx8IHggPiA1MykgewogICAgICAgICAgICAgICAgICByZXR1cm4gTmFOOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBucyA9IG5ldyBVaW50MzJBcnJheSh4ID4gMzIgPyAyIDogMSk7CiAgICAgICAgICAgICAgICBucyA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobnMpIHx8IG5zOwogICAgICAgICAgICAgICAgcmV0dXJuIHggPiAzMiA/IG5zWzBdICsgKG5zWzFdID4+PiA2NCAtIHgpICogMHgxMDAwMDAwMDAgOiBuc1swXSA+Pj4gMzIgLSB4OwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAoImZ1bmN0aW9uIiAhPT0gInVuZGVmaW5lZCIgJiYgKGNyeXB0byA9IF9fd2VicGFja19yZXF1aXJlX18oNCkpKSB7CiAgICAgICAgICAgIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHsKICAgICAgICAgICAgICAvLyBub2RlanMKICAgICAgICAgICAgICBjcnlwdG9QUk5HID0gZnVuY3Rpb24gY3J5cHRvUFJORyh4KSB7CiAgICAgICAgICAgICAgICBpZiAoeCA8IDAgfHwgeCA+IDUzKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBOYU47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGJ1ZiA9IGNyeXB0by5yYW5kb21CeXRlcyh4ID4gMzIgPyA4IDogNCksCiAgICAgICAgICAgICAgICAgICAgbiA9IGJ1Zi5yZWFkVUludDMyQkUoMCk7CiAgICAgICAgICAgICAgICByZXR1cm4geCA+IDMyID8gbiArIChidWYucmVhZFVJbnQzMkJFKDQpID4+PiA2NCAtIHgpICogMHgxMDAwMDAwMDAgOiBuID4+PiAzMiAtIHg7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIFVVSUQuX2dldFJhbmRvbUludCA9IGNyeXB0b1BSTkc7CiAgICAgICAgfSkoKTsgLy8gfX19CiAgICAgICAgLy8gVVVJRCBPYmplY3QgQ29tcG9uZW50IHt7ewoKICAgICAgICAvKioKICAgICAgICAgKiBOYW1lcyBvZiBVVUlEIGludGVybmFsIGZpZWxkcy4KICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119CiAgICAgICAgICogQGNvbnN0YW50CiAgICAgICAgICogQHNpbmNlIDMuMAogICAgICAgICAqLwoKCiAgICAgICAgVVVJRC5GSUVMRF9OQU1FUyA9IFsidGltZUxvdyIsICJ0aW1lTWlkIiwgInRpbWVIaUFuZFZlcnNpb24iLCAiY2xvY2tTZXFIaUFuZFJlc2VydmVkIiwgImNsb2NrU2VxTG93IiwgIm5vZGUiXTsKICAgICAgICAvKioKICAgICAgICAgKiBTaXplcyBvZiBVVUlEIGludGVybmFsIGZpZWxkcy4KICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119CiAgICAgICAgICogQGNvbnN0YW50CiAgICAgICAgICogQHNpbmNlIDMuMAogICAgICAgICAqLwoKICAgICAgICBVVUlELkZJRUxEX1NJWkVTID0gWzMyLCAxNiwgMTYsIDgsIDgsIDQ4XTsKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIGEgdmVyc2lvbiA0IHtAbGluayBVVUlEfSBvYmplY3QuCiAgICAgICAgICogQHJldHVybnMge1VVSUR9IFZlcnNpb24gNCB7QGxpbmsgVVVJRH0gb2JqZWN0LgogICAgICAgICAqIEBzaW5jZSAzLjAKICAgICAgICAgKi8KCiAgICAgICAgVVVJRC5nZW5WNCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciByYW5kID0gVVVJRC5fZ2V0UmFuZG9tSW50OwogICAgICAgICAgcmV0dXJuIG5ldyBVVUlEKCkuX2luaXQocmFuZCgzMiksIHJhbmQoMTYpLCAvLyB0aW1lX2xvdyB0aW1lX21pZAogICAgICAgICAgMHg0MDAwIHwgcmFuZCgxMiksIC8vIHRpbWVfaGlfYW5kX3ZlcnNpb24KICAgICAgICAgIDB4ODAgfCByYW5kKDYpLCAvLyBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkCiAgICAgICAgICByYW5kKDgpLCByYW5kKDQ4KSk7IC8vIGNsb2NrX3NlcV9sb3cgbm9kZQogICAgICAgIH07CiAgICAgICAgLyoqCiAgICAgICAgICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBVVUlEIHN0cmluZyB0byBhIHtAbGluayBVVUlEfSBvYmplY3QuCiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cklkIEhleGFkZWNpbWFsIFVVSUQgc3RyaW5nICgieHh4eHh4eHgteHh4eC14eHh4LXh4eHgteHh4eHh4eHh4eHh4IikuCiAgICAgICAgICogQHJldHVybnMge1VVSUR9IHtAbGluayBVVUlEfSBvYmplY3Qgb3IgbnVsbC4KICAgICAgICAgKiBAc2luY2UgMy4wCiAgICAgICAgICovCgoKICAgICAgICBVVUlELnBhcnNlID0gZnVuY3Rpb24gKHN0cklkKSB7CiAgICAgICAgICB2YXIgciwKICAgICAgICAgICAgICBwID0gL15ccyoodXJuOnV1aWQ6fFx7KT8oWzAtOWEtZl17OH0pLShbMC05YS1mXXs0fSktKFswLTlhLWZdezR9KS0oWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KS0oWzAtOWEtZl17MTJ9KShcfSk/XHMqJC9pOwoKICAgICAgICAgIGlmIChyID0gcC5leGVjKHN0cklkKSkgewogICAgICAgICAgICB2YXIgbCA9IHJbMV0gfHwgIiIsCiAgICAgICAgICAgICAgICB0ID0gcls4XSB8fCAiIjsKCiAgICAgICAgICAgIGlmIChsICsgdCA9PT0gIiIgfHwgbCA9PT0gInsiICYmIHQgPT09ICJ9IiB8fCBsLnRvTG93ZXJDYXNlKCkgPT09ICJ1cm46dXVpZDoiICYmIHQgPT09ICIiKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVVUlEKCkuX2luaXQocGFyc2VJbnQoclsyXSwgMTYpLCBwYXJzZUludChyWzNdLCAxNiksIHBhcnNlSW50KHJbNF0sIDE2KSwgcGFyc2VJbnQocls1XSwgMTYpLCBwYXJzZUludChyWzZdLCAxNiksIHBhcnNlSW50KHJbN10sIDE2KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9OwogICAgICAgIC8qKgogICAgICAgICAqIEluaXRpYWxpemVzIGEge0BsaW5rIFVVSUR9IG9iamVjdC4KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqIEBjb25zdHJ1Y3RzIFVVSUQKICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVMb3c9MF0gdGltZV9sb3cgZmllbGQgKG9jdGV0IDAtMywgdWludDMyKS4KICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVNaWQ9MF0gdGltZV9taWQgZmllbGQgKG9jdGV0IDQtNSwgdWludDE2KS4KICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVIaUFuZFZlcnNpb249MF0gdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCAob2N0ZXQgNi03LCB1aW50MTYpLgogICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY2xvY2tTZXFIaUFuZFJlc2VydmVkPTBdIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgZmllbGQgKG9jdGV0IDgsIHVpbnQ4KS4KICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Nsb2NrU2VxTG93PTBdIGNsb2NrX3NlcV9sb3cgZmllbGQgKG9jdGV0IDksIHVpbnQ4KS4KICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gW25vZGU9MF0gbm9kZSBmaWVsZCAob2N0ZXQgMTAtMTUsIHVpbnQ0OCkuCiAgICAgICAgICogQHJldHVybnMge1VVSUR9IHRoaXMuCiAgICAgICAgICovCgoKICAgICAgICBVVUlELnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBuYW1lcyA9IFVVSUQuRklFTERfTkFNRVMsCiAgICAgICAgICAgICAgc2l6ZXMgPSBVVUlELkZJRUxEX1NJWkVTOwogICAgICAgICAgdmFyIGJpbiA9IFVVSUQuX2JpbkFsaWduZXIsCiAgICAgICAgICAgICAgaGV4ID0gVVVJRC5faGV4QWxpZ25lcjsKICAgICAgICAgIC8qKgogICAgICAgICAgICogVVVJRCBpbnRlcm5hbCBmaWVsZCB2YWx1ZXMgYXMgYW4gYXJyYXkgb2YgaW50ZWdlcnMuCiAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119CiAgICAgICAgICAgKi8KCiAgICAgICAgICB0aGlzLmludEZpZWxkcyA9IG5ldyBBcnJheSg2KTsKICAgICAgICAgIC8qKgogICAgICAgICAgICogVVVJRCBpbnRlcm5hbCBmaWVsZCB2YWx1ZXMgYXMgYW4gYXJyYXkgb2YgYmluYXJ5IHN0cmluZ3MuCiAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119CiAgICAgICAgICAgKi8KCiAgICAgICAgICB0aGlzLmJpdEZpZWxkcyA9IG5ldyBBcnJheSg2KTsKICAgICAgICAgIC8qKgogICAgICAgICAgICogVVVJRCBpbnRlcm5hbCBmaWVsZCB2YWx1ZXMgYXMgYW4gYXJyYXkgb2YgaGV4YWRlY2ltYWwgc3RyaW5ncy4KICAgICAgICAgICAqIEB0eXBlIHtzdHJpbmdbXX0KICAgICAgICAgICAqLwoKICAgICAgICAgIHRoaXMuaGV4RmllbGRzID0gbmV3IEFycmF5KDYpOwoKICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CiAgICAgICAgICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KGFyZ3VtZW50c1tpXSB8fCAwKTsKICAgICAgICAgICAgdGhpcy5pbnRGaWVsZHNbaV0gPSB0aGlzLmludEZpZWxkc1tuYW1lc1tpXV0gPSBpbnRWYWx1ZTsKICAgICAgICAgICAgdGhpcy5iaXRGaWVsZHNbaV0gPSB0aGlzLmJpdEZpZWxkc1tuYW1lc1tpXV0gPSBiaW4oaW50VmFsdWUsIHNpemVzW2ldKTsKICAgICAgICAgICAgdGhpcy5oZXhGaWVsZHNbaV0gPSB0aGlzLmhleEZpZWxkc1tuYW1lc1tpXV0gPSBoZXgoaW50VmFsdWUsIHNpemVzW2ldID4+PiAyKTsKICAgICAgICAgIH0KICAgICAgICAgIC8qKgogICAgICAgICAgICogVVVJRCB2ZXJzaW9uIG51bWJlci4KICAgICAgICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgICAgICAgKi8KCgogICAgICAgICAgdGhpcy52ZXJzaW9uID0gdGhpcy5pbnRGaWVsZHMudGltZUhpQW5kVmVyc2lvbiA+Pj4gMTIgJiAweEY7CiAgICAgICAgICAvKioKICAgICAgICAgICAqIDEyOC1iaXQgYmluYXJ5IHN0cmluZyByZXByZXNlbnRhdGlvbi4KICAgICAgICAgICAqIEB0eXBlIHtzdHJpbmd9CiAgICAgICAgICAgKi8KCiAgICAgICAgICB0aGlzLmJpdFN0cmluZyA9IHRoaXMuYml0RmllbGRzLmpvaW4oIiIpOwogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBOb24tZGVsaW1pdGVkIGhleGFkZWNpbWFsIHN0cmluZyByZXByZXNlbnRhdGlvbiAoInh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4IikuCiAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfQogICAgICAgICAgICogQHNpbmNlIHYzLjMuMAogICAgICAgICAgICovCgogICAgICAgICAgdGhpcy5oZXhOb0RlbGltID0gdGhpcy5oZXhGaWVsZHMuam9pbigiIik7CiAgICAgICAgICAvKioKICAgICAgICAgICAqIEhleGFkZWNpbWFsIHN0cmluZyByZXByZXNlbnRhdGlvbiAoInh4eHh4eHh4LXh4eHgteHh4eC14eHh4LXh4eHh4eHh4eHh4eCIpLgogICAgICAgICAgICogQHR5cGUge3N0cmluZ30KICAgICAgICAgICAqLwoKICAgICAgICAgIHRoaXMuaGV4U3RyaW5nID0gdGhpcy5oZXhGaWVsZHNbMF0gKyAiLSIgKyB0aGlzLmhleEZpZWxkc1sxXSArICItIiArIHRoaXMuaGV4RmllbGRzWzJdICsgIi0iICsgdGhpcy5oZXhGaWVsZHNbM10gKyB0aGlzLmhleEZpZWxkc1s0XSArICItIiArIHRoaXMuaGV4RmllbGRzWzVdOwogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBVUk4gc3RyaW5nIHJlcHJlc2VudGF0aW9uICgidXJuOnV1aWQ6eHh4eHh4eHgteHh4eC14eHh4LXh4eHgteHh4eHh4eHh4eHh4IikuCiAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfQogICAgICAgICAgICovCgogICAgICAgICAgdGhpcy51cm4gPSAidXJuOnV1aWQ6IiArIHRoaXMuaGV4U3RyaW5nOwogICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfTsKICAgICAgICAvKioKICAgICAgICAgKiBDb252ZXJ0cyBhbiBpbnRlZ2VyIHRvIGEgemVyby1maWxsZWQgYmluYXJ5IHN0cmluZy4KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW0KICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoCiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30KICAgICAgICAgKi8KCgogICAgICAgIFVVSUQuX2JpbkFsaWduZXIgPSBmdW5jdGlvbiAobnVtLCBsZW5ndGgpIHsKICAgICAgICAgIHZhciBzdHIgPSBudW0udG9TdHJpbmcoMiksCiAgICAgICAgICAgICAgaSA9IGxlbmd0aCAtIHN0ci5sZW5ndGgsCiAgICAgICAgICAgICAgeiA9ICIwIjsKCiAgICAgICAgICBmb3IgKDsgaSA+IDA7IGkgPj4+PSAxLCB6ICs9IHopIHsKICAgICAgICAgICAgaWYgKGkgJiAxKSB7CiAgICAgICAgICAgICAgc3RyID0geiArIHN0cjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBzdHI7CiAgICAgICAgfTsKICAgICAgICAvKioKICAgICAgICAgKiBSZXR1cm5zIHRoZSBoZXhhZGVjaW1hbCBzdHJpbmcgcmVwcmVzZW50YXRpb24uCiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30ge0BsaW5rIFVVSUQjaGV4U3RyaW5nfS4KICAgICAgICAgKi8KCgogICAgICAgIFVVSUQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaGV4U3RyaW5nOwogICAgICAgIH07CiAgICAgICAgLyoqCiAgICAgICAgICogVGVzdHMgaWYgdHdvIHtAbGluayBVVUlEfSBvYmplY3RzIGFyZSBlcXVhbC4KICAgICAgICAgKiBAcGFyYW0ge1VVSUR9IHV1aWQKICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0d28ge0BsaW5rIFVVSUR9IG9iamVjdHMgYXJlIGVxdWFsLgogICAgICAgICAqLwoKCiAgICAgICAgVVVJRC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHV1aWQpIHsKICAgICAgICAgIGlmICghKHV1aWQgaW5zdGFuY2VvZiBVVUlEKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICAgICAgaWYgKHRoaXMuaW50RmllbGRzW2ldICE9PSB1dWlkLmludEZpZWxkc1tpXSkgewogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH07CiAgICAgICAgLyoqCiAgICAgICAgICogTmlsIFVVSUQgb2JqZWN0LgogICAgICAgICAqIEB0eXBlIHtVVUlEfQogICAgICAgICAqIEBjb25zdGFudAogICAgICAgICAqIEBzaW5jZSB2My40LjAKICAgICAgICAgKi8KCgogICAgICAgIFVVSUQuTklMID0gbmV3IFVVSUQoKS5faW5pdCgwLCAwLCAwLCAwLCAwLCAwKTsgLy8gfX19CiAgICAgICAgLy8gVVVJRCBWZXJzaW9uIDEgQ29tcG9uZW50IHt7ewoKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIGEgdmVyc2lvbiAxIHtAbGluayBVVUlEfSBvYmplY3QuCiAgICAgICAgICogQHJldHVybnMge1VVSUR9IFZlcnNpb24gMSB7QGxpbmsgVVVJRH0gb2JqZWN0LgogICAgICAgICAqIEBzaW5jZSAzLjAKICAgICAgICAgKi8KCiAgICAgICAgVVVJRC5nZW5WMSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChVVUlELl9zdGF0ZSA9PSBudWxsKSB7CiAgICAgICAgICAgIFVVSUQucmVzZXRTdGF0ZSgpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICAgICAgICBzdCA9IFVVSUQuX3N0YXRlOwoKICAgICAgICAgIGlmIChub3cgIT0gc3QudGltZXN0YW1wKSB7CiAgICAgICAgICAgIGlmIChub3cgPCBzdC50aW1lc3RhbXApIHsKICAgICAgICAgICAgICBzdC5zZXF1ZW5jZSsrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBzdC50aW1lc3RhbXAgPSBub3c7CiAgICAgICAgICAgIHN0LnRpY2sgPSBVVUlELl9nZXRSYW5kb21JbnQoNCk7CiAgICAgICAgICB9IGVsc2UgaWYgKE1hdGgucmFuZG9tKCkgPCBVVUlELl90c1JhdGlvICYmIHN0LnRpY2sgPCA5OTg0KSB7CiAgICAgICAgICAgIC8vIGFkdmFuY2UgdGhlIHRpbWVzdGFtcCBmcmFjdGlvbiBhdCBhIHByb2JhYmlsaXR5CiAgICAgICAgICAgIC8vIHRvIGNvbXBlbnNhdGUgZm9yIHRoZSBsb3cgdGltZXN0YW1wIHJlc29sdXRpb24KICAgICAgICAgICAgc3QudGljayArPSAxICsgVVVJRC5fZ2V0UmFuZG9tSW50KDQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3Quc2VxdWVuY2UrKzsKICAgICAgICAgIH0gLy8gZm9ybWF0IHRpbWUgZmllbGRzCgoKICAgICAgICAgIHZhciB0ZiA9IFVVSUQuX2dldFRpbWVGaWVsZFZhbHVlcyhzdC50aW1lc3RhbXApOwoKICAgICAgICAgIHZhciB0bCA9IHRmLmxvdyArIHN0LnRpY2s7CiAgICAgICAgICB2YXIgdGhhdiA9IHRmLmhpICYgMHhGRkYgfCAweDEwMDA7IC8vIHNldCB2ZXJzaW9uICcwMDAxJwogICAgICAgICAgLy8gZm9ybWF0IGNsb2NrIHNlcXVlbmNlCgogICAgICAgICAgc3Quc2VxdWVuY2UgJj0gMHgzRkZGOwogICAgICAgICAgdmFyIGNzaGFyID0gc3Quc2VxdWVuY2UgPj4+IDggfCAweDgwOyAvLyBzZXQgdmFyaWFudCAnMTAnCgogICAgICAgICAgdmFyIGNzbCA9IHN0LnNlcXVlbmNlICYgMHhGRjsKICAgICAgICAgIHJldHVybiBuZXcgVVVJRCgpLl9pbml0KHRsLCB0Zi5taWQsIHRoYXYsIGNzaGFyLCBjc2wsIHN0Lm5vZGUpOwogICAgICAgIH07CiAgICAgICAgLyoqCiAgICAgICAgICogUmUtaW5pdGlhbGl6ZXMgdGhlIGludGVybmFsIHN0YXRlIGZvciB2ZXJzaW9uIDEgVVVJRCBjcmVhdGlvbi4KICAgICAgICAgKiBAc2luY2UgMy4wCiAgICAgICAgICovCgoKICAgICAgICBVVUlELnJlc2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBVVUlELl9zdGF0ZSA9IG5ldyBVVUlEU3RhdGUoKTsKICAgICAgICB9OwoKICAgICAgICBmdW5jdGlvbiBVVUlEU3RhdGUoKSB7CiAgICAgICAgICB2YXIgcmFuZCA9IFVVSUQuX2dldFJhbmRvbUludDsKICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gMDsKICAgICAgICAgIHRoaXMuc2VxdWVuY2UgPSByYW5kKDE0KTsKICAgICAgICAgIHRoaXMubm9kZSA9IChyYW5kKDgpIHwgMSkgKiAweDEwMDAwMDAwMDAwICsgcmFuZCg0MCk7IC8vIHNldCBtdWx0aWNhc3QgYml0ICcxJwoKICAgICAgICAgIHRoaXMudGljayA9IHJhbmQoNCk7IC8vIHRpbWVzdGFtcCBmcmFjdGlvbiBzbWFsbGVyIHRoYW4gYSBtaWxsaXNlY29uZAogICAgICAgIH0KICAgICAgICAvKioKICAgICAgICAgKiBQcm9iYWJpbGl0eSB0byBhZHZhbmNlIHRoZSB0aW1lc3RhbXAgZnJhY3Rpb246IHRoZSByYXRpbyBvZiB0aWNrIG1vdmVtZW50cyB0byBzZXF1ZW5jZSBpbmNyZW1lbnRzLgogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICogQHR5cGUge251bWJlcn0KICAgICAgICAgKi8KCgogICAgICAgIFVVSUQuX3RzUmF0aW8gPSAxIC8gNDsKICAgICAgICAvKioKICAgICAgICAgKiBQZXJzaXN0ZW50IGludGVybmFsIHN0YXRlIGZvciB2ZXJzaW9uIDEgVVVJRCBjcmVhdGlvbi4KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqIEB0eXBlIHtVVUlEU3RhdGV9CiAgICAgICAgICovCgogICAgICAgIFVVSUQuX3N0YXRlID0gbnVsbDsKICAgICAgICAvKioKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqIEBwYXJhbSB7RGF0ZXxudW1iZXJ9IHRpbWUgRUNNQVNjcmlwdCBEYXRlIE9iamVjdCBvciBtaWxsaXNlY29uZHMgZnJvbSAxOTcwLTAxLTAxLgogICAgICAgICAqIEByZXR1cm5zIHthbnl9CiAgICAgICAgICovCgogICAgICAgIFVVSUQuX2dldFRpbWVGaWVsZFZhbHVlcyA9IGZ1bmN0aW9uICh0aW1lKSB7CiAgICAgICAgICB2YXIgdHMgPSB0aW1lIC0gRGF0ZS5VVEMoMTU4MiwgOSwgMTUpOwogICAgICAgICAgdmFyIGhtID0gdHMgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhGRkZGRkZGOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbG93OiAodHMgJiAweEZGRkZGRkYpICogMTAwMDAgJSAweDEwMDAwMDAwMCwKICAgICAgICAgICAgbWlkOiBobSAmIDB4RkZGRiwKICAgICAgICAgICAgaGk6IGhtID4+PiAxNiwKICAgICAgICAgICAgdGltZXN0YW1wOiB0cwogICAgICAgICAgfTsKICAgICAgICB9OyAvLyB9fX0KICAgICAgICAvLyBjcmVhdGUgbG9jYWwgbmFtZXNwYWNlCgoKICAgICAgICBmdW5jdGlvbiBVVUlEKCkge30gLy8gZm9yIG5vZGVqcwoKCiAgICAgICAgaWYgKF90eXBlb2YobW9kdWxlKSA9PT0gIm9iamVjdCIgJiYgX3R5cGVvZihtb2R1bGUuZXhwb3J0cykgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IFVVSUQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gVVVJRDsKICAgICAgfShVVUlEKTsgLy8gdmltOiBmZG09bWFya2VyIGZtciYKCiAgICAgIC8qKiovCgogICAgfSwKICAgIC8qIDQgKi8KCiAgICAvKioqLwogICAgZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICAgICAvKiAoaWdub3JlZCkgKi8KCiAgICAgIC8qKiovCiAgICB9CiAgICAvKioqKioqLwogICAgXSkKICApOwp9KTs="},{"version":3,"sources":["/Users/qitmac001131/Desktop/test/sniperjs/example/node/node_modules/@qnpm/skyeye-web/dist/skyeye.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","a","i","self","modules","installedModules","__webpack_require__","moduleId","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__computeStackTrace__","__WEBPACK_IMPORTED_MODULE_1__instrumentDOM__","__WEBPACK_IMPORTED_MODULE_2_uuidjs__","__WEBPACK_IMPORTED_MODULE_2_uuidjs___default","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","writable","skyEyeInfo","defaultOpts","xhrRecordSize","domOperationSize","pageName","window","__page_id","domOperationList","ajaxList","sendError","data","request","XMLHttpRequest","skyEyeReq","onreadystatechange","open","setRequestHeader","traceId","send","JSON","stringify","fill","replacement","original","wrapped","instrumentXHR","xhrRecord","xhrErrorRecord","xhrproto","originalSend","_len","args","Array","_key","xhr","startTimestamp","Date","now","onreadystatechangeHandler","readyState","endTimestamp","xhrData","duration","responseURL","status","response","messageType","sendAjax","e","_len2","readyStateArgs","_key2","captureException","err","filename","error","_ref","stack","message","errorMessage","errorStack","nowTime","stackTrace","htmlRecord","html","document","documentElement","outerHTML","init","options","generate","addEventListener","UNKNOWN_FUNCTION","chrome","gecko","winjs","geckoEval","chromeEval","computeStackTraceFromStackProp","ex","lines","split","isEval","submatch","parts","element","exec","isNative","indexOf","url","substr","func","line","column","columnNumber","extractMessage","computeStackTraceFromStacktraceProp","stacktrace","opera10Regex","opera11Regex","popFrames","popSize","assign","slice","computeStackTrace","framesToPop","failed","isString","wat","toString","htmlTreeAsString","elem","currentElem","MAX_TRAVERSE_HEIGHT","MAX_OUTPUT_LEN","out","height","len","separator","sepLength","nextStr","_htmlElementAsString","parentNode","reverse","join","_oO","el","className","classes","attr","tagName","toLowerCase","id","concat","attrWhitelist","getAttribute","event","targetPath","shift","type","UUID","overwrittenUUID","rand","_getRandomInt","hex","_hexAligner","x","NaN","Math","random","num","str","z","mathPRNG","useMathRandom","crypto","cryptoPRNG","msCrypto","getRandomValues","Uint32Array","ns","randomBytes","buf","readUInt32BE","FIELD_NAMES","FIELD_SIZES","genV4","_init","parse","strId","r","t","parseInt","names","sizes","bin","_binAligner","intFields","bitFields","hexFields","intValue","version","timeHiAndVersion","bitString","hexNoDelim","hexString","urn","equals","uuid","NIL","genV1","_state","resetState","getTime","st","timestamp","sequence","tick","_tsRatio","tf","_getTimeFieldValues","tl","low","thav","hi","cshar","csl","mid","node","UUIDState","time","ts","UTC","hm"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__computeStackTrace__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__instrumentDOM__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_uuidjs__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_uuidjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_uuidjs__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Created by jiangyuhe on 2020/3/8.\n */\n\n\n\nvar skyEyeInfo = {};\nvar defaultOpts = {\n  xhrRecordSize: 5,\n  domOperationSize: 10,\n  pageName: window.__page_id || ''\n};\nvar domOperationList = [];\nvar ajaxList = [];\n\nfunction sendError(data) {\n  var request = new XMLHttpRequest();\n  request.skyEyeReq = true;\n\n  request.onreadystatechange = function () {};\n\n  request.open('POST', '//log.flight.qunar.com/errorHandle/errorRecord');\n  request.setRequestHeader('Content-Type', 'application/json');\n  data.traceId = skyEyeInfo.traceId;\n  request.send(JSON.stringify(data));\n}\n\nfunction fill(source, name, replacement) {\n  var original = source[name];\n  var wrapped = replacement(original);\n  source[name] = wrapped;\n}\n\nfunction instrumentXHR() {\n  try {\n    if (skyEyeInfo.xhrRecord || skyEyeInfo.xhrErrorRecord) {\n      var xhrproto = XMLHttpRequest.prototype;\n      fill(xhrproto, 'send', function (originalSend) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var xhr = this;\n          var startTimestamp = Date.now();\n\n          function onreadystatechangeHandler() {\n            try {\n              if (!xhr.skyEyeReq && xhr.readyState === 4) {\n                var endTimestamp = Date.now();\n                var xhrData = {\n                  args: args,\n                  endTimestamp: endTimestamp,\n                  startTimestamp: startTimestamp,\n                  duration: endTimestamp - startTimestamp,\n                  responseURL: xhr.responseURL,\n                  status: xhr.status,\n                  response: xhr.response\n                };\n\n                if (xhr.status != 200) {\n                  sendError({\n                    messageType: 'xhrError',\n                    xhrData: xhrData\n                  });\n                } else {\n                  if (skyEyeInfo.xhrRecord) {\n                    ajaxList.push(xhrData);\n\n                    if (ajaxList.length > skyEyeInfo.xhrRecordSize - 1) {\n                      sendAjax();\n                    }\n                  }\n                }\n              }\n            } catch (e) {}\n          }\n\n          if ('onreadystatechange' in xhr && typeof xhr.onreadystatechange === 'function') {\n            fill(xhr, 'onreadystatechange', function (original) {\n              return function () {\n                onreadystatechangeHandler();\n\n                for (var _len2 = arguments.length, readyStateArgs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  readyStateArgs[_key2] = arguments[_key2];\n                }\n\n                return original.apply(xhr, readyStateArgs);\n              };\n            });\n          } else {\n            // if onreadystatechange wasn't actually set by the page on this xhr, we\n            // are free to set our own and capture the breadcrumb\n            xhr.onreadystatechange = onreadystatechangeHandler;\n          }\n\n          return originalSend.apply(this, args);\n        };\n      });\n    }\n  } catch (e) {}\n}\n\nfunction sendAjax() {\n  if (skyEyeInfo.xhrRecord) {\n    sendError({\n      messageType: 'xhrList',\n      ajaxList: ajaxList\n    });\n    ajaxList = [];\n  }\n}\n\nfunction captureException(err) {\n  try {\n    var filename = err.filename || '';\n    var error = err.error || {};\n\n    var _ref = Object(__WEBPACK_IMPORTED_MODULE_0__computeStackTrace__[\"a\" /* default */])(error) || {},\n        stack = _ref.stack,\n        message = _ref.message,\n        name = _ref.name;\n\n    var data = _objectSpread({\n      messageType: 'captureException',\n      errorMessage: err.message,\n      errorStack: error.stack || '',\n      nowTime: Date.now(),\n      filename: filename,\n      message: message,\n      name: name,\n      domOperationList: domOperationList,\n      stackTrace: stack\n    }, skyEyeInfo);\n\n    sendAjax();\n    sendError(data);\n\n    if (skyEyeInfo.htmlRecord) {\n      sendError({\n        messageType: 'pageHtml',\n        html: document.documentElement.outerHTML\n      });\n    }\n  } catch (e) {}\n}\n\nfunction init(options) {\n  //projectName,pageName\n  try {\n    skyEyeInfo = _objectSpread({}, defaultOpts, {}, options);\n    skyEyeInfo.traceId = __WEBPACK_IMPORTED_MODULE_2_uuidjs___default.a.generate();\n    Object(__WEBPACK_IMPORTED_MODULE_1__instrumentDOM__[\"a\" /* default */])(domOperationList, skyEyeInfo);\n    instrumentXHR();\n    window.addEventListener('error', function (err) {\n      captureException(err);\n    });\n  } catch (e) {}\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  init: init,\n  captureException: captureException\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * Created by jiangyuhe on 2020/3/8.\n */\n\n/**\n * Created by jiangyuhe on 2020/2/19.\n */\n// tslint:disable:object-literal-sort-keys\n// global reference to slice\nvar UNKNOWN_FUNCTION = '?'; // Chromium based browsers: Chrome, Brave, new Opera, new Edge\n\nvar chrome = /^\\s*at (?:(.*?) ?\\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\\/).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i; // gecko regex: `(?:bundle|\\d+\\.js)`: `bundle` is for react native, `\\d+\\.js` also but specifically for ram bundles because it\n// generates filenames without a prefix like `file://` the filenames in the stacktrace are just 42.js\n// We need this specific case for now because we want no other regex to match.\n\nvar gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js))(?::(\\d+))?(?::(\\d+))?\\s*$/i;\nvar winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nvar geckoEval = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i;\nvar chromeEval = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/;\n/** JSDoc */\n// tslint:disable-next-line:cyclomatic-complexity\n\nfunction computeStackTraceFromStackProp(ex) {\n  // tslint:disable:no-conditional-assignment\n  if (!ex || !ex.stack) {\n    return null;\n  }\n\n  var stack = [];\n  var lines = ex.stack.split('\\n');\n  var isEval;\n  var submatch;\n  var parts;\n  var element;\n\n  for (var i = 0; i < lines.length; ++i) {\n    if (parts = chrome.exec(lines[i])) {\n      var isNative = parts[2] && parts[2].indexOf('native') === 0; // start of line\n\n      isEval = parts[2] && parts[2].indexOf('eval') === 0; // start of line\n\n      if (isEval && (submatch = chromeEval.exec(parts[2]))) {\n        // throw out eval line/column and use top-most line/column number\n        parts[2] = submatch[1]; // url\n\n        parts[3] = submatch[2]; // line\n\n        parts[4] = submatch[3]; // column\n      }\n\n      element = {\n        // working with the regexp above is super painful. it is quite a hack, but just stripping the `address at `\n        // prefix here seems like the quickest solution for now.\n        url: parts[2] && parts[2].indexOf('address at ') === 0 ? parts[2].substr('address at '.length) : parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: isNative ? [parts[2]] : [],\n        line: parts[3] ? +parts[3] : null,\n        column: parts[4] ? +parts[4] : null\n      };\n    } else if (parts = winjs.exec(lines[i])) {\n      element = {\n        url: parts[2],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: [],\n        line: +parts[3],\n        column: parts[4] ? +parts[4] : null\n      };\n    } else if (parts = gecko.exec(lines[i])) {\n      isEval = parts[3] && parts[3].indexOf(' > eval') > -1;\n\n      if (isEval && (submatch = geckoEval.exec(parts[3]))) {\n        // throw out eval line/column and use top-most line number\n        parts[1] = parts[1] || \"eval\";\n        parts[3] = submatch[1];\n        parts[4] = submatch[2];\n        parts[5] = ''; // no column when eval\n      } else if (i === 0 && !parts[5] && ex.columnNumber !== void 0) {\n        // FireFox uses this awesome columnNumber property for its top frame\n        // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n        // so adding 1\n        // NOTE: this hack doesn't work if top-most frame is eval\n        stack[0].column = ex.columnNumber + 1;\n      }\n\n      element = {\n        url: parts[3],\n        func: parts[1] || UNKNOWN_FUNCTION,\n        args: parts[2] ? parts[2].split(',') : [],\n        line: parts[4] ? +parts[4] : null,\n        column: parts[5] ? +parts[5] : null\n      };\n    } else {\n      continue;\n    }\n\n    if (!element.func && element.line) {\n      element.func = UNKNOWN_FUNCTION;\n    }\n\n    stack.push(element);\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack: stack\n  };\n}\n/** JSDoc */\n\n\nfunction computeStackTraceFromStacktraceProp(ex) {\n  if (!ex || !ex.stacktrace) {\n    return null;\n  } // Access and store the stacktrace property before doing ANYTHING\n  // else to it because Opera is not very good at providing it\n  // reliably in other circumstances.\n\n\n  var stacktrace = ex.stacktrace;\n  var opera10Regex = / line (\\d+).*script (?:in )?(\\S+)(?:: in function (\\S+))?$/i;\n  var opera11Regex = / line (\\d+), column (\\d+)\\s*(?:in (?:<anonymous function: ([^>]+)>|([^\\)]+))\\((.*)\\))? in (.*):\\s*$/i;\n  var lines = stacktrace.split('\\n');\n  var stack = [];\n  var parts;\n\n  for (var line = 0; line < lines.length; line += 2) {\n    // tslint:disable:no-conditional-assignment\n    var element = null;\n\n    if (parts = opera10Regex.exec(lines[line])) {\n      element = {\n        url: parts[2],\n        func: parts[3],\n        args: [],\n        line: +parts[1],\n        column: null\n      };\n    } else if (parts = opera11Regex.exec(lines[line])) {\n      element = {\n        url: parts[6],\n        func: parts[3] || parts[4],\n        args: parts[5] ? parts[5].split(',') : [],\n        line: +parts[1],\n        column: +parts[2]\n      };\n    }\n\n    if (element) {\n      if (!element.func && element.line) {\n        element.func = UNKNOWN_FUNCTION;\n      }\n\n      stack.push(element);\n    }\n  }\n\n  if (!stack.length) {\n    return null;\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex.name,\n    stack: stack\n  };\n}\n/** Remove N number of frames from the stack */\n\n\nfunction popFrames(stacktrace, popSize) {\n  try {\n    return Object.assign({}, stacktrace, {\n      stack: stacktrace.stack.slice(popSize)\n    });\n  } catch (e) {\n    return stacktrace;\n  }\n}\n/**\n * There are cases where stacktrace.message is an Event object\n * https://github.com/getsentry/sentry-javascript/issues/1949\n * In this specific case we try to extract stacktrace.message.error.message\n */\n\n\nfunction extractMessage(ex) {\n  var message = ex && ex.message;\n\n  if (!message) {\n    return 'No error message';\n  }\n\n  if (message.error && typeof message.error.message === 'string') {\n    return message.error.message;\n  }\n\n  return message;\n}\n/** JSDoc */\n\n\nfunction computeStackTrace(ex) {\n  // tslint:disable:no-unsafe-any\n  var stack = null;\n  var popSize = ex && ex.framesToPop;\n\n  try {\n    // This must be tried first because Opera 10 *destroys*\n    // its stacktrace property if you try to access the stack\n    // property first!!\n    stack = computeStackTraceFromStacktraceProp(ex);\n\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {// no-empty\n  }\n\n  try {\n    stack = computeStackTraceFromStackProp(ex);\n\n    if (stack) {\n      return popFrames(stack, popSize);\n    }\n  } catch (e) {// no-empty\n  }\n\n  return {\n    message: extractMessage(ex),\n    name: ex && ex.name,\n    stack: [],\n    failed: true\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (computeStackTrace);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * Created by jiangyuhe on 2020/3/10.\n */\nfunction isString(wat) {\n  return Object.prototype.toString.call(wat) === '[object String]';\n}\n\nfunction htmlTreeAsString(elem) {\n  // try/catch both:\n  // - accessing event.target (see getsentry/raven-js#838, #768)\n  // - `htmlTreeAsString` because it's complex, and just accessing the DOM incorrectly\n  // - can throw an exception in some circumstances.\n  try {\n    var currentElem = elem;\n    var MAX_TRAVERSE_HEIGHT = 5;\n    var MAX_OUTPUT_LEN = 80;\n    var out = [];\n    var height = 0;\n    var len = 0;\n    var separator = ' > ';\n    var sepLength = separator.length;\n    var nextStr;\n\n    while (currentElem && height++ < MAX_TRAVERSE_HEIGHT) {\n      nextStr = _htmlElementAsString(currentElem); // bail out if\n      // - nextStr is the 'html' element\n      // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n      //   (ignore this limit if we are on the first iteration)\n\n      if (nextStr === 'html' || height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN) {\n        break;\n      }\n\n      out.push(nextStr);\n      len += nextStr.length;\n      currentElem = currentElem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @returns generated DOM path\n */\n\n\nfunction _htmlElementAsString(el) {\n  var elem = el;\n  var out = [];\n  var className;\n  var classes;\n  var key;\n  var attr;\n  var i;\n\n  if (!elem || !elem.tagName) {\n    return '';\n  }\n\n  out.push(elem.tagName.toLowerCase());\n\n  if (elem.id) {\n    out.push(\"#\".concat(elem.id));\n  }\n\n  className = elem.className;\n\n  if (className && isString(className)) {\n    classes = className.split(/\\s+/);\n\n    for (i = 0; i < classes.length; i++) {\n      out.push(\".\".concat(classes[i]));\n    }\n  }\n\n  var attrWhitelist = ['type', 'name'];\n\n  for (i = 0; i < attrWhitelist.length; i++) {\n    key = attrWhitelist[i];\n    attr = elem.getAttribute(key);\n\n    if (attr) {\n      out.push(\"[\".concat(key, \"=\\\"\").concat(attr, \"\\\"]\"));\n    }\n  }\n\n  return out.join('');\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (domOperationList, skyEyeInfo) {\n  document.addEventListener('click', function (event) {\n    try {\n      var target = event.target;\n      var targetPath = htmlTreeAsString(target);\n      htmlTreeAsString();\n\n      if (domOperationList.length > skyEyeInfo.domOperationSize) {\n        domOperationList.shift();\n      }\n\n      domOperationList.push({\n        target: targetPath,\n        type: 'click',\n        nowTime: Date.now()\n      });\n    } catch (e) {}\n  });\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * UUID.js - RFC-compliant UUID Generator for JavaScript\n *\n * @file\n * @author  LiosK\n * @version v4.2.4\n * @license Apache License 2.0: Copyright (c) 2010-2019 LiosK\n */\n\n/**\n * @class\n * @classdesc {@link UUID} object.\n * @hideconstructor\n */\nvar UUID;\n\nUUID = (function(overwrittenUUID) {\n\"use strict\";\n\n// Core Component {{{\n\n/**\n * Generates a version 4 UUID as a hexadecimal string.\n * @returns {string} Hexadecimal UUID string.\n */\nUUID.generate = function() {\n  var rand = UUID._getRandomInt, hex = UUID._hexAligner;\n  return  hex(rand(32), 8)          // time_low\n        + \"-\"\n        + hex(rand(16), 4)          // time_mid\n        + \"-\"\n        + hex(0x4000 | rand(12), 4) // time_hi_and_version\n        + \"-\"\n        + hex(0x8000 | rand(14), 4) // clock_seq_hi_and_reserved clock_seq_low\n        + \"-\"\n        + hex(rand(48), 12);        // node\n};\n\n/**\n * Returns an unsigned x-bit random integer.\n * @private\n * @param {number} x Unsigned integer ranging from 0 to 53, inclusive.\n * @returns {number} Unsigned x-bit random integer (0 <= f(x) < 2^x).\n */\nUUID._getRandomInt = function(x) {\n  if (x < 0 || x > 53) { return NaN; }\n  var n = 0 | Math.random() * 0x40000000; // 1 << 30\n  return x > 30 ? n + (0 | Math.random() * (1 << x - 30)) * 0x40000000 : n >>> 30 - x;\n};\n\n/**\n * Converts an integer to a zero-filled hexadecimal string.\n * @private\n * @param {number} num\n * @param {number} length\n * @returns {string}\n */\nUUID._hexAligner = function(num, length) {\n  var str = num.toString(16), i = length - str.length, z = \"0\";\n  for (; i > 0; i >>>= 1, z += z) { if (i & 1) { str = z + str; } }\n  return str;\n};\n\n/**\n * Retains the value of 'UUID' global variable assigned before loading UUID.js.\n * @since 3.2\n * @type {any}\n */\nUUID.overwrittenUUID = overwrittenUUID;\n\n// }}}\n\n// Advanced Random Number Generator Component {{{\n\n(function() {\n\n  var mathPRNG = UUID._getRandomInt;\n\n  /**\n   * Enables Math.random()-based pseudorandom number generator instead of cryptographically safer options.\n   * @since v3.5.0\n   * @deprecated This method is provided only to work around performance drawbacks of the safer algorithms.\n   */\n  UUID.useMathRandom = function() {\n    UUID._getRandomInt = mathPRNG;\n  };\n\n  var crypto = null, cryptoPRNG = mathPRNG;\n  if (typeof window !== \"undefined\" && (crypto = window.crypto || window.msCrypto)) {\n    if (crypto.getRandomValues && typeof Uint32Array !== \"undefined\") {\n      // Web Cryptography API\n      cryptoPRNG = function(x) {\n        if (x < 0 || x > 53) { return NaN; }\n        var ns = new Uint32Array(x > 32 ? 2 : 1);\n        ns = crypto.getRandomValues(ns) || ns;\n        return x > 32 ? ns[0] + (ns[1] >>> 64 - x) * 0x100000000 : ns[0] >>> 32 - x;\n      };\n    }\n  } else if (\"function\" !== \"undefined\" && (crypto = __webpack_require__(4))) {\n    if (crypto.randomBytes) {\n      // nodejs\n      cryptoPRNG = function(x) {\n        if (x < 0 || x > 53) { return NaN; }\n        var buf = crypto.randomBytes(x > 32 ? 8 : 4), n = buf.readUInt32BE(0);\n        return x > 32 ? n + (buf.readUInt32BE(4) >>> 64 - x) * 0x100000000 : n >>> 32 - x;\n      };\n    }\n  }\n  UUID._getRandomInt = cryptoPRNG;\n\n})();\n\n// }}}\n\n// UUID Object Component {{{\n\n/**\n * Names of UUID internal fields.\n * @type {string[]}\n * @constant\n * @since 3.0\n */\nUUID.FIELD_NAMES = [\"timeLow\", \"timeMid\", \"timeHiAndVersion\",\n                    \"clockSeqHiAndReserved\", \"clockSeqLow\", \"node\"];\n\n/**\n * Sizes of UUID internal fields.\n * @type {number[]}\n * @constant\n * @since 3.0\n */\nUUID.FIELD_SIZES = [32, 16, 16, 8, 8, 48];\n\n/**\n * Creates a version 4 {@link UUID} object.\n * @returns {UUID} Version 4 {@link UUID} object.\n * @since 3.0\n */\nUUID.genV4 = function() {\n  var rand = UUID._getRandomInt;\n  return new UUID()._init(rand(32), rand(16), // time_low time_mid\n                          0x4000 | rand(12),  // time_hi_and_version\n                          0x80   | rand(6),   // clock_seq_hi_and_reserved\n                          rand(8), rand(48)); // clock_seq_low node\n};\n\n/**\n * Converts a hexadecimal UUID string to a {@link UUID} object.\n * @param {string} strId Hexadecimal UUID string (\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\").\n * @returns {UUID} {@link UUID} object or null.\n * @since 3.0\n */\nUUID.parse = function(strId) {\n  var r, p = /^\\s*(urn:uuid:|\\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\\})?\\s*$/i;\n  if (r = p.exec(strId)) {\n    var l = r[1] || \"\", t = r[8] || \"\";\n    if (((l + t) === \"\") ||\n        (l === \"{\" && t === \"}\") ||\n        (l.toLowerCase() === \"urn:uuid:\" && t === \"\")) {\n      return new UUID()._init(parseInt(r[2], 16), parseInt(r[3], 16),\n                              parseInt(r[4], 16), parseInt(r[5], 16),\n                              parseInt(r[6], 16), parseInt(r[7], 16));\n    }\n  }\n  return null;\n};\n\n/**\n * Initializes a {@link UUID} object.\n * @private\n * @constructs UUID\n * @param {number} [timeLow=0] time_low field (octet 0-3, uint32).\n * @param {number} [timeMid=0] time_mid field (octet 4-5, uint16).\n * @param {number} [timeHiAndVersion=0] time_hi_and_version field (octet 6-7, uint16).\n * @param {number} [clockSeqHiAndReserved=0] clock_seq_hi_and_reserved field (octet 8, uint8).\n * @param {number} [clockSeqLow=0] clock_seq_low field (octet 9, uint8).\n * @param {number} [node=0] node field (octet 10-15, uint48).\n * @returns {UUID} this.\n */\nUUID.prototype._init = function() {\n  var names = UUID.FIELD_NAMES, sizes = UUID.FIELD_SIZES;\n  var bin = UUID._binAligner, hex = UUID._hexAligner;\n\n  /**\n   * UUID internal field values as an array of integers.\n   * @type {number[]}\n   */\n  this.intFields = new Array(6);\n\n  /**\n   * UUID internal field values as an array of binary strings.\n   * @type {string[]}\n   */\n  this.bitFields = new Array(6);\n\n  /**\n   * UUID internal field values as an array of hexadecimal strings.\n   * @type {string[]}\n   */\n  this.hexFields = new Array(6);\n\n  for (var i = 0; i < 6; i++) {\n    var intValue = parseInt(arguments[i] || 0);\n    this.intFields[i] = this.intFields[names[i]] = intValue;\n    this.bitFields[i] = this.bitFields[names[i]] = bin(intValue, sizes[i]);\n    this.hexFields[i] = this.hexFields[names[i]] = hex(intValue, sizes[i] >>> 2);\n  }\n\n  /**\n   * UUID version number.\n   * @type {number}\n   */\n  this.version = (this.intFields.timeHiAndVersion >>> 12) & 0xF;\n\n  /**\n   * 128-bit binary string representation.\n   * @type {string}\n   */\n  this.bitString = this.bitFields.join(\"\");\n\n  /**\n   * Non-delimited hexadecimal string representation (\"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\").\n   * @type {string}\n   * @since v3.3.0\n   */\n  this.hexNoDelim = this.hexFields.join(\"\");\n\n  /**\n   * Hexadecimal string representation (\"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\").\n   * @type {string}\n   */\n  this.hexString = this.hexFields[0] + \"-\" + this.hexFields[1] + \"-\" + this.hexFields[2]\n                 + \"-\" + this.hexFields[3] + this.hexFields[4] + \"-\" + this.hexFields[5];\n\n  /**\n   * URN string representation (\"urn:uuid:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\").\n   * @type {string}\n   */\n  this.urn = \"urn:uuid:\" + this.hexString;\n\n  return this;\n};\n\n/**\n * Converts an integer to a zero-filled binary string.\n * @private\n * @param {number} num\n * @param {number} length\n * @returns {string}\n */\nUUID._binAligner = function(num, length) {\n  var str = num.toString(2), i = length - str.length, z = \"0\";\n  for (; i > 0; i >>>= 1, z += z) { if (i & 1) { str = z + str; } }\n  return str;\n};\n\n/**\n * Returns the hexadecimal string representation.\n * @returns {string} {@link UUID#hexString}.\n */\nUUID.prototype.toString = function() { return this.hexString; };\n\n/**\n * Tests if two {@link UUID} objects are equal.\n * @param {UUID} uuid\n * @returns {boolean} True if two {@link UUID} objects are equal.\n */\nUUID.prototype.equals = function(uuid) {\n  if (!(uuid instanceof UUID)) { return false; }\n  for (var i = 0; i < 6; i++) {\n    if (this.intFields[i] !== uuid.intFields[i]) { return false; }\n  }\n  return true;\n};\n\n/**\n * Nil UUID object.\n * @type {UUID}\n * @constant\n * @since v3.4.0\n */\nUUID.NIL = new UUID()._init(0, 0, 0, 0, 0, 0);\n\n// }}}\n\n// UUID Version 1 Component {{{\n\n/**\n * Creates a version 1 {@link UUID} object.\n * @returns {UUID} Version 1 {@link UUID} object.\n * @since 3.0\n */\nUUID.genV1 = function() {\n  if (UUID._state == null) { UUID.resetState(); }\n  var now = new Date().getTime(), st = UUID._state;\n  if (now != st.timestamp) {\n    if (now < st.timestamp) { st.sequence++; }\n    st.timestamp = now;\n    st.tick = UUID._getRandomInt(4);\n  } else if (Math.random() < UUID._tsRatio && st.tick < 9984) {\n    // advance the timestamp fraction at a probability\n    // to compensate for the low timestamp resolution\n    st.tick += 1 + UUID._getRandomInt(4);\n  } else {\n    st.sequence++;\n  }\n\n  // format time fields\n  var tf = UUID._getTimeFieldValues(st.timestamp);\n  var tl = tf.low + st.tick;\n  var thav = (tf.hi & 0xFFF) | 0x1000;  // set version '0001'\n\n  // format clock sequence\n  st.sequence &= 0x3FFF;\n  var cshar = (st.sequence >>> 8) | 0x80; // set variant '10'\n  var csl = st.sequence & 0xFF;\n\n  return new UUID()._init(tl, tf.mid, thav, cshar, csl, st.node);\n};\n\n/**\n * Re-initializes the internal state for version 1 UUID creation.\n * @since 3.0\n */\nUUID.resetState = function() {\n  UUID._state = new UUIDState();\n};\n\nfunction UUIDState() {\n  var rand = UUID._getRandomInt;\n  this.timestamp = 0;\n  this.sequence = rand(14);\n  this.node = (rand(8) | 1) * 0x10000000000 + rand(40); // set multicast bit '1'\n  this.tick = rand(4);  // timestamp fraction smaller than a millisecond\n}\n\n/**\n * Probability to advance the timestamp fraction: the ratio of tick movements to sequence increments.\n * @private\n * @type {number}\n */\nUUID._tsRatio = 1 / 4;\n\n/**\n * Persistent internal state for version 1 UUID creation.\n * @private\n * @type {UUIDState}\n */\nUUID._state = null;\n\n/**\n * @private\n * @param {Date|number} time ECMAScript Date Object or milliseconds from 1970-01-01.\n * @returns {any}\n */\nUUID._getTimeFieldValues = function(time) {\n  var ts = time - Date.UTC(1582, 9, 15);\n  var hm = ((ts / 0x100000000) * 10000) & 0xFFFFFFF;\n  return  { low: ((ts & 0xFFFFFFF) * 10000) % 0x100000000,\n            mid: hm & 0xFFFF, hi: hm >>> 16, timestamp: ts };\n};\n\n// }}}\n\n// create local namespace\nfunction UUID() {}\n\n// for nodejs\nif (typeof module === \"object\" && typeof module.exports === \"object\") {\n  module.exports = UUID;\n}\n\nreturn UUID;\n\n})(UUID);\n\n// vim: fdm=marker fmr&\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n/******/ ]);\n});"]}]}