{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/resolve-pathname/esm/resolve-pathname.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/resolve-pathname/esm/resolve-pathname.js","hash":"0cfc9eeea8c389a40065a9b4df162fd1"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7CiAgcmV0dXJuIHBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nOwp9IC8vIEFib3V0IDEuNXggZmFzdGVyIHRoYW4gdGhlIHR3by1hcmcgdmVyc2lvbiBvZiBBcnJheSNzcGxpY2UoKQoKCmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkgewogIGZvciAodmFyIGkgPSBpbmRleCwgayA9IGkgKyAxLCBuID0gbGlzdC5sZW5ndGg7IGsgPCBuOyBpICs9IDEsIGsgKz0gMSkgewogICAgbGlzdFtpXSA9IGxpc3Rba107CiAgfQoKICBsaXN0LnBvcCgpOwp9IC8vIFRoaXMgaW1wbGVtZW50YXRpb24gaXMgYmFzZWQgaGVhdmlseSBvbiBub2RlJ3MgdXJsLnBhcnNlCgoKZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHRvLCBmcm9tKSB7CiAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCkgZnJvbSA9ICcnOwogIHZhciB0b1BhcnRzID0gdG8gJiYgdG8uc3BsaXQoJy8nKSB8fCBbXTsKICB2YXIgZnJvbVBhcnRzID0gZnJvbSAmJiBmcm9tLnNwbGl0KCcvJykgfHwgW107CiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTsKICB2YXIgaXNGcm9tQWJzID0gZnJvbSAmJiBpc0Fic29sdXRlKGZyb20pOwogIHZhciBtdXN0RW5kQWJzID0gaXNUb0FicyB8fCBpc0Zyb21BYnM7CgogIGlmICh0byAmJiBpc0Fic29sdXRlKHRvKSkgewogICAgLy8gdG8gaXMgYWJzb2x1dGUKICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7CiAgfSBlbHNlIGlmICh0b1BhcnRzLmxlbmd0aCkgewogICAgLy8gdG8gaXMgcmVsYXRpdmUsIGRyb3AgdGhlIGZpbGVuYW1lCiAgICBmcm9tUGFydHMucG9wKCk7CiAgICBmcm9tUGFydHMgPSBmcm9tUGFydHMuY29uY2F0KHRvUGFydHMpOwogIH0KCiAgaWYgKCFmcm9tUGFydHMubGVuZ3RoKSByZXR1cm4gJy8nOwogIHZhciBoYXNUcmFpbGluZ1NsYXNoOwoKICBpZiAoZnJvbVBhcnRzLmxlbmd0aCkgewogICAgdmFyIGxhc3QgPSBmcm9tUGFydHNbZnJvbVBhcnRzLmxlbmd0aCAtIDFdOwogICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnOwogIH0gZWxzZSB7CiAgICBoYXNUcmFpbGluZ1NsYXNoID0gZmFsc2U7CiAgfQoKICB2YXIgdXAgPSAwOwoKICBmb3IgKHZhciBpID0gZnJvbVBhcnRzLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHsKICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldOwoKICAgIGlmIChwYXJ0ID09PSAnLicpIHsKICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7CiAgICB9IGVsc2UgaWYgKHBhcnQgPT09ICcuLicpIHsKICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7CiAgICAgIHVwKys7CiAgICB9IGVsc2UgaWYgKHVwKSB7CiAgICAgIHNwbGljZU9uZShmcm9tUGFydHMsIGkpOwogICAgICB1cC0tOwogICAgfQogIH0KCiAgaWYgKCFtdXN0RW5kQWJzKSBmb3IgKDsgdXAtLTsgdXApIHsKICAgIGZyb21QYXJ0cy51bnNoaWZ0KCcuLicpOwogIH0KICBpZiAobXVzdEVuZEFicyAmJiBmcm9tUGFydHNbMF0gIT09ICcnICYmICghZnJvbVBhcnRzWzBdIHx8ICFpc0Fic29sdXRlKGZyb21QYXJ0c1swXSkpKSBmcm9tUGFydHMudW5zaGlmdCgnJyk7CiAgdmFyIHJlc3VsdCA9IGZyb21QYXJ0cy5qb2luKCcvJyk7CiAgaWYgKGhhc1RyYWlsaW5nU2xhc2ggJiYgcmVzdWx0LnN1YnN0cigtMSkgIT09ICcvJykgcmVzdWx0ICs9ICcvJzsKICByZXR1cm4gcmVzdWx0Owp9Cgp2YXIgX2RlZmF1bHQgPSByZXNvbHZlUGF0aG5hbWU7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/resolve-pathname/esm/resolve-pathname.js"],"names":["isAbsolute","pathname","charAt","spliceOne","list","index","i","k","n","length","pop","resolvePathname","to","from","undefined","toParts","split","fromParts","isToAbs","isFromAbs","mustEndAbs","concat","hasTrailingSlash","last","up","part","unshift","result","join","substr"],"mappings":"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","sourcesContent":["function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n"]}]}