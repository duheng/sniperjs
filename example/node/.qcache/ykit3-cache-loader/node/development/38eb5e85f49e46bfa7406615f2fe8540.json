{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/src/app/store/configureStore.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/src/app/store/configureStore.js","hash":"8352410ab1292fae283f6df24f258382"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSBjb25maWd1cmVTdG9yZTsKCnZhciBfcmVkdXggPSByZXF1aXJlKCJyZWR1eCIpOwoKdmFyIF9yZWR1eFRodW5rID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyZWR1eC10aHVuayIpKTsKCnZhciBfcmVhY3RSb3V0ZXJSZWR1eCA9IHJlcXVpcmUoInJlYWN0LXJvdXRlci1yZWR1eCIpOwoKdmFyIF9yZWR1Y2VycyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vcmVkdWNlcnMiKSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9CgpmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyWyJAQGl0ZXJhdG9yIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH0KCmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH0KCmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfQoKdmFyIG1pZGRsZXdhcmVzID0gW19yZWR1eFRodW5rLmRlZmF1bHRdOwp2YXIgRU5WID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlY7CgppZiAoRU5WICE9PSAicmVsZWFzZSIgJiYgRU5WICE9PSAiZ3JheSIpIHsKICB2YXIgX3JlcXVpcmUgPSByZXF1aXJlKCJyZWR1eC1sb2dnZXIiKSwKICAgICAgY3JlYXRlTG9nZ2VyID0gX3JlcXVpcmUuY3JlYXRlTG9nZ2VyOwoKICB2YXIgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHsKICAgIGxldmVsOiAiaW5mbyIsCiAgICBsb2dnZXI6IGNvbnNvbGUsCiAgICBjb2xsYXBzZWQ6IHRydWUKICB9KTsKICBtaWRkbGV3YXJlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWlkZGxld2FyZXMpLCBbbG9nZ2VyXSk7Cn0KCmZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKGhpc3RvcnksIGluaXRpYWxTdGF0ZSkgewogIG1pZGRsZXdhcmVzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShtaWRkbGV3YXJlcyksIFsoMCwgX3JlYWN0Um91dGVyUmVkdXgucm91dGVyTWlkZGxld2FyZSkoaGlzdG9yeSldKTsKCiAgdmFyIGNyZWF0ZVN0b3JlV2l0aE1pZGRsZXdhcmUgPSBfcmVkdXguYXBwbHlNaWRkbGV3YXJlLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KG1pZGRsZXdhcmVzKSkoX3JlZHV4LmNyZWF0ZVN0b3JlKTsKCiAgcmV0dXJuIGNyZWF0ZVN0b3JlV2l0aE1pZGRsZXdhcmUoX3JlZHVjZXJzLmRlZmF1bHQsIGluaXRpYWxTdGF0ZSk7Cn0="},{"version":3,"sources":["/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/src/app/store/configureStore.js"],"names":["middlewares","thunk","ENV","process","env","NODE_ENV","require","createLogger","logger","level","console","collapsed","configureStore","history","initialState","createStoreWithMiddleware","applyMiddleware","createStore","reducer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAIA,WAAW,GAAG,CAACC,mBAAD,CAAlB;AACA,IAAIC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAtB;;AAEA,IAAIH,GAAG,KAAK,SAAR,IAAqBA,GAAG,KAAK,MAAjC,EAAyC;AACrC,iBAAuBI,OAAO,CAAC,cAAD,CAA9B;AAAA,MAAMC,YAAN,YAAMA,YAAN;;AACA,MAAMC,MAAM,GAAGD,YAAY,CAAC;AACxBE,IAAAA,KAAK,EAAE,MADiB;AAExBD,IAAAA,MAAM,EAAEE,OAFgB;AAGxBC,IAAAA,SAAS,EAAE;AAHa,GAAD,CAA3B;AAMAX,EAAAA,WAAW,gCAAOA,WAAP,IAAoBQ,MAApB,EAAX;AACH;;AAEc,SAASI,cAAT,CAAwBC,OAAxB,EAAiCC,YAAjC,EAA+C;AAC1Dd,EAAAA,WAAW,gCAAOA,WAAP,IAAoB,wCAAiBa,OAAjB,CAApB,EAAX;;AACA,MAAME,yBAAyB,GAAGC,wDAAmBhB,WAAnB,GAC9BiB,kBAD8B,CAAlC;;AAGA,SAAOF,yBAAyB,CAACG,iBAAD,EAAUJ,YAAV,CAAhC;AACH","sourcesContent":["import {createStore, applyMiddleware} from \"redux\"\nimport thunk from \"redux-thunk\"\nimport {routerReducer, routerMiddleware} from \"react-router-redux\"\nimport reducer from \"../reducers\"\n\nlet middlewares = [thunk]\nlet ENV = process.env.NODE_ENV\n\nif (ENV !== \"release\" && ENV !== \"gray\") {\n    let { createLogger } = require(\"redux-logger\")\n    const logger = createLogger({\n        level: \"info\",\n        logger: console,\n        collapsed: true\n    })\n\n    middlewares = [...middlewares, logger]\n}\n\nexport default function configureStore(history, initialState) {\n    middlewares = [...middlewares, routerMiddleware(history)]\n    const createStoreWithMiddleware = applyMiddleware(...middlewares)(\n        createStore\n    )\n    return createStoreWithMiddleware(reducer, initialState)\n}\n"]}]}