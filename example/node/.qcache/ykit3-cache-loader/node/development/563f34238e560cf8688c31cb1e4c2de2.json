{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/scheduler/cjs/scheduler-tracing.development.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/scheduler/cjs/scheduler-tracing.development.js","hash":"42c0c538de46cf299a9db44adeec1628"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqIEBsaWNlbnNlIFJlYWN0IHYwLjE5LjEKICogc2NoZWR1bGVyLXRyYWNpbmcuZGV2ZWxvcG1lbnQuanMKICoKICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuCiAqCiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZQogKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuCiAqLwondXNlIHN0cmljdCc7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIikgewogIChmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyIERFRkFVTFRfVEhSRUFEX0lEID0gMDsgLy8gQ291bnRlcnMgdXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzLgoKICAgIHZhciBpbnRlcmFjdGlvbklEQ291bnRlciA9IDA7CiAgICB2YXIgdGhyZWFkSURDb3VudGVyID0gMDsgLy8gU2V0IG9mIGN1cnJlbnRseSB0cmFjZWQgaW50ZXJhY3Rpb25zLgogICAgLy8gSW50ZXJhY3Rpb25zICJzdGFjayLigJMKICAgIC8vIE1lYW5pbmcgdGhhdCBuZXdseSB0cmFjZWQgaW50ZXJhY3Rpb25zIGFyZSBhcHBlbmRlZCB0byB0aGUgcHJldmlvdXNseSBhY3RpdmUgc2V0LgogICAgLy8gV2hlbiBhbiBpbnRlcmFjdGlvbiBnb2VzIG91dCBvZiBzY29wZSwgdGhlIHByZXZpb3VzIHNldCAoaWYgYW55KSBpcyByZXN0b3JlZC4KCiAgICBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmID0gbnVsbDsgLy8gTGlzdGVuZXIocykgdG8gbm90aWZ5IHdoZW4gaW50ZXJhY3Rpb25zIGJlZ2luIGFuZCBlbmQuCgogICAgZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYgPSBudWxsOwogICAgewogICAgICBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmID0gewogICAgICAgIGN1cnJlbnQ6IG5ldyBTZXQoKQogICAgICB9OwogICAgICBleHBvcnRzLl9fc3Vic2NyaWJlclJlZiA9IHsKICAgICAgICBjdXJyZW50OiBudWxsCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gdW5zdGFibGVfY2xlYXIoY2FsbGJhY2spIHsKICAgICAgdmFyIHByZXZJbnRlcmFjdGlvbnMgPSBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQ7CiAgICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IG5ldyBTZXQoKTsKCiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50ID0gcHJldkludGVyYWN0aW9uczsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVuc3RhYmxlX2dldEN1cnJlbnQoKSB7CiAgICAgIHsKICAgICAgICByZXR1cm4gZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50OwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdW5zdGFibGVfZ2V0VGhyZWFkSUQoKSB7CiAgICAgIHJldHVybiArK3RocmVhZElEQ291bnRlcjsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnN0YWJsZV90cmFjZShuYW1lLCB0aW1lc3RhbXAsIGNhbGxiYWNrKSB7CiAgICAgIHZhciB0aHJlYWRJRCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogREVGQVVMVF9USFJFQURfSUQ7CiAgICAgIHZhciBpbnRlcmFjdGlvbiA9IHsKICAgICAgICBfX2NvdW50OiAxLAogICAgICAgIGlkOiBpbnRlcmFjdGlvbklEQ291bnRlcisrLAogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAKICAgICAgfTsKICAgICAgdmFyIHByZXZJbnRlcmFjdGlvbnMgPSBleHBvcnRzLl9faW50ZXJhY3Rpb25zUmVmLmN1cnJlbnQ7IC8vIFRyYWNlZCBpbnRlcmFjdGlvbnMgc2hvdWxkIHN0YWNrL2FjY3VtdWxhdGUuCiAgICAgIC8vIFRvIGRvIHRoYXQsIGNsb25lIHRoZSBjdXJyZW50IGludGVyYWN0aW9ucy4KICAgICAgLy8gVGhlIHByZXZpb3VzIHNldCB3aWxsIGJlIHJlc3RvcmVkIHVwb24gY29tcGxldGlvbi4KCiAgICAgIHZhciBpbnRlcmFjdGlvbnMgPSBuZXcgU2V0KHByZXZJbnRlcmFjdGlvbnMpOwogICAgICBpbnRlcmFjdGlvbnMuYWRkKGludGVyYWN0aW9uKTsKICAgICAgZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50ID0gaW50ZXJhY3Rpb25zOwogICAgICB2YXIgc3Vic2NyaWJlciA9IGV4cG9ydHMuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQ7CiAgICAgIHZhciByZXR1cm5WYWx1ZTsKCiAgICAgIHRyeSB7CiAgICAgICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHsKICAgICAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblRyYWNlZChpbnRlcmFjdGlvbik7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCkgewogICAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0YXJ0ZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7CiAgICAgICAgICB9CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVyblZhbHVlID0gY2FsbGJhY2soKTsKICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHByZXZJbnRlcmFjdGlvbnM7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0b3BwZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIGludGVyYWN0aW9uLl9fY291bnQtLTsgLy8gSWYgbm8gYXN5bmMgd29yayB3YXMgc2NoZWR1bGVkIGZvciB0aGlzIGludGVyYWN0aW9uLAogICAgICAgICAgICAgIC8vIE5vdGlmeSBzdWJzY3JpYmVycyB0aGF0IGl0J3MgY29tcGxldGVkLgoKICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCAmJiBpbnRlcmFjdGlvbi5fX2NvdW50ID09PSAwKSB7CiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uSW50ZXJhY3Rpb25TY2hlZHVsZWRXb3JrQ29tcGxldGVkKGludGVyYWN0aW9uKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnN0YWJsZV93cmFwKGNhbGxiYWNrKSB7CiAgICAgIHZhciB0aHJlYWRJRCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogREVGQVVMVF9USFJFQURfSUQ7CiAgICAgIHZhciB3cmFwcGVkSW50ZXJhY3Rpb25zID0gZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50OwogICAgICB2YXIgc3Vic2NyaWJlciA9IGV4cG9ydHMuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQ7CgogICAgICBpZiAoc3Vic2NyaWJlciAhPT0gbnVsbCkgewogICAgICAgIHN1YnNjcmliZXIub25Xb3JrU2NoZWR1bGVkKHdyYXBwZWRJbnRlcmFjdGlvbnMsIHRocmVhZElEKTsKICAgICAgfSAvLyBVcGRhdGUgdGhlIHBlbmRpbmcgYXN5bmMgd29yayBjb3VudCBmb3IgdGhlIGN1cnJlbnQgaW50ZXJhY3Rpb25zLgogICAgICAvLyBVcGRhdGUgYWZ0ZXIgY2FsbGluZyBzdWJzY3JpYmVycyBpbiBjYXNlIG9mIGVycm9yLgoKCiAgICAgIHdyYXBwZWRJbnRlcmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHsKICAgICAgICBpbnRlcmFjdGlvbi5fX2NvdW50Kys7CiAgICAgIH0pOwogICAgICB2YXIgaGFzUnVuID0gZmFsc2U7CgogICAgICBmdW5jdGlvbiB3cmFwcGVkKCkgewogICAgICAgIHZhciBwcmV2SW50ZXJhY3Rpb25zID0gZXhwb3J0cy5fX2ludGVyYWN0aW9uc1JlZi5jdXJyZW50OwogICAgICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHdyYXBwZWRJbnRlcmFjdGlvbnM7CiAgICAgICAgc3Vic2NyaWJlciA9IGV4cG9ydHMuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQ7CgogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgcmV0dXJuVmFsdWU7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIgIT09IG51bGwpIHsKICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0YXJ0ZWQod3JhcHBlZEludGVyYWN0aW9ucywgdGhyZWFkSUQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJldHVyblZhbHVlID0gY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpOwogICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgIGV4cG9ydHMuX19pbnRlcmFjdGlvbnNSZWYuY3VycmVudCA9IHByZXZJbnRlcmFjdGlvbnM7CgogICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0b3BwZWQod3JhcHBlZEludGVyYWN0aW9ucywgdGhyZWFkSUQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKCFoYXNSdW4pIHsKICAgICAgICAgICAgLy8gV2Ugb25seSBleHBlY3QgYSB3cmFwcGVkIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkIG9uY2UsCiAgICAgICAgICAgIC8vIEJ1dCBpbiB0aGUgZXZlbnQgdGhhdCBpdCdzIGV4ZWN1dGVkIG1vcmUgdGhhbiBvbmNl4oCTCiAgICAgICAgICAgIC8vIE9ubHkgZGVjcmVtZW50IHRoZSBvdXRzdGFuZGluZyBpbnRlcmFjdGlvbiBjb3VudHMgb25jZS4KICAgICAgICAgICAgaGFzUnVuID0gdHJ1ZTsgLy8gVXBkYXRlIHBlbmRpbmcgYXN5bmMgY291bnRzIGZvciBhbGwgd3JhcHBlZCBpbnRlcmFjdGlvbnMuCiAgICAgICAgICAgIC8vIElmIHRoaXMgd2FzIHRoZSBsYXN0IHNjaGVkdWxlZCBhc3luYyB3b3JrIGZvciBhbnkgb2YgdGhlbSwKICAgICAgICAgICAgLy8gTWFyayB0aGVtIGFzIGNvbXBsZXRlZC4KCiAgICAgICAgICAgIHdyYXBwZWRJbnRlcmFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaW50ZXJhY3Rpb24pIHsKICAgICAgICAgICAgICBpbnRlcmFjdGlvbi5fX2NvdW50LS07CgogICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsICYmIGludGVyYWN0aW9uLl9fY291bnQgPT09IDApIHsKICAgICAgICAgICAgICAgIHN1YnNjcmliZXIub25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQoaW50ZXJhY3Rpb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICB3cmFwcGVkLmNhbmNlbCA9IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgICBzdWJzY3JpYmVyID0gZXhwb3J0cy5fX3N1YnNjcmliZXJSZWYuY3VycmVudDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChzdWJzY3JpYmVyICE9PSBudWxsKSB7CiAgICAgICAgICAgIHN1YnNjcmliZXIub25Xb3JrQ2FuY2VsZWQod3JhcHBlZEludGVyYWN0aW9ucywgdGhyZWFkSUQpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAvLyBVcGRhdGUgcGVuZGluZyBhc3luYyBjb3VudHMgZm9yIGFsbCB3cmFwcGVkIGludGVyYWN0aW9ucy4KICAgICAgICAgIC8vIElmIHRoaXMgd2FzIHRoZSBsYXN0IHNjaGVkdWxlZCBhc3luYyB3b3JrIGZvciBhbnkgb2YgdGhlbSwKICAgICAgICAgIC8vIE1hcmsgdGhlbSBhcyBjb21wbGV0ZWQuCiAgICAgICAgICB3cmFwcGVkSW50ZXJhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGludGVyYWN0aW9uKSB7CiAgICAgICAgICAgIGludGVyYWN0aW9uLl9fY291bnQtLTsKCiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyICYmIGludGVyYWN0aW9uLl9fY291bnQgPT09IDApIHsKICAgICAgICAgICAgICBzdWJzY3JpYmVyLm9uSW50ZXJhY3Rpb25TY2hlZHVsZWRXb3JrQ29tcGxldGVkKGludGVyYWN0aW9uKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcmV0dXJuIHdyYXBwZWQ7CiAgICB9CgogICAgdmFyIHN1YnNjcmliZXJzID0gbnVsbDsKICAgIHsKICAgICAgc3Vic2NyaWJlcnMgPSBuZXcgU2V0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5zdGFibGVfc3Vic2NyaWJlKHN1YnNjcmliZXIpIHsKICAgICAgewogICAgICAgIHN1YnNjcmliZXJzLmFkZChzdWJzY3JpYmVyKTsKCiAgICAgICAgaWYgKHN1YnNjcmliZXJzLnNpemUgPT09IDEpIHsKICAgICAgICAgIGV4cG9ydHMuX19zdWJzY3JpYmVyUmVmLmN1cnJlbnQgPSB7CiAgICAgICAgICAgIG9uSW50ZXJhY3Rpb25TY2hlZHVsZWRXb3JrQ29tcGxldGVkOiBvbkludGVyYWN0aW9uU2NoZWR1bGVkV29ya0NvbXBsZXRlZCwKICAgICAgICAgICAgb25JbnRlcmFjdGlvblRyYWNlZDogb25JbnRlcmFjdGlvblRyYWNlZCwKICAgICAgICAgICAgb25Xb3JrQ2FuY2VsZWQ6IG9uV29ya0NhbmNlbGVkLAogICAgICAgICAgICBvbldvcmtTY2hlZHVsZWQ6IG9uV29ya1NjaGVkdWxlZCwKICAgICAgICAgICAgb25Xb3JrU3RhcnRlZDogb25Xb3JrU3RhcnRlZCwKICAgICAgICAgICAgb25Xb3JrU3RvcHBlZDogb25Xb3JrU3RvcHBlZAogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB1bnN0YWJsZV91bnN1YnNjcmliZShzdWJzY3JpYmVyKSB7CiAgICAgIHsKICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoc3Vic2NyaWJlcik7CgogICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwKSB7CiAgICAgICAgICBleHBvcnRzLl9fc3Vic2NyaWJlclJlZi5jdXJyZW50ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvbkludGVyYWN0aW9uVHJhY2VkKGludGVyYWN0aW9uKSB7CiAgICAgIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7CiAgICAgIHZhciBjYXVnaHRFcnJvciA9IG51bGw7CiAgICAgIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsKICAgICAgICB0cnkgewogICAgICAgICAgc3Vic2NyaWJlci5vbkludGVyYWN0aW9uVHJhY2VkKGludGVyYWN0aW9uKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7CiAgICAgICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoZGlkQ2F0Y2hFcnJvcikgewogICAgICAgIHRocm93IGNhdWdodEVycm9yOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gb25JbnRlcmFjdGlvblNjaGVkdWxlZFdvcmtDb21wbGV0ZWQoaW50ZXJhY3Rpb24pIHsKICAgICAgdmFyIGRpZENhdGNoRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIGNhdWdodEVycm9yID0gbnVsbDsKICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzdWJzY3JpYmVyLm9uSW50ZXJhY3Rpb25TY2hlZHVsZWRXb3JrQ29tcGxldGVkKGludGVyYWN0aW9uKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7CiAgICAgICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoZGlkQ2F0Y2hFcnJvcikgewogICAgICAgIHRocm93IGNhdWdodEVycm9yOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gb25Xb3JrU2NoZWR1bGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpIHsKICAgICAgdmFyIGRpZENhdGNoRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIGNhdWdodEVycm9yID0gbnVsbDsKICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1NjaGVkdWxlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgaWYgKCFkaWRDYXRjaEVycm9yKSB7CiAgICAgICAgICAgIGRpZENhdGNoRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBjYXVnaHRFcnJvciA9IGVycm9yOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAoZGlkQ2F0Y2hFcnJvcikgewogICAgICAgIHRocm93IGNhdWdodEVycm9yOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gb25Xb3JrU3RhcnRlZChpbnRlcmFjdGlvbnMsIHRocmVhZElEKSB7CiAgICAgIHZhciBkaWRDYXRjaEVycm9yID0gZmFsc2U7CiAgICAgIHZhciBjYXVnaHRFcnJvciA9IG51bGw7CiAgICAgIHN1YnNjcmliZXJzLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsKICAgICAgICB0cnkgewogICAgICAgICAgc3Vic2NyaWJlci5vbldvcmtTdGFydGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBpZiAoIWRpZENhdGNoRXJyb3IpIHsKICAgICAgICAgICAgZGlkQ2F0Y2hFcnJvciA9IHRydWU7CiAgICAgICAgICAgIGNhdWdodEVycm9yID0gZXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkaWRDYXRjaEVycm9yKSB7CiAgICAgICAgdGhyb3cgY2F1Z2h0RXJyb3I7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBvbldvcmtTdG9wcGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpIHsKICAgICAgdmFyIGRpZENhdGNoRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIGNhdWdodEVycm9yID0gbnVsbDsKICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya1N0b3BwZWQoaW50ZXJhY3Rpb25zLCB0aHJlYWRJRCk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGlmICghZGlkQ2F0Y2hFcnJvcikgewogICAgICAgICAgICBkaWRDYXRjaEVycm9yID0gdHJ1ZTsKICAgICAgICAgICAgY2F1Z2h0RXJyb3IgPSBlcnJvcjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGRpZENhdGNoRXJyb3IpIHsKICAgICAgICB0aHJvdyBjYXVnaHRFcnJvcjsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIG9uV29ya0NhbmNlbGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpIHsKICAgICAgdmFyIGRpZENhdGNoRXJyb3IgPSBmYWxzZTsKICAgICAgdmFyIGNhdWdodEVycm9yID0gbnVsbDsKICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICBzdWJzY3JpYmVyLm9uV29ya0NhbmNlbGVkKGludGVyYWN0aW9ucywgdGhyZWFkSUQpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBpZiAoIWRpZENhdGNoRXJyb3IpIHsKICAgICAgICAgICAgZGlkQ2F0Y2hFcnJvciA9IHRydWU7CiAgICAgICAgICAgIGNhdWdodEVycm9yID0gZXJyb3I7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChkaWRDYXRjaEVycm9yKSB7CiAgICAgICAgdGhyb3cgY2F1Z2h0RXJyb3I7CiAgICAgIH0KICAgIH0KCiAgICBleHBvcnRzLnVuc3RhYmxlX2NsZWFyID0gdW5zdGFibGVfY2xlYXI7CiAgICBleHBvcnRzLnVuc3RhYmxlX2dldEN1cnJlbnQgPSB1bnN0YWJsZV9nZXRDdXJyZW50OwogICAgZXhwb3J0cy51bnN0YWJsZV9nZXRUaHJlYWRJRCA9IHVuc3RhYmxlX2dldFRocmVhZElEOwogICAgZXhwb3J0cy51bnN0YWJsZV9zdWJzY3JpYmUgPSB1bnN0YWJsZV9zdWJzY3JpYmU7CiAgICBleHBvcnRzLnVuc3RhYmxlX3RyYWNlID0gdW5zdGFibGVfdHJhY2U7CiAgICBleHBvcnRzLnVuc3RhYmxlX3Vuc3Vic2NyaWJlID0gdW5zdGFibGVfdW5zdWJzY3JpYmU7CiAgICBleHBvcnRzLnVuc3RhYmxlX3dyYXAgPSB1bnN0YWJsZV93cmFwOwogIH0pKCk7Cn0="},{"version":3,"sources":["/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/scheduler/cjs/scheduler-tracing.development.js"],"names":["process","env","NODE_ENV","DEFAULT_THREAD_ID","interactionIDCounter","threadIDCounter","exports","__interactionsRef","__subscriberRef","current","Set","unstable_clear","callback","prevInteractions","unstable_getCurrent","unstable_getThreadID","unstable_trace","name","timestamp","threadID","arguments","length","undefined","interaction","__count","id","interactions","add","subscriber","returnValue","onInteractionTraced","onWorkStarted","onWorkStopped","onInteractionScheduledWorkCompleted","unstable_wrap","wrappedInteractions","onWorkScheduled","forEach","hasRun","wrapped","apply","cancel","onWorkCanceled","subscribers","unstable_subscribe","size","unstable_unsubscribe","delete","didCatchError","caughtError","error"],"mappings":"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","sourcesContent":["/** @license React v0.19.1\n * scheduler-tracing.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar DEFAULT_THREAD_ID = 0; // Counters used to generate unique IDs.\n\nvar interactionIDCounter = 0;\nvar threadIDCounter = 0; // Set of currently traced interactions.\n// Interactions \"stack\"–\n// Meaning that newly traced interactions are appended to the previously active set.\n// When an interaction goes out of scope, the previous set (if any) is restored.\n\nexports.__interactionsRef = null; // Listener(s) to notify when interactions begin and end.\n\nexports.__subscriberRef = null;\n\n{\n  exports.__interactionsRef = {\n    current: new Set()\n  };\n  exports.__subscriberRef = {\n    current: null\n  };\n}\nfunction unstable_clear(callback) {\n\n  var prevInteractions = exports.__interactionsRef.current;\n  exports.__interactionsRef.current = new Set();\n\n  try {\n    return callback();\n  } finally {\n    exports.__interactionsRef.current = prevInteractions;\n  }\n}\nfunction unstable_getCurrent() {\n  {\n    return exports.__interactionsRef.current;\n  }\n}\nfunction unstable_getThreadID() {\n  return ++threadIDCounter;\n}\nfunction unstable_trace(name, timestamp, callback) {\n  var threadID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_THREAD_ID;\n\n  var interaction = {\n    __count: 1,\n    id: interactionIDCounter++,\n    name: name,\n    timestamp: timestamp\n  };\n  var prevInteractions = exports.__interactionsRef.current; // Traced interactions should stack/accumulate.\n  // To do that, clone the current interactions.\n  // The previous set will be restored upon completion.\n\n  var interactions = new Set(prevInteractions);\n  interactions.add(interaction);\n  exports.__interactionsRef.current = interactions;\n  var subscriber = exports.__subscriberRef.current;\n  var returnValue;\n\n  try {\n    if (subscriber !== null) {\n      subscriber.onInteractionTraced(interaction);\n    }\n  } finally {\n    try {\n      if (subscriber !== null) {\n        subscriber.onWorkStarted(interactions, threadID);\n      }\n    } finally {\n      try {\n        returnValue = callback();\n      } finally {\n        exports.__interactionsRef.current = prevInteractions;\n\n        try {\n          if (subscriber !== null) {\n            subscriber.onWorkStopped(interactions, threadID);\n          }\n        } finally {\n          interaction.__count--; // If no async work was scheduled for this interaction,\n          // Notify subscribers that it's completed.\n\n          if (subscriber !== null && interaction.__count === 0) {\n            subscriber.onInteractionScheduledWorkCompleted(interaction);\n          }\n        }\n      }\n    }\n  }\n\n  return returnValue;\n}\nfunction unstable_wrap(callback) {\n  var threadID = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_THREAD_ID;\n\n  var wrappedInteractions = exports.__interactionsRef.current;\n  var subscriber = exports.__subscriberRef.current;\n\n  if (subscriber !== null) {\n    subscriber.onWorkScheduled(wrappedInteractions, threadID);\n  } // Update the pending async work count for the current interactions.\n  // Update after calling subscribers in case of error.\n\n\n  wrappedInteractions.forEach(function (interaction) {\n    interaction.__count++;\n  });\n  var hasRun = false;\n\n  function wrapped() {\n    var prevInteractions = exports.__interactionsRef.current;\n    exports.__interactionsRef.current = wrappedInteractions;\n    subscriber = exports.__subscriberRef.current;\n\n    try {\n      var returnValue;\n\n      try {\n        if (subscriber !== null) {\n          subscriber.onWorkStarted(wrappedInteractions, threadID);\n        }\n      } finally {\n        try {\n          returnValue = callback.apply(undefined, arguments);\n        } finally {\n          exports.__interactionsRef.current = prevInteractions;\n\n          if (subscriber !== null) {\n            subscriber.onWorkStopped(wrappedInteractions, threadID);\n          }\n        }\n      }\n\n      return returnValue;\n    } finally {\n      if (!hasRun) {\n        // We only expect a wrapped function to be executed once,\n        // But in the event that it's executed more than once–\n        // Only decrement the outstanding interaction counts once.\n        hasRun = true; // Update pending async counts for all wrapped interactions.\n        // If this was the last scheduled async work for any of them,\n        // Mark them as completed.\n\n        wrappedInteractions.forEach(function (interaction) {\n          interaction.__count--;\n\n          if (subscriber !== null && interaction.__count === 0) {\n            subscriber.onInteractionScheduledWorkCompleted(interaction);\n          }\n        });\n      }\n    }\n  }\n\n  wrapped.cancel = function cancel() {\n    subscriber = exports.__subscriberRef.current;\n\n    try {\n      if (subscriber !== null) {\n        subscriber.onWorkCanceled(wrappedInteractions, threadID);\n      }\n    } finally {\n      // Update pending async counts for all wrapped interactions.\n      // If this was the last scheduled async work for any of them,\n      // Mark them as completed.\n      wrappedInteractions.forEach(function (interaction) {\n        interaction.__count--;\n\n        if (subscriber && interaction.__count === 0) {\n          subscriber.onInteractionScheduledWorkCompleted(interaction);\n        }\n      });\n    }\n  };\n\n  return wrapped;\n}\n\nvar subscribers = null;\n\n{\n  subscribers = new Set();\n}\n\nfunction unstable_subscribe(subscriber) {\n  {\n    subscribers.add(subscriber);\n\n    if (subscribers.size === 1) {\n      exports.__subscriberRef.current = {\n        onInteractionScheduledWorkCompleted: onInteractionScheduledWorkCompleted,\n        onInteractionTraced: onInteractionTraced,\n        onWorkCanceled: onWorkCanceled,\n        onWorkScheduled: onWorkScheduled,\n        onWorkStarted: onWorkStarted,\n        onWorkStopped: onWorkStopped\n      };\n    }\n  }\n}\nfunction unstable_unsubscribe(subscriber) {\n  {\n    subscribers.delete(subscriber);\n\n    if (subscribers.size === 0) {\n      exports.__subscriberRef.current = null;\n    }\n  }\n}\n\nfunction onInteractionTraced(interaction) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onInteractionTraced(interaction);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nfunction onInteractionScheduledWorkCompleted(interaction) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onInteractionScheduledWorkCompleted(interaction);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nfunction onWorkScheduled(interactions, threadID) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onWorkScheduled(interactions, threadID);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nfunction onWorkStarted(interactions, threadID) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onWorkStarted(interactions, threadID);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nfunction onWorkStopped(interactions, threadID) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onWorkStopped(interactions, threadID);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nfunction onWorkCanceled(interactions, threadID) {\n  var didCatchError = false;\n  var caughtError = null;\n  subscribers.forEach(function (subscriber) {\n    try {\n      subscriber.onWorkCanceled(interactions, threadID);\n    } catch (error) {\n      if (!didCatchError) {\n        didCatchError = true;\n        caughtError = error;\n      }\n    }\n  });\n\n  if (didCatchError) {\n    throw caughtError;\n  }\n}\n\nexports.unstable_clear = unstable_clear;\nexports.unstable_getCurrent = unstable_getCurrent;\nexports.unstable_getThreadID = unstable_getThreadID;\nexports.unstable_subscribe = unstable_subscribe;\nexports.unstable_trace = unstable_trace;\nexports.unstable_unsubscribe = unstable_unsubscribe;\nexports.unstable_wrap = unstable_wrap;\n  })();\n}\n"]}]}