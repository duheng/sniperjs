{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/core-js/modules/es7.observable.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/core-js/modules/es7.observable.js","hash":"eb5ba6eba0c0c79797abab02908ea20a"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOyAvLyBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlCgp2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpOwoKdmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpOwoKdmFyIGNvcmUgPSByZXF1aXJlKCcuL19jb3JlJyk7Cgp2YXIgbWljcm90YXNrID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKTsKCnZhciBPQlNFUlZBQkxFID0gcmVxdWlyZSgnLi9fd2tzJykoJ29ic2VydmFibGUnKTsKCnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7Cgp2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTsKCnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTsKCnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpOwoKdmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7Cgp2YXIgZm9yT2YgPSByZXF1aXJlKCcuL19mb3Itb2YnKTsKCnZhciBSRVRVUk4gPSBmb3JPZi5SRVRVUk47Cgp2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gZ2V0TWV0aG9kKGZuKSB7CiAgcmV0dXJuIGZuID09IG51bGwgPyB1bmRlZmluZWQgOiBhRnVuY3Rpb24oZm4pOwp9OwoKdmFyIGNsZWFudXBTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbikgewogIHZhciBjbGVhbnVwID0gc3Vic2NyaXB0aW9uLl9jOwoKICBpZiAoY2xlYW51cCkgewogICAgc3Vic2NyaXB0aW9uLl9jID0gdW5kZWZpbmVkOwogICAgY2xlYW51cCgpOwogIH0KfTsKCnZhciBzdWJzY3JpcHRpb25DbG9zZWQgPSBmdW5jdGlvbiBzdWJzY3JpcHRpb25DbG9zZWQoc3Vic2NyaXB0aW9uKSB7CiAgcmV0dXJuIHN1YnNjcmlwdGlvbi5fbyA9PT0gdW5kZWZpbmVkOwp9OwoKdmFyIGNsb3NlU3Vic2NyaXB0aW9uID0gZnVuY3Rpb24gY2xvc2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKSB7CiAgaWYgKCFzdWJzY3JpcHRpb25DbG9zZWQoc3Vic2NyaXB0aW9uKSkgewogICAgc3Vic2NyaXB0aW9uLl9vID0gdW5kZWZpbmVkOwogICAgY2xlYW51cFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pOwogIH0KfTsKCnZhciBTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiBTdWJzY3JpcHRpb24ob2JzZXJ2ZXIsIHN1YnNjcmliZXIpIHsKICBhbk9iamVjdChvYnNlcnZlcik7CiAgdGhpcy5fYyA9IHVuZGVmaW5lZDsKICB0aGlzLl9vID0gb2JzZXJ2ZXI7CiAgb2JzZXJ2ZXIgPSBuZXcgU3Vic2NyaXB0aW9uT2JzZXJ2ZXIodGhpcyk7CgogIHRyeSB7CiAgICB2YXIgY2xlYW51cCA9IHN1YnNjcmliZXIob2JzZXJ2ZXIpOwogICAgdmFyIHN1YnNjcmlwdGlvbiA9IGNsZWFudXA7CgogICAgaWYgKGNsZWFudXAgIT0gbnVsbCkgewogICAgICBpZiAodHlwZW9mIGNsZWFudXAudW5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbicpIGNsZWFudXAgPSBmdW5jdGlvbiBjbGVhbnVwKCkgewogICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpOwogICAgICB9O2Vsc2UgYUZ1bmN0aW9uKGNsZWFudXApOwogICAgICB0aGlzLl9jID0gY2xlYW51cDsKICAgIH0KICB9IGNhdGNoIChlKSB7CiAgICBvYnNlcnZlci5lcnJvcihlKTsKICAgIHJldHVybjsKICB9CgogIGlmIChzdWJzY3JpcHRpb25DbG9zZWQodGhpcykpIGNsZWFudXBTdWJzY3JpcHRpb24odGhpcyk7Cn07CgpTdWJzY3JpcHRpb24ucHJvdG90eXBlID0gcmVkZWZpbmVBbGwoe30sIHsKICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7CiAgICBjbG9zZVN1YnNjcmlwdGlvbih0aGlzKTsKICB9Cn0pOwoKdmFyIFN1YnNjcmlwdGlvbk9ic2VydmVyID0gZnVuY3Rpb24gU3Vic2NyaXB0aW9uT2JzZXJ2ZXIoc3Vic2NyaXB0aW9uKSB7CiAgdGhpcy5fcyA9IHN1YnNjcmlwdGlvbjsKfTsKClN1YnNjcmlwdGlvbk9ic2VydmVyLnByb3RvdHlwZSA9IHJlZGVmaW5lQWxsKHt9LCB7CiAgbmV4dDogZnVuY3Rpb24gbmV4dCh2YWx1ZSkgewogICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuX3M7CgogICAgaWYgKCFzdWJzY3JpcHRpb25DbG9zZWQoc3Vic2NyaXB0aW9uKSkgewogICAgICB2YXIgb2JzZXJ2ZXIgPSBzdWJzY3JpcHRpb24uX287CgogICAgICB0cnkgewogICAgICAgIHZhciBtID0gZ2V0TWV0aG9kKG9ic2VydmVyLm5leHQpOwogICAgICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG9ic2VydmVyLCB2YWx1ZSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY2xvc2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGVycm9yOiBmdW5jdGlvbiBlcnJvcih2YWx1ZSkgewogICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuX3M7CiAgICBpZiAoc3Vic2NyaXB0aW9uQ2xvc2VkKHN1YnNjcmlwdGlvbikpIHRocm93IHZhbHVlOwogICAgdmFyIG9ic2VydmVyID0gc3Vic2NyaXB0aW9uLl9vOwogICAgc3Vic2NyaXB0aW9uLl9vID0gdW5kZWZpbmVkOwoKICAgIHRyeSB7CiAgICAgIHZhciBtID0gZ2V0TWV0aG9kKG9ic2VydmVyLmVycm9yKTsKICAgICAgaWYgKCFtKSB0aHJvdyB2YWx1ZTsKICAgICAgdmFsdWUgPSBtLmNhbGwob2JzZXJ2ZXIsIHZhbHVlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdHJ5IHsKICAgICAgICBjbGVhbnVwU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfQogICAgfQoKICAgIGNsZWFudXBTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTsKICAgIHJldHVybiB2YWx1ZTsKICB9LAogIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZSh2YWx1ZSkgewogICAgdmFyIHN1YnNjcmlwdGlvbiA9IHRoaXMuX3M7CgogICAgaWYgKCFzdWJzY3JpcHRpb25DbG9zZWQoc3Vic2NyaXB0aW9uKSkgewogICAgICB2YXIgb2JzZXJ2ZXIgPSBzdWJzY3JpcHRpb24uX287CiAgICAgIHN1YnNjcmlwdGlvbi5fbyA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgdmFyIG0gPSBnZXRNZXRob2Qob2JzZXJ2ZXIuY29tcGxldGUpOwogICAgICAgIHZhbHVlID0gbSA/IG0uY2FsbChvYnNlcnZlciwgdmFsdWUpIDogdW5kZWZpbmVkOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNsZWFudXBTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdGhyb3cgZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNsZWFudXBTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTsKICAgICAgcmV0dXJuIHZhbHVlOwogICAgfQogIH0KfSk7Cgp2YXIgJE9ic2VydmFibGUgPSBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZXIpIHsKICBhbkluc3RhbmNlKHRoaXMsICRPYnNlcnZhYmxlLCAnT2JzZXJ2YWJsZScsICdfZicpLl9mID0gYUZ1bmN0aW9uKHN1YnNjcmliZXIpOwp9OwoKcmVkZWZpbmVBbGwoJE9ic2VydmFibGUucHJvdG90eXBlLCB7CiAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHsKICAgIHJldHVybiBuZXcgU3Vic2NyaXB0aW9uKG9ic2VydmVyLCB0aGlzLl9mKTsKICB9LAogIGZvckVhY2g6IGZ1bmN0aW9uIGZvckVhY2goZm4pIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHJldHVybiBuZXcgKGNvcmUuUHJvbWlzZSB8fCBnbG9iYWwuUHJvbWlzZSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBhRnVuY3Rpb24oZm4pOwogICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhhdC5zdWJzY3JpYmUoewogICAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQodmFsdWUpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBmbih2YWx1ZSk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBlcnJvcjogcmVqZWN0LAogICAgICAgIGNvbXBsZXRlOiByZXNvbHZlCiAgICAgIH0pOwogICAgfSk7CiAgfQp9KTsKcmVkZWZpbmVBbGwoJE9ic2VydmFibGUsIHsKICBmcm9tOiBmdW5jdGlvbiBmcm9tKHgpIHsKICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT09ICdmdW5jdGlvbicgPyB0aGlzIDogJE9ic2VydmFibGU7CiAgICB2YXIgbWV0aG9kID0gZ2V0TWV0aG9kKGFuT2JqZWN0KHgpW09CU0VSVkFCTEVdKTsKCiAgICBpZiAobWV0aG9kKSB7CiAgICAgIHZhciBvYnNlcnZhYmxlID0gYW5PYmplY3QobWV0aG9kLmNhbGwoeCkpOwogICAgICByZXR1cm4gb2JzZXJ2YWJsZS5jb25zdHJ1Y3RvciA9PT0gQyA/IG9ic2VydmFibGUgOiBuZXcgQyhmdW5jdGlvbiAob2JzZXJ2ZXIpIHsKICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZS5zdWJzY3JpYmUob2JzZXJ2ZXIpOwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gbmV3IEMoZnVuY3Rpb24gKG9ic2VydmVyKSB7CiAgICAgIHZhciBkb25lID0gZmFsc2U7CiAgICAgIG1pY3JvdGFzayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFkb25lKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoZm9yT2YoeCwgZmFsc2UsIGZ1bmN0aW9uIChpdCkgewogICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoaXQpOwogICAgICAgICAgICAgIGlmIChkb25lKSByZXR1cm4gUkVUVVJOOwogICAgICAgICAgICB9KSA9PT0gUkVUVVJOKSByZXR1cm47CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGlmIChkb25lKSB0aHJvdyBlOwogICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICBkb25lID0gdHJ1ZTsKICAgICAgfTsKICAgIH0pOwogIH0sCiAgb2Y6IGZ1bmN0aW9uIG9mKCkgewogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoLCBpdGVtcyA9IG5ldyBBcnJheShsKTsgaSA8IGw7KSB7CiAgICAgIGl0ZW1zW2ldID0gYXJndW1lbnRzW2krK107CiAgICB9CgogICAgcmV0dXJuIG5ldyAodHlwZW9mIHRoaXMgPT09ICdmdW5jdGlvbicgPyB0aGlzIDogJE9ic2VydmFibGUpKGZ1bmN0aW9uIChvYnNlcnZlcikgewogICAgICB2YXIgZG9uZSA9IGZhbHNlOwogICAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmICghZG9uZSkgewogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtcy5sZW5ndGg7ICsraikgewogICAgICAgICAgICBvYnNlcnZlci5uZXh0KGl0ZW1zW2pdKTsKICAgICAgICAgICAgaWYgKGRvbmUpIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9uZSA9IHRydWU7CiAgICAgIH07CiAgICB9KTsKICB9Cn0pOwpoaWRlKCRPYnNlcnZhYmxlLnByb3RvdHlwZSwgT0JTRVJWQUJMRSwgZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzOwp9KTsKJGV4cG9ydCgkZXhwb3J0LkcsIHsKICBPYnNlcnZhYmxlOiAkT2JzZXJ2YWJsZQp9KTsKCnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoJ09ic2VydmFibGUnKTs="},{"version":3,"sources":["/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/core-js/modules/es7.observable.js"],"names":["$export","require","global","core","microtask","OBSERVABLE","aFunction","anObject","anInstance","redefineAll","hide","forOf","RETURN","getMethod","fn","undefined","cleanupSubscription","subscription","cleanup","_c","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","e","error","prototype","_s","next","value","m","call","complete","$Observable","Observable","_f","subscribe","forEach","that","Promise","resolve","reject","from","x","C","method","observable","constructor","done","it","of","i","l","arguments","length","items","Array","j","G"],"mappings":"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","sourcesContent":["'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n"]}]}