{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/core-js/modules/_typed-buffer.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/core-js/modules/_typed-buffer.js","hash":"7c757a985f8da47819f30ab21366bec0"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKdmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpOwoKdmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTsKCnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpOwoKdmFyICR0eXBlZCA9IHJlcXVpcmUoJy4vX3R5cGVkJyk7Cgp2YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTsKCnZhciByZWRlZmluZUFsbCA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpOwoKdmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTsKCnZhciBhbkluc3RhbmNlID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKTsKCnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7Cgp2YXIgdG9MZW5ndGggPSByZXF1aXJlKCcuL190by1sZW5ndGgnKTsKCnZhciB0b0luZGV4ID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTsKCnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mOwoKdmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjsKCnZhciBhcnJheUZpbGwgPSByZXF1aXJlKCcuL19hcnJheS1maWxsJyk7Cgp2YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpOwoKdmFyIEFSUkFZX0JVRkZFUiA9ICdBcnJheUJ1ZmZlcic7CnZhciBEQVRBX1ZJRVcgPSAnRGF0YVZpZXcnOwp2YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7CnZhciBXUk9OR19MRU5HVEggPSAnV3JvbmcgbGVuZ3RoISc7CnZhciBXUk9OR19JTkRFWCA9ICdXcm9uZyBpbmRleCEnOwp2YXIgJEFycmF5QnVmZmVyID0gZ2xvYmFsW0FSUkFZX0JVRkZFUl07CnZhciAkRGF0YVZpZXcgPSBnbG9iYWxbREFUQV9WSUVXXTsKdmFyIE1hdGggPSBnbG9iYWwuTWF0aDsKdmFyIFJhbmdlRXJyb3IgPSBnbG9iYWwuUmFuZ2VFcnJvcjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvdy1yZXN0cmljdGVkLW5hbWVzCgp2YXIgSW5maW5pdHkgPSBnbG9iYWwuSW5maW5pdHk7CnZhciBCYXNlQnVmZmVyID0gJEFycmF5QnVmZmVyOwp2YXIgYWJzID0gTWF0aC5hYnM7CnZhciBwb3cgPSBNYXRoLnBvdzsKdmFyIGZsb29yID0gTWF0aC5mbG9vcjsKdmFyIGxvZyA9IE1hdGgubG9nOwp2YXIgTE4yID0gTWF0aC5MTjI7CnZhciBCVUZGRVIgPSAnYnVmZmVyJzsKdmFyIEJZVEVfTEVOR1RIID0gJ2J5dGVMZW5ndGgnOwp2YXIgQllURV9PRkZTRVQgPSAnYnl0ZU9mZnNldCc7CnZhciAkQlVGRkVSID0gREVTQ1JJUFRPUlMgPyAnX2InIDogQlVGRkVSOwp2YXIgJExFTkdUSCA9IERFU0NSSVBUT1JTID8gJ19sJyA6IEJZVEVfTEVOR1RIOwp2YXIgJE9GRlNFVCA9IERFU0NSSVBUT1JTID8gJ19vJyA6IEJZVEVfT0ZGU0VUOyAvLyBJRUVFNzU0IGNvbnZlcnNpb25zIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvaWVlZTc1NAoKZnVuY3Rpb24gcGFja0lFRUU3NTQodmFsdWUsIG1MZW4sIG5CeXRlcykgewogIHZhciBidWZmZXIgPSBuZXcgQXJyYXkobkJ5dGVzKTsKICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMTsKICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMTsKICB2YXIgZUJpYXMgPSBlTWF4ID4+IDE7CiAgdmFyIHJ0ID0gbUxlbiA9PT0gMjMgPyBwb3coMiwgLTI0KSAtIHBvdygyLCAtNzcpIDogMDsKICB2YXIgaSA9IDA7CiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgdmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCA/IDEgOiAwOwogIHZhciBlLCBtLCBjOwogIHZhbHVlID0gYWJzKHZhbHVlKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZQoKICBpZiAodmFsdWUgIT0gdmFsdWUgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlCiAgICBtID0gdmFsdWUgIT0gdmFsdWUgPyAxIDogMDsKICAgIGUgPSBlTWF4OwogIH0gZWxzZSB7CiAgICBlID0gZmxvb3IobG9nKHZhbHVlKSAvIExOMik7CgogICAgaWYgKHZhbHVlICogKGMgPSBwb3coMiwgLWUpKSA8IDEpIHsKICAgICAgZS0tOwogICAgICBjICo9IDI7CiAgICB9CgogICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7CiAgICAgIHZhbHVlICs9IHJ0IC8gYzsKICAgIH0gZWxzZSB7CiAgICAgIHZhbHVlICs9IHJ0ICogcG93KDIsIDEgLSBlQmlhcyk7CiAgICB9CgogICAgaWYgKHZhbHVlICogYyA+PSAyKSB7CiAgICAgIGUrKzsKICAgICAgYyAvPSAyOwogICAgfQoKICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkgewogICAgICBtID0gMDsKICAgICAgZSA9IGVNYXg7CiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7CiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBwb3coMiwgbUxlbik7CiAgICAgIGUgPSBlICsgZUJpYXM7CiAgICB9IGVsc2UgewogICAgICBtID0gdmFsdWUgKiBwb3coMiwgZUJpYXMgLSAxKSAqIHBvdygyLCBtTGVuKTsKICAgICAgZSA9IDA7CiAgICB9CiAgfQoKICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbaSsrXSA9IG0gJiAyNTUsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHsKICAgIDsKICB9CgogIGUgPSBlIDw8IG1MZW4gfCBtOwogIGVMZW4gKz0gbUxlbjsKCiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbaSsrXSA9IGUgJiAyNTUsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHsKICAgIDsKICB9CgogIGJ1ZmZlclstLWldIHw9IHMgKiAxMjg7CiAgcmV0dXJuIGJ1ZmZlcjsKfQoKZnVuY3Rpb24gdW5wYWNrSUVFRTc1NChidWZmZXIsIG1MZW4sIG5CeXRlcykgewogIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxOwogIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxOwogIHZhciBlQmlhcyA9IGVNYXggPj4gMTsKICB2YXIgbkJpdHMgPSBlTGVuIC0gNzsKICB2YXIgaSA9IG5CeXRlcyAtIDE7CiAgdmFyIHMgPSBidWZmZXJbaS0tXTsKICB2YXIgZSA9IHMgJiAxMjc7CiAgdmFyIG07CiAgcyA+Pj0gNzsKCiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCkgewogICAgOwogIH0KCiAgbSA9IGUgJiAoMSA8PCAtbkJpdHMpIC0gMTsKICBlID4+PSAtbkJpdHM7CiAgbkJpdHMgKz0gbUxlbjsKCiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbaV0sIGktLSwgbkJpdHMgLT0gOCkgewogICAgOwogIH0KCiAgaWYgKGUgPT09IDApIHsKICAgIGUgPSAxIC0gZUJpYXM7CiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7CiAgICByZXR1cm4gbSA/IE5hTiA6IHMgPyAtSW5maW5pdHkgOiBJbmZpbml0eTsKICB9IGVsc2UgewogICAgbSA9IG0gKyBwb3coMiwgbUxlbik7CiAgICBlID0gZSAtIGVCaWFzOwogIH0KCiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBwb3coMiwgZSAtIG1MZW4pOwp9CgpmdW5jdGlvbiB1bnBhY2tJMzIoYnl0ZXMpIHsKICByZXR1cm4gYnl0ZXNbM10gPDwgMjQgfCBieXRlc1syXSA8PCAxNiB8IGJ5dGVzWzFdIDw8IDggfCBieXRlc1swXTsKfQoKZnVuY3Rpb24gcGFja0k4KGl0KSB7CiAgcmV0dXJuIFtpdCAmIDB4ZmZdOwp9CgpmdW5jdGlvbiBwYWNrSTE2KGl0KSB7CiAgcmV0dXJuIFtpdCAmIDB4ZmYsIGl0ID4+IDggJiAweGZmXTsKfQoKZnVuY3Rpb24gcGFja0kzMihpdCkgewogIHJldHVybiBbaXQgJiAweGZmLCBpdCA+PiA4ICYgMHhmZiwgaXQgPj4gMTYgJiAweGZmLCBpdCA+PiAyNCAmIDB4ZmZdOwp9CgpmdW5jdGlvbiBwYWNrRjY0KGl0KSB7CiAgcmV0dXJuIHBhY2tJRUVFNzU0KGl0LCA1MiwgOCk7Cn0KCmZ1bmN0aW9uIHBhY2tGMzIoaXQpIHsKICByZXR1cm4gcGFja0lFRUU3NTQoaXQsIDIzLCA0KTsKfQoKZnVuY3Rpb24gYWRkR2V0dGVyKEMsIGtleSwgaW50ZXJuYWwpIHsKICBkUChDW1BST1RPVFlQRV0sIGtleSwgewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzW2ludGVybmFsXTsKICAgIH0KICB9KTsKfQoKZnVuY3Rpb24gZ2V0KHZpZXcsIGJ5dGVzLCBpbmRleCwgaXNMaXR0bGVFbmRpYW4pIHsKICB2YXIgbnVtSW5kZXggPSAraW5kZXg7CiAgdmFyIGludEluZGV4ID0gdG9JbmRleChudW1JbmRleCk7CiAgaWYgKGludEluZGV4ICsgYnl0ZXMgPiB2aWV3WyRMRU5HVEhdKSB0aHJvdyBSYW5nZUVycm9yKFdST05HX0lOREVYKTsKICB2YXIgc3RvcmUgPSB2aWV3WyRCVUZGRVJdLl9iOwogIHZhciBzdGFydCA9IGludEluZGV4ICsgdmlld1skT0ZGU0VUXTsKICB2YXIgcGFjayA9IHN0b3JlLnNsaWNlKHN0YXJ0LCBzdGFydCArIGJ5dGVzKTsKICByZXR1cm4gaXNMaXR0bGVFbmRpYW4gPyBwYWNrIDogcGFjay5yZXZlcnNlKCk7Cn0KCmZ1bmN0aW9uIHNldCh2aWV3LCBieXRlcywgaW5kZXgsIGNvbnZlcnNpb24sIHZhbHVlLCBpc0xpdHRsZUVuZGlhbikgewogIHZhciBudW1JbmRleCA9ICtpbmRleDsKICB2YXIgaW50SW5kZXggPSB0b0luZGV4KG51bUluZGV4KTsKICBpZiAoaW50SW5kZXggKyBieXRlcyA+IHZpZXdbJExFTkdUSF0pIHRocm93IFJhbmdlRXJyb3IoV1JPTkdfSU5ERVgpOwogIHZhciBzdG9yZSA9IHZpZXdbJEJVRkZFUl0uX2I7CiAgdmFyIHN0YXJ0ID0gaW50SW5kZXggKyB2aWV3WyRPRkZTRVRdOwogIHZhciBwYWNrID0gY29udmVyc2lvbigrdmFsdWUpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzOyBpKyspIHsKICAgIHN0b3JlW3N0YXJ0ICsgaV0gPSBwYWNrW2lzTGl0dGxlRW5kaWFuID8gaSA6IGJ5dGVzIC0gaSAtIDFdOwogIH0KfQoKaWYgKCEkdHlwZWQuQUJWKSB7CiAgJEFycmF5QnVmZmVyID0gZnVuY3Rpb24gQXJyYXlCdWZmZXIobGVuZ3RoKSB7CiAgICBhbkluc3RhbmNlKHRoaXMsICRBcnJheUJ1ZmZlciwgQVJSQVlfQlVGRkVSKTsKICAgIHZhciBieXRlTGVuZ3RoID0gdG9JbmRleChsZW5ndGgpOwogICAgdGhpcy5fYiA9IGFycmF5RmlsbC5jYWxsKG5ldyBBcnJheShieXRlTGVuZ3RoKSwgMCk7CiAgICB0aGlzWyRMRU5HVEhdID0gYnl0ZUxlbmd0aDsKICB9OwoKICAkRGF0YVZpZXcgPSBmdW5jdGlvbiBEYXRhVmlldyhidWZmZXIsIGJ5dGVPZmZzZXQsIGJ5dGVMZW5ndGgpIHsKICAgIGFuSW5zdGFuY2UodGhpcywgJERhdGFWaWV3LCBEQVRBX1ZJRVcpOwogICAgYW5JbnN0YW5jZShidWZmZXIsICRBcnJheUJ1ZmZlciwgREFUQV9WSUVXKTsKICAgIHZhciBidWZmZXJMZW5ndGggPSBidWZmZXJbJExFTkdUSF07CiAgICB2YXIgb2Zmc2V0ID0gdG9JbnRlZ2VyKGJ5dGVPZmZzZXQpOwogICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID4gYnVmZmVyTGVuZ3RoKSB0aHJvdyBSYW5nZUVycm9yKCdXcm9uZyBvZmZzZXQhJyk7CiAgICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCA9PT0gdW5kZWZpbmVkID8gYnVmZmVyTGVuZ3RoIC0gb2Zmc2V0IDogdG9MZW5ndGgoYnl0ZUxlbmd0aCk7CiAgICBpZiAob2Zmc2V0ICsgYnl0ZUxlbmd0aCA+IGJ1ZmZlckxlbmd0aCkgdGhyb3cgUmFuZ2VFcnJvcihXUk9OR19MRU5HVEgpOwogICAgdGhpc1skQlVGRkVSXSA9IGJ1ZmZlcjsKICAgIHRoaXNbJE9GRlNFVF0gPSBvZmZzZXQ7CiAgICB0aGlzWyRMRU5HVEhdID0gYnl0ZUxlbmd0aDsKICB9OwoKICBpZiAoREVTQ1JJUFRPUlMpIHsKICAgIGFkZEdldHRlcigkQXJyYXlCdWZmZXIsIEJZVEVfTEVOR1RILCAnX2wnKTsKICAgIGFkZEdldHRlcigkRGF0YVZpZXcsIEJVRkZFUiwgJ19iJyk7CiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCWVRFX0xFTkdUSCwgJ19sJyk7CiAgICBhZGRHZXR0ZXIoJERhdGFWaWV3LCBCWVRFX09GRlNFVCwgJ19vJyk7CiAgfQoKICByZWRlZmluZUFsbCgkRGF0YVZpZXdbUFJPVE9UWVBFXSwgewogICAgZ2V0SW50ODogZnVuY3Rpb24gZ2V0SW50OChieXRlT2Zmc2V0KSB7CiAgICAgIHJldHVybiBnZXQodGhpcywgMSwgYnl0ZU9mZnNldClbMF0gPDwgMjQgPj4gMjQ7CiAgICB9LAogICAgZ2V0VWludDg6IGZ1bmN0aW9uIGdldFVpbnQ4KGJ5dGVPZmZzZXQpIHsKICAgICAgcmV0dXJuIGdldCh0aGlzLCAxLCBieXRlT2Zmc2V0KVswXTsKICAgIH0sCiAgICBnZXRJbnQxNjogZnVuY3Rpb24gZ2V0SW50MTYoYnl0ZU9mZnNldAogICAgLyogLCBsaXR0bGVFbmRpYW4gKi8KICAgICkgewogICAgICB2YXIgYnl0ZXMgPSBnZXQodGhpcywgMiwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKTsKICAgICAgcmV0dXJuIChieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF0pIDw8IDE2ID4+IDE2OwogICAgfSwKICAgIGdldFVpbnQxNjogZnVuY3Rpb24gZ2V0VWludDE2KGJ5dGVPZmZzZXQKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgdmFyIGJ5dGVzID0gZ2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSk7CiAgICAgIHJldHVybiBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMF07CiAgICB9LAogICAgZ2V0SW50MzI6IGZ1bmN0aW9uIGdldEludDMyKGJ5dGVPZmZzZXQKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgcmV0dXJuIHVucGFja0kzMihnZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgYXJndW1lbnRzWzFdKSk7CiAgICB9LAogICAgZ2V0VWludDMyOiBmdW5jdGlvbiBnZXRVaW50MzIoYnl0ZU9mZnNldAogICAgLyogLCBsaXR0bGVFbmRpYW4gKi8KICAgICkgewogICAgICByZXR1cm4gdW5wYWNrSTMyKGdldCh0aGlzLCA0LCBieXRlT2Zmc2V0LCBhcmd1bWVudHNbMV0pKSA+Pj4gMDsKICAgIH0sCiAgICBnZXRGbG9hdDMyOiBmdW5jdGlvbiBnZXRGbG9hdDMyKGJ5dGVPZmZzZXQKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgcmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSksIDIzLCA0KTsKICAgIH0sCiAgICBnZXRGbG9hdDY0OiBmdW5jdGlvbiBnZXRGbG9hdDY0KGJ5dGVPZmZzZXQKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgcmV0dXJuIHVucGFja0lFRUU3NTQoZ2V0KHRoaXMsIDgsIGJ5dGVPZmZzZXQsIGFyZ3VtZW50c1sxXSksIDUyLCA4KTsKICAgIH0sCiAgICBzZXRJbnQ4OiBmdW5jdGlvbiBzZXRJbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7CiAgICAgIHNldCh0aGlzLCAxLCBieXRlT2Zmc2V0LCBwYWNrSTgsIHZhbHVlKTsKICAgIH0sCiAgICBzZXRVaW50ODogZnVuY3Rpb24gc2V0VWludDgoYnl0ZU9mZnNldCwgdmFsdWUpIHsKICAgICAgc2V0KHRoaXMsIDEsIGJ5dGVPZmZzZXQsIHBhY2tJOCwgdmFsdWUpOwogICAgfSwKICAgIHNldEludDE2OiBmdW5jdGlvbiBzZXRJbnQxNihieXRlT2Zmc2V0LCB2YWx1ZQogICAgLyogLCBsaXR0bGVFbmRpYW4gKi8KICAgICkgewogICAgICBzZXQodGhpcywgMiwgYnl0ZU9mZnNldCwgcGFja0kxNiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7CiAgICB9LAogICAgc2V0VWludDE2OiBmdW5jdGlvbiBzZXRVaW50MTYoYnl0ZU9mZnNldCwgdmFsdWUKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgc2V0KHRoaXMsIDIsIGJ5dGVPZmZzZXQsIHBhY2tJMTYsIHZhbHVlLCBhcmd1bWVudHNbMl0pOwogICAgfSwKICAgIHNldEludDMyOiBmdW5jdGlvbiBzZXRJbnQzMihieXRlT2Zmc2V0LCB2YWx1ZQogICAgLyogLCBsaXR0bGVFbmRpYW4gKi8KICAgICkgewogICAgICBzZXQodGhpcywgNCwgYnl0ZU9mZnNldCwgcGFja0kzMiwgdmFsdWUsIGFyZ3VtZW50c1syXSk7CiAgICB9LAogICAgc2V0VWludDMyOiBmdW5jdGlvbiBzZXRVaW50MzIoYnl0ZU9mZnNldCwgdmFsdWUKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tJMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pOwogICAgfSwKICAgIHNldEZsb2F0MzI6IGZ1bmN0aW9uIHNldEZsb2F0MzIoYnl0ZU9mZnNldCwgdmFsdWUKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgc2V0KHRoaXMsIDQsIGJ5dGVPZmZzZXQsIHBhY2tGMzIsIHZhbHVlLCBhcmd1bWVudHNbMl0pOwogICAgfSwKICAgIHNldEZsb2F0NjQ6IGZ1bmN0aW9uIHNldEZsb2F0NjQoYnl0ZU9mZnNldCwgdmFsdWUKICAgIC8qICwgbGl0dGxlRW5kaWFuICovCiAgICApIHsKICAgICAgc2V0KHRoaXMsIDgsIGJ5dGVPZmZzZXQsIHBhY2tGNjQsIHZhbHVlLCBhcmd1bWVudHNbMl0pOwogICAgfQogIH0pOwp9IGVsc2UgewogIGlmICghZmFpbHMoZnVuY3Rpb24gKCkgewogICAgJEFycmF5QnVmZmVyKDEpOwogIH0pIHx8ICFmYWlscyhmdW5jdGlvbiAoKSB7CiAgICBuZXcgJEFycmF5QnVmZmVyKC0xKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKICB9KSB8fCBmYWlscyhmdW5jdGlvbiAoKSB7CiAgICBuZXcgJEFycmF5QnVmZmVyKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3CgogICAgbmV3ICRBcnJheUJ1ZmZlcigxLjUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldwoKICAgIG5ldyAkQXJyYXlCdWZmZXIoTmFOKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXcKCiAgICByZXR1cm4gJEFycmF5QnVmZmVyLm5hbWUgIT0gQVJSQVlfQlVGRkVSOwogIH0pKSB7CiAgICAkQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiBBcnJheUJ1ZmZlcihsZW5ndGgpIHsKICAgICAgYW5JbnN0YW5jZSh0aGlzLCAkQXJyYXlCdWZmZXIpOwogICAgICByZXR1cm4gbmV3IEJhc2VCdWZmZXIodG9JbmRleChsZW5ndGgpKTsKICAgIH07CgogICAgdmFyIEFycmF5QnVmZmVyUHJvdG8gPSAkQXJyYXlCdWZmZXJbUFJPVE9UWVBFXSA9IEJhc2VCdWZmZXJbUFJPVE9UWVBFXTsKCiAgICBmb3IgKHZhciBrZXlzID0gZ09QTihCYXNlQnVmZmVyKSwgaiA9IDAsIGtleTsga2V5cy5sZW5ndGggPiBqOykgewogICAgICBpZiAoISgoa2V5ID0ga2V5c1tqKytdKSBpbiAkQXJyYXlCdWZmZXIpKSBoaWRlKCRBcnJheUJ1ZmZlciwga2V5LCBCYXNlQnVmZmVyW2tleV0pOwogICAgfQoKICAgIGlmICghTElCUkFSWSkgQXJyYXlCdWZmZXJQcm90by5jb25zdHJ1Y3RvciA9ICRBcnJheUJ1ZmZlcjsKICB9IC8vIGlPUyBTYWZhcmkgNy54IGJ1ZwoKCiAgdmFyIHZpZXcgPSBuZXcgJERhdGFWaWV3KG5ldyAkQXJyYXlCdWZmZXIoMikpOwogIHZhciAkc2V0SW50OCA9ICREYXRhVmlld1tQUk9UT1RZUEVdLnNldEludDg7CiAgdmlldy5zZXRJbnQ4KDAsIDIxNDc0ODM2NDgpOwogIHZpZXcuc2V0SW50OCgxLCAyMTQ3NDgzNjQ5KTsKICBpZiAodmlldy5nZXRJbnQ4KDApIHx8ICF2aWV3LmdldEludDgoMSkpIHJlZGVmaW5lQWxsKCREYXRhVmlld1tQUk9UT1RZUEVdLCB7CiAgICBzZXRJbnQ4OiBmdW5jdGlvbiBzZXRJbnQ4KGJ5dGVPZmZzZXQsIHZhbHVlKSB7CiAgICAgICRzZXRJbnQ4LmNhbGwodGhpcywgYnl0ZU9mZnNldCwgdmFsdWUgPDwgMjQgPj4gMjQpOwogICAgfSwKICAgIHNldFVpbnQ4OiBmdW5jdGlvbiBzZXRVaW50OChieXRlT2Zmc2V0LCB2YWx1ZSkgewogICAgICAkc2V0SW50OC5jYWxsKHRoaXMsIGJ5dGVPZmZzZXQsIHZhbHVlIDw8IDI0ID4+IDI0KTsKICAgIH0KICB9LCB0cnVlKTsKfQoKc2V0VG9TdHJpbmdUYWcoJEFycmF5QnVmZmVyLCBBUlJBWV9CVUZGRVIpOwpzZXRUb1N0cmluZ1RhZygkRGF0YVZpZXcsIERBVEFfVklFVyk7CmhpZGUoJERhdGFWaWV3W1BST1RPVFlQRV0sICR0eXBlZC5WSUVXLCB0cnVlKTsKZXhwb3J0c1tBUlJBWV9CVUZGRVJdID0gJEFycmF5QnVmZmVyOwpleHBvcnRzW0RBVEFfVklFV10gPSAkRGF0YVZpZXc7"},null]}