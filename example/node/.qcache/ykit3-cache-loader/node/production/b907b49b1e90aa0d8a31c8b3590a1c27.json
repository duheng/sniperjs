{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/react-router-dom/esm/react-router-dom.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/react-router-dom/esm/react-router-dom.js","hash":"ddb27df9293009eb2d634856294065de"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIk1lbW9yeVJvdXRlciIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci5NZW1vcnlSb3V0ZXI7CiAgfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJQcm9tcHQiLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIuUHJvbXB0OwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiUmVkaXJlY3QiLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIuUmVkaXJlY3Q7CiAgfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJSb3V0ZSIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci5Sb3V0ZTsKICB9Cn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIlJvdXRlciIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci5Sb3V0ZXI7CiAgfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJTdGF0aWNSb3V0ZXIiLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIuU3RhdGljUm91dGVyOwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiU3dpdGNoIiwgewogIGVudW1lcmFibGU6IHRydWUsCiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICByZXR1cm4gX3JlYWN0Um91dGVyLlN3aXRjaDsKICB9Cn0pOwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgImdlbmVyYXRlUGF0aCIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci5nZW5lcmF0ZVBhdGg7CiAgfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJtYXRjaFBhdGgiLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIubWF0Y2hQYXRoOwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAidXNlSGlzdG9yeSIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci51c2VIaXN0b3J5OwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAidXNlTG9jYXRpb24iLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIudXNlTG9jYXRpb247CiAgfQp9KTsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJ1c2VQYXJhbXMiLCB7CiAgZW51bWVyYWJsZTogdHJ1ZSwKICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgIHJldHVybiBfcmVhY3RSb3V0ZXIudXNlUGFyYW1zOwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAidXNlUm91dGVNYXRjaCIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci51c2VSb3V0ZU1hdGNoOwogIH0KfSk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAid2l0aFJvdXRlciIsIHsKICBlbnVtZXJhYmxlOiB0cnVlLAogIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgcmV0dXJuIF9yZWFjdFJvdXRlci53aXRoUm91dGVyOwogIH0KfSk7CmV4cG9ydHMuTmF2TGluayA9IGV4cG9ydHMuTGluayA9IGV4cG9ydHMuSGFzaFJvdXRlciA9IGV4cG9ydHMuQnJvd3NlclJvdXRlciA9IHZvaWQgMDsKCnZhciBfcmVhY3RSb3V0ZXIgPSByZXF1aXJlKCJyZWFjdC1yb3V0ZXIiKTsKCnZhciBfaW5oZXJpdHNMb29zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UiKSk7Cgp2YXIgX3JlYWN0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJyZWFjdCIpKTsKCnZhciBfaGlzdG9yeSA9IHJlcXVpcmUoImhpc3RvcnkiKTsKCnZhciBfcHJvcFR5cGVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJwcm9wLXR5cGVzIikpOwoKdmFyIF90aW55V2FybmluZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgidGlueS13YXJuaW5nIikpOwoKdmFyIF9leHRlbmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyIpKTsKCnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiKSk7Cgp2YXIgX3RpbnlJbnZhcmlhbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInRpbnktaW52YXJpYW50IikpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCi8qKgogKiBUaGUgcHVibGljIEFQSSBmb3IgYSA8Um91dGVyPiB0aGF0IHVzZXMgSFRNTDUgaGlzdG9yeS4KICovCnZhciBCcm93c2VyUm91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7CiAgKDAsIF9pbmhlcml0c0xvb3NlMi5kZWZhdWx0KShCcm93c2VyUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gQnJvd3NlclJvdXRlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzOwogICAgX3RoaXMuaGlzdG9yeSA9ICgwLCBfaGlzdG9yeS5jcmVhdGVCcm93c2VySGlzdG9yeSkoX3RoaXMucHJvcHMpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgdmFyIF9wcm90byA9IEJyb3dzZXJSb3V0ZXIucHJvdG90eXBlOwoKICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkgewogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZXIsIHsKICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LAogICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlbgogICAgfSk7CiAgfTsKCiAgcmV0dXJuIEJyb3dzZXJSb3V0ZXI7Cn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTsKCmV4cG9ydHMuQnJvd3NlclJvdXRlciA9IEJyb3dzZXJSb3V0ZXI7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIikgewogIEJyb3dzZXJSb3V0ZXIucHJvcFR5cGVzID0gewogICAgYmFzZW5hbWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgICBjaGlsZHJlbjogX3Byb3BUeXBlcy5kZWZhdWx0Lm5vZGUsCiAgICBmb3JjZVJlZnJlc2g6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogICAgZ2V0VXNlckNvbmZpcm1hdGlvbjogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgICBrZXlMZW5ndGg6IF9wcm9wVHlwZXMuZGVmYXVsdC5udW1iZXIKICB9OwoKICBCcm93c2VyUm91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHsKICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAicHJvZHVjdGlvbiIgPyAoMCwgX3RpbnlXYXJuaW5nLmRlZmF1bHQpKCF0aGlzLnByb3BzLmhpc3RvcnksICI8QnJvd3NlclJvdXRlcj4gaWdub3JlcyB0aGUgaGlzdG9yeSBwcm9wLiBUbyB1c2UgYSBjdXN0b20gaGlzdG9yeSwgIiArICJ1c2UgYGltcG9ydCB7IFJvdXRlciB9YCBpbnN0ZWFkIG9mIGBpbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciB9YC4iKSA6IHZvaWQgMDsKICB9Owp9Ci8qKgogKiBUaGUgcHVibGljIEFQSSBmb3IgYSA8Um91dGVyPiB0aGF0IHVzZXMgd2luZG93LmxvY2F0aW9uLmhhc2guCiAqLwoKCnZhciBIYXNoUm91dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7CiAgKDAsIF9pbmhlcml0c0xvb3NlMi5kZWZhdWx0KShIYXNoUm91dGVyLCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gSGFzaFJvdXRlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9SZWFjdCRDb21wb25lbnQuY2FsbC5hcHBseShfUmVhY3QkQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzOwogICAgX3RoaXMuaGlzdG9yeSA9ICgwLCBfaGlzdG9yeS5jcmVhdGVIYXNoSGlzdG9yeSkoX3RoaXMucHJvcHMpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgdmFyIF9wcm90byA9IEhhc2hSb3V0ZXIucHJvdG90eXBlOwoKICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkgewogICAgcmV0dXJuIC8qI19fUFVSRV9fKi9fcmVhY3QuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5Sb3V0ZXIsIHsKICAgICAgaGlzdG9yeTogdGhpcy5oaXN0b3J5LAogICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jaGlsZHJlbgogICAgfSk7CiAgfTsKCiAgcmV0dXJuIEhhc2hSb3V0ZXI7Cn0oX3JlYWN0LmRlZmF1bHQuQ29tcG9uZW50KTsKCmV4cG9ydHMuSGFzaFJvdXRlciA9IEhhc2hSb3V0ZXI7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIikgewogIEhhc2hSb3V0ZXIucHJvcFR5cGVzID0gewogICAgYmFzZW5hbWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgICBjaGlsZHJlbjogX3Byb3BUeXBlcy5kZWZhdWx0Lm5vZGUsCiAgICBnZXRVc2VyQ29uZmlybWF0aW9uOiBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuYywKICAgIGhhc2hUeXBlOiBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2YoWyJoYXNoYmFuZyIsICJub3NsYXNoIiwgInNsYXNoIl0pCiAgfTsKCiAgSGFzaFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7CiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gInByb2R1Y3Rpb24iID8gKDAsIF90aW55V2FybmluZy5kZWZhdWx0KSghdGhpcy5wcm9wcy5oaXN0b3J5LCAiPEhhc2hSb3V0ZXI+IGlnbm9yZXMgdGhlIGhpc3RvcnkgcHJvcC4gVG8gdXNlIGEgY3VzdG9tIGhpc3RvcnksICIgKyAidXNlIGBpbXBvcnQgeyBSb3V0ZXIgfWAgaW5zdGVhZCBvZiBgaW1wb3J0IHsgSGFzaFJvdXRlciBhcyBSb3V0ZXIgfWAuIikgOiB2b2lkIDA7CiAgfTsKfQoKdmFyIHJlc29sdmVUb0xvY2F0aW9uID0gZnVuY3Rpb24gcmVzb2x2ZVRvTG9jYXRpb24odG8sIGN1cnJlbnRMb2NhdGlvbikgewogIHJldHVybiB0eXBlb2YgdG8gPT09ICJmdW5jdGlvbiIgPyB0byhjdXJyZW50TG9jYXRpb24pIDogdG87Cn07Cgp2YXIgbm9ybWFsaXplVG9Mb2NhdGlvbiA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVRvTG9jYXRpb24odG8sIGN1cnJlbnRMb2NhdGlvbikgewogIHJldHVybiB0eXBlb2YgdG8gPT09ICJzdHJpbmciID8gKDAsIF9oaXN0b3J5LmNyZWF0ZUxvY2F0aW9uKSh0bywgbnVsbCwgbnVsbCwgY3VycmVudExvY2F0aW9uKSA6IHRvOwp9OwoKdmFyIGZvcndhcmRSZWZTaGltID0gZnVuY3Rpb24gZm9yd2FyZFJlZlNoaW0oQykgewogIHJldHVybiBDOwp9OwoKdmFyIGZvcndhcmRSZWYgPSBfcmVhY3QuZGVmYXVsdC5mb3J3YXJkUmVmOwoKaWYgKHR5cGVvZiBmb3J3YXJkUmVmID09PSAidW5kZWZpbmVkIikgewogIGZvcndhcmRSZWYgPSBmb3J3YXJkUmVmU2hpbTsKfQoKZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7CiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpOwp9Cgp2YXIgTGlua0FuY2hvciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIGZvcndhcmRlZFJlZikgewogIHZhciBpbm5lclJlZiA9IF9yZWYuaW5uZXJSZWYsCiAgICAgIG5hdmlnYXRlID0gX3JlZi5uYXZpZ2F0ZSwKICAgICAgX29uQ2xpY2sgPSBfcmVmLm9uQ2xpY2ssCiAgICAgIHJlc3QgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UyLmRlZmF1bHQpKF9yZWYsIFsiaW5uZXJSZWYiLCAibmF2aWdhdGUiLCAib25DbGljayJdKTsKICB2YXIgdGFyZ2V0ID0gcmVzdC50YXJnZXQ7CiAgdmFyIHByb3BzID0gKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7fSwgcmVzdCwgewogICAgb25DbGljazogZnVuY3Rpb24gb25DbGljayhldmVudCkgewogICAgICB0cnkgewogICAgICAgIGlmIChfb25DbGljaykgX29uQ2xpY2soZXZlbnQpOwogICAgICB9IGNhdGNoIChleCkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdGhyb3cgZXg7CiAgICAgIH0KCiAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCAmJiAvLyBvbkNsaWNrIHByZXZlbnRlZCBkZWZhdWx0CiAgICAgIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAoIC8vIGlnbm9yZSBldmVyeXRoaW5nIGJ1dCBsZWZ0IGNsaWNrcwogICAgICAhdGFyZ2V0IHx8IHRhcmdldCA9PT0gIl9zZWxmIikgJiYgLy8gbGV0IGJyb3dzZXIgaGFuZGxlICJ0YXJnZXQ9X2JsYW5rIiBldGMuCiAgICAgICFpc01vZGlmaWVkRXZlbnQoZXZlbnQpIC8vIGlnbm9yZSBjbGlja3Mgd2l0aCBtb2RpZmllciBrZXlzCiAgICAgICkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgbmF2aWdhdGUoKTsKICAgICAgfQogICAgfQogIH0pOyAvLyBSZWFjdCAxNSBjb21wYXQKCiAgaWYgKGZvcndhcmRSZWZTaGltICE9PSBmb3J3YXJkUmVmKSB7CiAgICBwcm9wcy5yZWYgPSBmb3J3YXJkZWRSZWYgfHwgaW5uZXJSZWY7CiAgfSBlbHNlIHsKICAgIHByb3BzLnJlZiA9IGlubmVyUmVmOwogIH0KICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50ICovCgoKICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoImEiLCBwcm9wcyk7Cn0pOwoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAicHJvZHVjdGlvbiIpIHsKICBMaW5rQW5jaG9yLmRpc3BsYXlOYW1lID0gIkxpbmtBbmNob3IiOwp9Ci8qKgogKiBUaGUgcHVibGljIEFQSSBmb3IgcmVuZGVyaW5nIGEgaGlzdG9yeS1hd2FyZSA8YT4uCiAqLwoKCnZhciBMaW5rID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZjIsIGZvcndhcmRlZFJlZikgewogIHZhciBfcmVmMiRjb21wb25lbnQgPSBfcmVmMi5jb21wb25lbnQsCiAgICAgIGNvbXBvbmVudCA9IF9yZWYyJGNvbXBvbmVudCA9PT0gdm9pZCAwID8gTGlua0FuY2hvciA6IF9yZWYyJGNvbXBvbmVudCwKICAgICAgcmVwbGFjZSA9IF9yZWYyLnJlcGxhY2UsCiAgICAgIHRvID0gX3JlZjIudG8sCiAgICAgIGlubmVyUmVmID0gX3JlZjIuaW5uZXJSZWYsCiAgICAgIHJlc3QgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UyLmRlZmF1bHQpKF9yZWYyLCBbImNvbXBvbmVudCIsICJyZXBsYWNlIiwgInRvIiwgImlubmVyUmVmIl0pOwogIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuX19Sb3V0ZXJDb250ZXh0LkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoY29udGV4dCkgewogICAgIWNvbnRleHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gInByb2R1Y3Rpb24iID8gKDAsIF90aW55SW52YXJpYW50LmRlZmF1bHQpKGZhbHNlLCAiWW91IHNob3VsZCBub3QgdXNlIDxMaW5rPiBvdXRzaWRlIGEgPFJvdXRlcj4iKSA6ICgwLCBfdGlueUludmFyaWFudC5kZWZhdWx0KShmYWxzZSkgOiB2b2lkIDA7CiAgICB2YXIgaGlzdG9yeSA9IGNvbnRleHQuaGlzdG9yeTsKICAgIHZhciBsb2NhdGlvbiA9IG5vcm1hbGl6ZVRvTG9jYXRpb24ocmVzb2x2ZVRvTG9jYXRpb24odG8sIGNvbnRleHQubG9jYXRpb24pLCBjb250ZXh0LmxvY2F0aW9uKTsKICAgIHZhciBocmVmID0gbG9jYXRpb24gPyBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pIDogIiI7CiAgICB2YXIgcHJvcHMgPSAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHt9LCByZXN0LCB7CiAgICAgIGhyZWY6IGhyZWYsCiAgICAgIG5hdmlnYXRlOiBmdW5jdGlvbiBuYXZpZ2F0ZSgpIHsKICAgICAgICB2YXIgbG9jYXRpb24gPSByZXNvbHZlVG9Mb2NhdGlvbih0bywgY29udGV4dC5sb2NhdGlvbik7CiAgICAgICAgdmFyIGlzRHVwbGljYXRlTmF2aWdhdGlvbiA9ICgwLCBfaGlzdG9yeS5jcmVhdGVQYXRoKShjb250ZXh0LmxvY2F0aW9uKSA9PT0gKDAsIF9oaXN0b3J5LmNyZWF0ZVBhdGgpKG5vcm1hbGl6ZVRvTG9jYXRpb24obG9jYXRpb24pKTsKICAgICAgICB2YXIgbWV0aG9kID0gcmVwbGFjZSB8fCBpc0R1cGxpY2F0ZU5hdmlnYXRpb24gPyBoaXN0b3J5LnJlcGxhY2UgOiBoaXN0b3J5LnB1c2g7CiAgICAgICAgbWV0aG9kKGxvY2F0aW9uKTsKICAgICAgfQogICAgfSk7IC8vIFJlYWN0IDE1IGNvbXBhdAoKICAgIGlmIChmb3J3YXJkUmVmU2hpbSAhPT0gZm9yd2FyZFJlZikgewogICAgICBwcm9wcy5yZWYgPSBmb3J3YXJkZWRSZWYgfHwgaW5uZXJSZWY7CiAgICB9IGVsc2UgewogICAgICBwcm9wcy5pbm5lclJlZiA9IGlubmVyUmVmOwogICAgfQoKICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTsKICB9KTsKfSk7CmV4cG9ydHMuTGluayA9IExpbms7CgppZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIikgewogIHZhciB0b1R5cGUgPSBfcHJvcFR5cGVzLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzLmRlZmF1bHQub2JqZWN0LCBfcHJvcFR5cGVzLmRlZmF1bHQuZnVuY10pOwoKICB2YXIgcmVmVHlwZSA9IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLCBfcHJvcFR5cGVzLmRlZmF1bHQuc2hhcGUoewogICAgY3VycmVudDogX3Byb3BUeXBlcy5kZWZhdWx0LmFueQogIH0pXSk7CgogIExpbmsuZGlzcGxheU5hbWUgPSAiTGluayI7CiAgTGluay5wcm9wVHlwZXMgPSB7CiAgICBpbm5lclJlZjogcmVmVHlwZSwKICAgIG9uQ2xpY2s6IF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jLAogICAgcmVwbGFjZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgICB0YXJnZXQ6IF9wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsCiAgICB0bzogdG9UeXBlLmlzUmVxdWlyZWQKICB9Owp9Cgp2YXIgZm9yd2FyZFJlZlNoaW0kMSA9IGZ1bmN0aW9uIGZvcndhcmRSZWZTaGltKEMpIHsKICByZXR1cm4gQzsKfTsKCnZhciBmb3J3YXJkUmVmJDEgPSBfcmVhY3QuZGVmYXVsdC5mb3J3YXJkUmVmOwoKaWYgKHR5cGVvZiBmb3J3YXJkUmVmJDEgPT09ICJ1bmRlZmluZWQiKSB7CiAgZm9yd2FyZFJlZiQxID0gZm9yd2FyZFJlZlNoaW0kMTsKfQoKZnVuY3Rpb24gam9pbkNsYXNzbmFtZXMoKSB7CiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzbmFtZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICBjbGFzc25hbWVzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogIH0KCiAgcmV0dXJuIGNsYXNzbmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICByZXR1cm4gaTsKICB9KS5qb2luKCIgIik7Cn0KLyoqCiAqIEEgPExpbms+IHdyYXBwZXIgdGhhdCBrbm93cyBpZiBpdCdzICJhY3RpdmUiIG9yIG5vdC4KICovCgoKdmFyIE5hdkxpbmsgPSBmb3J3YXJkUmVmJDEoZnVuY3Rpb24gKF9yZWYsIGZvcndhcmRlZFJlZikgewogIHZhciBfcmVmJGFyaWFDdXJyZW50ID0gX3JlZlsiYXJpYS1jdXJyZW50Il0sCiAgICAgIGFyaWFDdXJyZW50ID0gX3JlZiRhcmlhQ3VycmVudCA9PT0gdm9pZCAwID8gInBhZ2UiIDogX3JlZiRhcmlhQ3VycmVudCwKICAgICAgX3JlZiRhY3RpdmVDbGFzc05hbWUgPSBfcmVmLmFjdGl2ZUNsYXNzTmFtZSwKICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3JlZiRhY3RpdmVDbGFzc05hbWUgPT09IHZvaWQgMCA/ICJhY3RpdmUiIDogX3JlZiRhY3RpdmVDbGFzc05hbWUsCiAgICAgIGFjdGl2ZVN0eWxlID0gX3JlZi5hY3RpdmVTdHlsZSwKICAgICAgY2xhc3NOYW1lUHJvcCA9IF9yZWYuY2xhc3NOYW1lLAogICAgICBleGFjdCA9IF9yZWYuZXhhY3QsCiAgICAgIGlzQWN0aXZlUHJvcCA9IF9yZWYuaXNBY3RpdmUsCiAgICAgIGxvY2F0aW9uUHJvcCA9IF9yZWYubG9jYXRpb24sCiAgICAgIHNlbnNpdGl2ZSA9IF9yZWYuc2Vuc2l0aXZlLAogICAgICBzdHJpY3QgPSBfcmVmLnN0cmljdCwKICAgICAgc3R5bGVQcm9wID0gX3JlZi5zdHlsZSwKICAgICAgdG8gPSBfcmVmLnRvLAogICAgICBpbm5lclJlZiA9IF9yZWYuaW5uZXJSZWYsCiAgICAgIHJlc3QgPSAoMCwgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UyLmRlZmF1bHQpKF9yZWYsIFsiYXJpYS1jdXJyZW50IiwgImFjdGl2ZUNsYXNzTmFtZSIsICJhY3RpdmVTdHlsZSIsICJjbGFzc05hbWUiLCAiZXhhY3QiLCAiaXNBY3RpdmUiLCAibG9jYXRpb24iLCAic2Vuc2l0aXZlIiwgInN0cmljdCIsICJzdHlsZSIsICJ0byIsICJpbm5lclJlZiJdKTsKICByZXR1cm4gLyojX19QVVJFX18qL19yZWFjdC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyLl9fUm91dGVyQ29udGV4dC5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICFjb250ZXh0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICJwcm9kdWN0aW9uIiA/ICgwLCBfdGlueUludmFyaWFudC5kZWZhdWx0KShmYWxzZSwgIllvdSBzaG91bGQgbm90IHVzZSA8TmF2TGluaz4gb3V0c2lkZSBhIDxSb3V0ZXI+IikgOiAoMCwgX3RpbnlJbnZhcmlhbnQuZGVmYXVsdCkoZmFsc2UpIDogdm9pZCAwOwogICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uUHJvcCB8fCBjb250ZXh0LmxvY2F0aW9uOwogICAgdmFyIHRvTG9jYXRpb24gPSBub3JtYWxpemVUb0xvY2F0aW9uKHJlc29sdmVUb0xvY2F0aW9uKHRvLCBjdXJyZW50TG9jYXRpb24pLCBjdXJyZW50TG9jYXRpb24pOwogICAgdmFyIHBhdGggPSB0b0xvY2F0aW9uLnBhdGhuYW1lOyAvLyBSZWdleCB0YWtlbiBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vcGlsbGFyanMvcGF0aC10by1yZWdleHAvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDIwMgoKICAgIHZhciBlc2NhcGVkUGF0aCA9IHBhdGggJiYgcGF0aC5yZXBsYWNlKC8oWy4rKj89XiE6JHt9KClbXF18L1xcXSkvZywgIlxcJDEiKTsKICAgIHZhciBtYXRjaCA9IGVzY2FwZWRQYXRoID8gKDAsIF9yZWFjdFJvdXRlci5tYXRjaFBhdGgpKGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSwgewogICAgICBwYXRoOiBlc2NhcGVkUGF0aCwKICAgICAgZXhhY3Q6IGV4YWN0LAogICAgICBzZW5zaXRpdmU6IHNlbnNpdGl2ZSwKICAgICAgc3RyaWN0OiBzdHJpY3QKICAgIH0pIDogbnVsbDsKICAgIHZhciBpc0FjdGl2ZSA9ICEhKGlzQWN0aXZlUHJvcCA/IGlzQWN0aXZlUHJvcChtYXRjaCwgY3VycmVudExvY2F0aW9uKSA6IG1hdGNoKTsKICAgIHZhciBjbGFzc05hbWUgPSB0eXBlb2YgY2xhc3NOYW1lUHJvcCA9PT0gImZ1bmN0aW9uIiA/IGNsYXNzTmFtZVByb3AoaXNBY3RpdmUpIDogY2xhc3NOYW1lUHJvcDsKICAgIHZhciBzdHlsZSA9IHR5cGVvZiBzdHlsZVByb3AgPT09ICJmdW5jdGlvbiIgPyBzdHlsZVByb3AoaXNBY3RpdmUpIDogc3R5bGVQcm9wOwoKICAgIGlmIChpc0FjdGl2ZSkgewogICAgICBjbGFzc05hbWUgPSBqb2luQ2xhc3NuYW1lcyhjbGFzc05hbWUsIGFjdGl2ZUNsYXNzTmFtZSk7CiAgICAgIHN0eWxlID0gKDAsIF9leHRlbmRzMi5kZWZhdWx0KSh7fSwgc3R5bGUsIGFjdGl2ZVN0eWxlKTsKICAgIH0KCiAgICB2YXIgcHJvcHMgPSAoMCwgX2V4dGVuZHMyLmRlZmF1bHQpKHsKICAgICAgImFyaWEtY3VycmVudCI6IGlzQWN0aXZlICYmIGFyaWFDdXJyZW50IHx8IG51bGwsCiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLAogICAgICBzdHlsZTogc3R5bGUsCiAgICAgIHRvOiB0b0xvY2F0aW9uCiAgICB9LCByZXN0KTsgLy8gUmVhY3QgMTUgY29tcGF0CgogICAgaWYgKGZvcndhcmRSZWZTaGltJDEgIT09IGZvcndhcmRSZWYkMSkgewogICAgICBwcm9wcy5yZWYgPSBmb3J3YXJkZWRSZWYgfHwgaW5uZXJSZWY7CiAgICB9IGVsc2UgewogICAgICBwcm9wcy5pbm5lclJlZiA9IGlubmVyUmVmOwogICAgfQoKICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlYWN0LmRlZmF1bHQuY3JlYXRlRWxlbWVudChMaW5rLCBwcm9wcyk7CiAgfSk7Cn0pOwpleHBvcnRzLk5hdkxpbmsgPSBOYXZMaW5rOwoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAicHJvZHVjdGlvbiIpIHsKICBOYXZMaW5rLmRpc3BsYXlOYW1lID0gIk5hdkxpbmsiOwoKICB2YXIgYXJpYUN1cnJlbnRUeXBlID0gX3Byb3BUeXBlcy5kZWZhdWx0Lm9uZU9mKFsicGFnZSIsICJzdGVwIiwgImxvY2F0aW9uIiwgImRhdGUiLCAidGltZSIsICJ0cnVlIiwgImZhbHNlIl0pOwoKICBOYXZMaW5rLnByb3BUeXBlcyA9ICgwLCBfZXh0ZW5kczIuZGVmYXVsdCkoe30sIExpbmsucHJvcFR5cGVzLCB7CiAgICAiYXJpYS1jdXJyZW50IjogYXJpYUN1cnJlbnRUeXBlLAogICAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzLmRlZmF1bHQuc3RyaW5nLAogICAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsCiAgICBjbGFzc05hbWU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jXSksCiAgICBleGFjdDogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgICBpc0FjdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmZ1bmMsCiAgICBsb2NhdGlvbjogX3Byb3BUeXBlcy5kZWZhdWx0Lm9iamVjdCwKICAgIHNlbnNpdGl2ZTogX3Byb3BUeXBlcy5kZWZhdWx0LmJvb2wsCiAgICBzdHJpY3Q6IF9wcm9wVHlwZXMuZGVmYXVsdC5ib29sLAogICAgc3R5bGU6IF9wcm9wVHlwZXMuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMuZGVmYXVsdC5vYmplY3QsIF9wcm9wVHlwZXMuZGVmYXVsdC5mdW5jXSkKICB9KTsKfQ=="},null]}