{"remainingRequest":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js??ref--4-2!/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/redux-logger/dist/redux-logger.js","dependencies":[{"path":"/Users/Aaron/Desktop/work/qunar/work/sniperjs/example/node/node_modules/redux-logger/dist/redux-logger.js","hash":"0c09c42ebad2b92338c8d4034d002749"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/cache-loader-hash/dist/cjs.js","hash":"d62e2d390167bf8193569f1644327c55"},{"path":"/Users/Aaron/Desktop/work/qunar/work/ykit3/packages/ykit3-cli/node_modules/babel-loader/lib/index.js","hash":"19adf3159c902f1ed7907f3931384270"}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9CgohZnVuY3Rpb24gKGUsIHQpIHsKICAib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSAmJiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgbW9kdWxlID8gdChleHBvcnRzKSA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsiZXhwb3J0cyJdLCB0KSA6IHQoZS5yZWR1eExvZ2dlciA9IGUucmVkdXhMb2dnZXIgfHwge30pOwp9KHZvaWQgMCwgZnVuY3Rpb24gKGUpIHsKICAidXNlIHN0cmljdCI7CgogIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgZS5zdXBlcl8gPSB0LCBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsIHsKICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICB2YWx1ZTogZSwKICAgICAgICBlbnVtZXJhYmxlOiAhMSwKICAgICAgICB3cml0YWJsZTogITAsCiAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHIoZSwgdCkgewogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJraW5kIiwgewogICAgICB2YWx1ZTogZSwKICAgICAgZW51bWVyYWJsZTogITAKICAgIH0pLCB0ICYmIHQubGVuZ3RoICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAicGF0aCIsIHsKICAgICAgdmFsdWU6IHQsCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG4oZSwgdCwgcikgewogICAgbi5zdXBlcl8uY2FsbCh0aGlzLCAiRSIsIGUpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgImxocyIsIHsKICAgICAgdmFsdWU6IHQsCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJyaHMiLCB7CiAgICAgIHZhbHVlOiByLAogICAgICBlbnVtZXJhYmxlOiAhMAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvKGUsIHQpIHsKICAgIG8uc3VwZXJfLmNhbGwodGhpcywgIk4iLCBlKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJyaHMiLCB7CiAgICAgIHZhbHVlOiB0LAogICAgICBlbnVtZXJhYmxlOiAhMAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBpKGUsIHQpIHsKICAgIGkuc3VwZXJfLmNhbGwodGhpcywgIkQiLCBlKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJsaHMiLCB7CiAgICAgIHZhbHVlOiB0LAogICAgICBlbnVtZXJhYmxlOiAhMAogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhKGUsIHQsIHIpIHsKICAgIGEuc3VwZXJfLmNhbGwodGhpcywgIkEiLCBlKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJpbmRleCIsIHsKICAgICAgdmFsdWU6IHQsCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJpdGVtIiwgewogICAgICB2YWx1ZTogciwKICAgICAgZW51bWVyYWJsZTogITAKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZihlLCB0LCByKSB7CiAgICB2YXIgbiA9IGUuc2xpY2UoKHIgfHwgdCkgKyAxIHx8IGUubGVuZ3RoKTsKICAgIHJldHVybiBlLmxlbmd0aCA9IHQgPCAwID8gZS5sZW5ndGggKyB0IDogdCwgZS5wdXNoLmFwcGx5KGUsIG4pLCBlOwogIH0KCiAgZnVuY3Rpb24gdShlKSB7CiAgICB2YXIgdCA9ICJ1bmRlZmluZWQiID09IHR5cGVvZiBlID8gInVuZGVmaW5lZCIgOiBOKGUpOwogICAgcmV0dXJuICJvYmplY3QiICE9PSB0ID8gdCA6IGUgPT09IE1hdGggPyAibWF0aCIgOiBudWxsID09PSBlID8gIm51bGwiIDogQXJyYXkuaXNBcnJheShlKSA/ICJhcnJheSIgOiAiW29iamVjdCBEYXRlXSIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSA/ICJkYXRlIiA6ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUudG9TdHJpbmcgJiYgL15cLy4qXC8vLnRlc3QoZS50b1N0cmluZygpKSA/ICJyZWdleHAiIDogIm9iamVjdCI7CiAgfQoKICBmdW5jdGlvbiBsKGUsIHQsIHIsIGMsIHMsIGQsIHApIHsKICAgIHMgPSBzIHx8IFtdLCBwID0gcCB8fCBbXTsKICAgIHZhciBnID0gcy5zbGljZSgwKTsKCiAgICBpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIGQpIHsKICAgICAgaWYgKGMpIHsKICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgYyAmJiBjKGcsIGQpKSByZXR1cm47CgogICAgICAgIGlmICgib2JqZWN0IiA9PT0gKCJ1bmRlZmluZWQiID09IHR5cGVvZiBjID8gInVuZGVmaW5lZCIgOiBOKGMpKSkgewogICAgICAgICAgaWYgKGMucHJlZmlsdGVyICYmIGMucHJlZmlsdGVyKGcsIGQpKSByZXR1cm47CgogICAgICAgICAgaWYgKGMubm9ybWFsaXplKSB7CiAgICAgICAgICAgIHZhciBoID0gYy5ub3JtYWxpemUoZywgZCwgZSwgdCk7CiAgICAgICAgICAgIGggJiYgKGUgPSBoWzBdLCB0ID0gaFsxXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBnLnB1c2goZCk7CiAgICB9CgogICAgInJlZ2V4cCIgPT09IHUoZSkgJiYgInJlZ2V4cCIgPT09IHUodCkgJiYgKGUgPSBlLnRvU3RyaW5nKCksIHQgPSB0LnRvU3RyaW5nKCkpOwogICAgdmFyIHkgPSAidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSA/ICJ1bmRlZmluZWQiIDogTihlKSwKICAgICAgICB2ID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQgPyAidW5kZWZpbmVkIiA6IE4odCksCiAgICAgICAgYiA9ICJ1bmRlZmluZWQiICE9PSB5IHx8IHAgJiYgcFtwLmxlbmd0aCAtIDFdLmxocyAmJiBwW3AubGVuZ3RoIC0gMV0ubGhzLmhhc093blByb3BlcnR5KGQpLAogICAgICAgIG0gPSAidW5kZWZpbmVkIiAhPT0gdiB8fCBwICYmIHBbcC5sZW5ndGggLSAxXS5yaHMgJiYgcFtwLmxlbmd0aCAtIDFdLnJocy5oYXNPd25Qcm9wZXJ0eShkKTsKICAgIGlmICghYiAmJiBtKSByKG5ldyBvKGcsIHQpKTtlbHNlIGlmICghbSAmJiBiKSByKG5ldyBpKGcsIGUpKTtlbHNlIGlmICh1KGUpICE9PSB1KHQpKSByKG5ldyBuKGcsIGUsIHQpKTtlbHNlIGlmICgiZGF0ZSIgPT09IHUoZSkgJiYgZSAtIHQgIT09IDApIHIobmV3IG4oZywgZSwgdCkpO2Vsc2UgaWYgKCJvYmplY3QiID09PSB5ICYmIG51bGwgIT09IGUgJiYgbnVsbCAhPT0gdCkgewogICAgICBpZiAocC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdC5saHMgPT09IGU7CiAgICAgIH0pLmxlbmd0aCkgZSAhPT0gdCAmJiByKG5ldyBuKGcsIGUsIHQpKTtlbHNlIHsKICAgICAgICBpZiAocC5wdXNoKHsKICAgICAgICAgIGxoczogZSwKICAgICAgICAgIHJoczogdAogICAgICAgIH0pLCBBcnJheS5pc0FycmF5KGUpKSB7CiAgICAgICAgICB2YXIgdzsKICAgICAgICAgIGUubGVuZ3RoOwoKICAgICAgICAgIGZvciAodyA9IDA7IHcgPCBlLmxlbmd0aDsgdysrKSB7CiAgICAgICAgICAgIHcgPj0gdC5sZW5ndGggPyByKG5ldyBhKGcsIHcsIG5ldyBpKHZvaWQgMCwgZVt3XSkpKSA6IGwoZVt3XSwgdFt3XSwgciwgYywgZywgdywgcCk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICg7IHcgPCB0Lmxlbmd0aDspIHsKICAgICAgICAgICAgcihuZXcgYShnLCB3LCBuZXcgbyh2b2lkIDAsIHRbdysrXSkpKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHggPSBPYmplY3Qua2V5cyhlKSwKICAgICAgICAgICAgICBTID0gT2JqZWN0LmtleXModCk7CiAgICAgICAgICB4LmZvckVhY2goZnVuY3Rpb24gKG4sIG8pIHsKICAgICAgICAgICAgdmFyIGkgPSBTLmluZGV4T2Yobik7CiAgICAgICAgICAgIGkgPj0gMCA/IChsKGVbbl0sIHRbbl0sIHIsIGMsIGcsIG4sIHApLCBTID0gZihTLCBpKSkgOiBsKGVbbl0sIHZvaWQgMCwgciwgYywgZywgbiwgcCk7CiAgICAgICAgICB9KSwgUy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGwodm9pZCAwLCB0W2VdLCByLCBjLCBnLCBlLCBwKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcC5sZW5ndGggPSBwLmxlbmd0aCAtIDE7CiAgICAgIH0KICAgIH0gZWxzZSBlICE9PSB0ICYmICgibnVtYmVyIiA9PT0geSAmJiBpc05hTihlKSAmJiBpc05hTih0KSB8fCByKG5ldyBuKGcsIGUsIHQpKSk7CiAgfQoKICBmdW5jdGlvbiBjKGUsIHQsIHIsIG4pIHsKICAgIHJldHVybiBuID0gbiB8fCBbXSwgbChlLCB0LCBmdW5jdGlvbiAoZSkgewogICAgICBlICYmIG4ucHVzaChlKTsKICAgIH0sIHIpLCBuLmxlbmd0aCA/IG4gOiB2b2lkIDA7CiAgfQoKICBmdW5jdGlvbiBzKGUsIHQsIHIpIHsKICAgIGlmIChyLnBhdGggJiYgci5wYXRoLmxlbmd0aCkgewogICAgICB2YXIgbiwKICAgICAgICAgIG8gPSBlW3RdLAogICAgICAgICAgaSA9IHIucGF0aC5sZW5ndGggLSAxOwoKICAgICAgZm9yIChuID0gMDsgbiA8IGk7IG4rKykgewogICAgICAgIG8gPSBvW3IucGF0aFtuXV07CiAgICAgIH0KCiAgICAgIHN3aXRjaCAoci5raW5kKSB7CiAgICAgICAgY2FzZSAiQSI6CiAgICAgICAgICBzKG9bci5wYXRoW25dXSwgci5pbmRleCwgci5pdGVtKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJEIjoKICAgICAgICAgIGRlbGV0ZSBvW3IucGF0aFtuXV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiRSI6CiAgICAgICAgY2FzZSAiTiI6CiAgICAgICAgICBvW3IucGF0aFtuXV0gPSByLnJoczsKICAgICAgfQogICAgfSBlbHNlIHN3aXRjaCAoci5raW5kKSB7CiAgICAgIGNhc2UgIkEiOgogICAgICAgIHMoZVt0XSwgci5pbmRleCwgci5pdGVtKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIkQiOgogICAgICAgIGUgPSBmKGUsIHQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAiRSI6CiAgICAgIGNhc2UgIk4iOgogICAgICAgIGVbdF0gPSByLnJoczsKICAgIH0KCiAgICByZXR1cm4gZTsKICB9CgogIGZ1bmN0aW9uIGQoZSwgdCwgcikgewogICAgaWYgKGUgJiYgdCAmJiByICYmIHIua2luZCkgewogICAgICBmb3IgKHZhciBuID0gZSwgbyA9IC0xLCBpID0gci5wYXRoID8gci5wYXRoLmxlbmd0aCAtIDEgOiAwOyArK28gPCBpOykgewogICAgICAgICJ1bmRlZmluZWQiID09IHR5cGVvZiBuW3IucGF0aFtvXV0gJiYgKG5bci5wYXRoW29dXSA9ICJudW1iZXIiID09IHR5cGVvZiByLnBhdGhbb10gPyBbXSA6IHt9KSwgbiA9IG5bci5wYXRoW29dXTsKICAgICAgfQoKICAgICAgc3dpdGNoIChyLmtpbmQpIHsKICAgICAgICBjYXNlICJBIjoKICAgICAgICAgIHMoci5wYXRoID8gbltyLnBhdGhbb11dIDogbiwgci5pbmRleCwgci5pdGVtKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJEIjoKICAgICAgICAgIGRlbGV0ZSBuW3IucGF0aFtvXV07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiRSI6CiAgICAgICAgY2FzZSAiTiI6CiAgICAgICAgICBuW3IucGF0aFtvXV0gPSByLnJoczsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gcChlLCB0LCByKSB7CiAgICBpZiAoci5wYXRoICYmIHIucGF0aC5sZW5ndGgpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICBvID0gZVt0XSwKICAgICAgICAgIGkgPSByLnBhdGgubGVuZ3RoIC0gMTsKCiAgICAgIGZvciAobiA9IDA7IG4gPCBpOyBuKyspIHsKICAgICAgICBvID0gb1tyLnBhdGhbbl1dOwogICAgICB9CgogICAgICBzd2l0Y2ggKHIua2luZCkgewogICAgICAgIGNhc2UgIkEiOgogICAgICAgICAgcChvW3IucGF0aFtuXV0sIHIuaW5kZXgsIHIuaXRlbSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiRCI6CiAgICAgICAgICBvW3IucGF0aFtuXV0gPSByLmxoczsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJFIjoKICAgICAgICAgIG9bci5wYXRoW25dXSA9IHIubGhzOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIk4iOgogICAgICAgICAgZGVsZXRlIG9bci5wYXRoW25dXTsKICAgICAgfQogICAgfSBlbHNlIHN3aXRjaCAoci5raW5kKSB7CiAgICAgIGNhc2UgIkEiOgogICAgICAgIHAoZVt0XSwgci5pbmRleCwgci5pdGVtKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIkQiOgogICAgICAgIGVbdF0gPSByLmxoczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIkUiOgogICAgICAgIGVbdF0gPSByLmxoczsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgIk4iOgogICAgICAgIGUgPSBmKGUsIHQpOwogICAgfQoKICAgIHJldHVybiBlOwogIH0KCiAgZnVuY3Rpb24gZyhlLCB0LCByKSB7CiAgICBpZiAoZSAmJiB0ICYmIHIgJiYgci5raW5kKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBlOwoKICAgICAgZm9yIChvID0gci5wYXRoLmxlbmd0aCAtIDEsIG4gPSAwOyBuIDwgbzsgbisrKSB7CiAgICAgICAgInVuZGVmaW5lZCIgPT0gdHlwZW9mIGlbci5wYXRoW25dXSAmJiAoaVtyLnBhdGhbbl1dID0ge30pLCBpID0gaVtyLnBhdGhbbl1dOwogICAgICB9CgogICAgICBzd2l0Y2ggKHIua2luZCkgewogICAgICAgIGNhc2UgIkEiOgogICAgICAgICAgcChpW3IucGF0aFtuXV0sIHIuaW5kZXgsIHIuaXRlbSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiRCI6CiAgICAgICAgICBpW3IucGF0aFtuXV0gPSByLmxoczsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJFIjoKICAgICAgICAgIGlbci5wYXRoW25dXSA9IHIubGhzOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIk4iOgogICAgICAgICAgZGVsZXRlIGlbci5wYXRoW25dXTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gaChlLCB0LCByKSB7CiAgICBpZiAoZSAmJiB0KSB7CiAgICAgIHZhciBuID0gZnVuY3Rpb24gbihfbikgewogICAgICAgIHIgJiYgIXIoZSwgdCwgX24pIHx8IGQoZSwgdCwgX24pOwogICAgICB9OwoKICAgICAgbChlLCB0LCBuKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHkoZSkgewogICAgcmV0dXJuICJjb2xvcjogIiArIEZbZV0uY29sb3IgKyAiOyBmb250LXdlaWdodDogYm9sZCI7CiAgfQoKICBmdW5jdGlvbiB2KGUpIHsKICAgIHZhciB0ID0gZS5raW5kLAogICAgICAgIHIgPSBlLnBhdGgsCiAgICAgICAgbiA9IGUubGhzLAogICAgICAgIG8gPSBlLnJocywKICAgICAgICBpID0gZS5pbmRleCwKICAgICAgICBhID0gZS5pdGVtOwoKICAgIHN3aXRjaCAodCkgewogICAgICBjYXNlICJFIjoKICAgICAgICByZXR1cm4gW3Iuam9pbigiLiIpLCBuLCAi4oaSIiwgb107CgogICAgICBjYXNlICJOIjoKICAgICAgICByZXR1cm4gW3Iuam9pbigiLiIpLCBvXTsKCiAgICAgIGNhc2UgIkQiOgogICAgICAgIHJldHVybiBbci5qb2luKCIuIildOwoKICAgICAgY2FzZSAiQSI6CiAgICAgICAgcmV0dXJuIFtyLmpvaW4oIi4iKSArICJbIiArIGkgKyAiXSIsIGFdOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gW107CiAgICB9CiAgfQoKICBmdW5jdGlvbiBiKGUsIHQsIHIsIG4pIHsKICAgIHZhciBvID0gYyhlLCB0KTsKCiAgICB0cnkgewogICAgICBuID8gci5ncm91cENvbGxhcHNlZCgiZGlmZiIpIDogci5ncm91cCgiZGlmZiIpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByLmxvZygiZGlmZiIpOwogICAgfQoKICAgIG8gPyBvLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmtpbmQsCiAgICAgICAgICBuID0gdihlKTsKICAgICAgci5sb2cuYXBwbHkociwgWyIlYyAiICsgRlt0XS50ZXh0LCB5KHQpXS5jb25jYXQoUChuKSkpOwogICAgfSkgOiByLmxvZygi4oCU4oCUIG5vIGRpZmYg4oCU4oCUIik7CgogICAgdHJ5IHsKICAgICAgci5ncm91cEVuZCgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByLmxvZygi4oCU4oCUIGRpZmYgZW5kIOKAlOKAlCAiKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG0oZSwgdCwgciwgbikgewogICAgc3dpdGNoICgidW5kZWZpbmVkIiA9PSB0eXBlb2YgZSA/ICJ1bmRlZmluZWQiIDogTihlKSkgewogICAgICBjYXNlICJvYmplY3QiOgogICAgICAgIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBlW25dID8gZVtuXS5hcHBseShlLCBQKHIpKSA6IGVbbl07CgogICAgICBjYXNlICJmdW5jdGlvbiI6CiAgICAgICAgcmV0dXJuIGUodCk7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiBlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdyhlKSB7CiAgICB2YXIgdCA9IGUudGltZXN0YW1wLAogICAgICAgIHIgPSBlLmR1cmF0aW9uOwogICAgcmV0dXJuIGZ1bmN0aW9uIChlLCBuLCBvKSB7CiAgICAgIHZhciBpID0gWyJhY3Rpb24iXTsKICAgICAgcmV0dXJuIGkucHVzaCgiJWMiICsgU3RyaW5nKGUudHlwZSkpLCB0ICYmIGkucHVzaCgiJWNAICIgKyBuKSwgciAmJiBpLnB1c2goIiVjKGluICIgKyBvLnRvRml4ZWQoMikgKyAiIG1zKSIpLCBpLmpvaW4oIiAiKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiB4KGUsIHQpIHsKICAgIHZhciByID0gdC5sb2dnZXIsCiAgICAgICAgbiA9IHQuYWN0aW9uVHJhbnNmb3JtZXIsCiAgICAgICAgbyA9IHQudGl0bGVGb3JtYXR0ZXIsCiAgICAgICAgaSA9IHZvaWQgMCA9PT0gbyA/IHcodCkgOiBvLAogICAgICAgIGEgPSB0LmNvbGxhcHNlZCwKICAgICAgICBmID0gdC5jb2xvcnMsCiAgICAgICAgdSA9IHQubGV2ZWwsCiAgICAgICAgbCA9IHQuZGlmZiwKICAgICAgICBjID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIHQudGl0bGVGb3JtYXR0ZXI7CiAgICBlLmZvckVhY2goZnVuY3Rpb24gKG8sIHMpIHsKICAgICAgdmFyIGQgPSBvLnN0YXJ0ZWQsCiAgICAgICAgICBwID0gby5zdGFydGVkVGltZSwKICAgICAgICAgIGcgPSBvLmFjdGlvbiwKICAgICAgICAgIGggPSBvLnByZXZTdGF0ZSwKICAgICAgICAgIHkgPSBvLmVycm9yLAogICAgICAgICAgdiA9IG8udG9vaywKICAgICAgICAgIHcgPSBvLm5leHRTdGF0ZSwKICAgICAgICAgIHggPSBlW3MgKyAxXTsKICAgICAgeCAmJiAodyA9IHgucHJldlN0YXRlLCB2ID0geC5zdGFydGVkIC0gZCk7CiAgICAgIHZhciBTID0gbihnKSwKICAgICAgICAgIGsgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBhID8gYShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHc7CiAgICAgIH0sIGcsIG8pIDogYSwKICAgICAgICAgIGogPSBEKHApLAogICAgICAgICAgRSA9IGYudGl0bGUgPyAiY29sb3I6ICIgKyBmLnRpdGxlKFMpICsgIjsiIDogIiIsCiAgICAgICAgICBBID0gWyJjb2xvcjogZ3JheTsgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7Il07CiAgICAgIEEucHVzaChFKSwgdC50aW1lc3RhbXAgJiYgQS5wdXNoKCJjb2xvcjogZ3JheTsgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7IiksIHQuZHVyYXRpb24gJiYgQS5wdXNoKCJjb2xvcjogZ3JheTsgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7Iik7CiAgICAgIHZhciBPID0gaShTLCBqLCB2KTsKCiAgICAgIHRyeSB7CiAgICAgICAgayA/IGYudGl0bGUgJiYgYyA/IHIuZ3JvdXBDb2xsYXBzZWQuYXBwbHkociwgWyIlYyAiICsgT10uY29uY2F0KEEpKSA6IHIuZ3JvdXBDb2xsYXBzZWQoTykgOiBmLnRpdGxlICYmIGMgPyByLmdyb3VwLmFwcGx5KHIsIFsiJWMgIiArIE9dLmNvbmNhdChBKSkgOiByLmdyb3VwKE8pOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgci5sb2coTyk7CiAgICAgIH0KCiAgICAgIHZhciBOID0gbSh1LCBTLCBbaF0sICJwcmV2U3RhdGUiKSwKICAgICAgICAgIFAgPSBtKHUsIFMsIFtTXSwgImFjdGlvbiIpLAogICAgICAgICAgQyA9IG0odSwgUywgW3ksIGhdLCAiZXJyb3IiKSwKICAgICAgICAgIEYgPSBtKHUsIFMsIFt3XSwgIm5leHRTdGF0ZSIpOwogICAgICBpZiAoTikgaWYgKGYucHJldlN0YXRlKSB7CiAgICAgICAgdmFyIEwgPSAiY29sb3I6ICIgKyBmLnByZXZTdGF0ZShoKSArICI7IGZvbnQtd2VpZ2h0OiBib2xkIjsKICAgICAgICByW05dKCIlYyBwcmV2IHN0YXRlIiwgTCwgaCk7CiAgICAgIH0gZWxzZSByW05dKCJwcmV2IHN0YXRlIiwgaCk7CiAgICAgIGlmIChQKSBpZiAoZi5hY3Rpb24pIHsKICAgICAgICB2YXIgVCA9ICJjb2xvcjogIiArIGYuYWN0aW9uKFMpICsgIjsgZm9udC13ZWlnaHQ6IGJvbGQiOwogICAgICAgIHJbUF0oIiVjIGFjdGlvbiAgICAiLCBULCBTKTsKICAgICAgfSBlbHNlIHJbUF0oImFjdGlvbiAgICAiLCBTKTsKICAgICAgaWYgKHkgJiYgQykgaWYgKGYuZXJyb3IpIHsKICAgICAgICB2YXIgTSA9ICJjb2xvcjogIiArIGYuZXJyb3IoeSwgaCkgKyAiOyBmb250LXdlaWdodDogYm9sZDsiOwogICAgICAgIHJbQ10oIiVjIGVycm9yICAgICAiLCBNLCB5KTsKICAgICAgfSBlbHNlIHJbQ10oImVycm9yICAgICAiLCB5KTsKICAgICAgaWYgKEYpIGlmIChmLm5leHRTdGF0ZSkgewogICAgICAgIHZhciBfID0gImNvbG9yOiAiICsgZi5uZXh0U3RhdGUodykgKyAiOyBmb250LXdlaWdodDogYm9sZCI7CgogICAgICAgIHJbRl0oIiVjIG5leHQgc3RhdGUiLCBfLCB3KTsKICAgICAgfSBlbHNlIHJbRl0oIm5leHQgc3RhdGUiLCB3KTsKICAgICAgbCAmJiBiKGgsIHcsIHIsIGspOwoKICAgICAgdHJ5IHsKICAgICAgICByLmdyb3VwRW5kKCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByLmxvZygi4oCU4oCUIGxvZyBlbmQg4oCU4oCUIik7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gUygpIHsKICAgIHZhciBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMF0gPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgICB0ID0gT2JqZWN0LmFzc2lnbih7fSwgTCwgZSksCiAgICAgICAgciA9IHQubG9nZ2VyLAogICAgICAgIG4gPSB0LnN0YXRlVHJhbnNmb3JtZXIsCiAgICAgICAgbyA9IHQuZXJyb3JUcmFuc2Zvcm1lciwKICAgICAgICBpID0gdC5wcmVkaWNhdGUsCiAgICAgICAgYSA9IHQubG9nRXJyb3JzLAogICAgICAgIGYgPSB0LmRpZmZQcmVkaWNhdGU7CiAgICBpZiAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIHIpIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICAgICAgcmV0dXJuIGUodCk7CiAgICAgICAgfTsKICAgICAgfTsKICAgIH07CiAgICBpZiAoZS5nZXRTdGF0ZSAmJiBlLmRpc3BhdGNoKSByZXR1cm4gY29uc29sZS5lcnJvcigiW3JlZHV4LWxvZ2dlcl0gcmVkdXgtbG9nZ2VyIG5vdCBpbnN0YWxsZWQuIE1ha2Ugc3VyZSB0byBwYXNzIGxvZ2dlciBpbnN0YW5jZSBhcyBtaWRkbGV3YXJlOlxuLy8gTG9nZ2VyIHdpdGggZGVmYXVsdCBvcHRpb25zXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdyZWR1eC1sb2dnZXInXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxuICByZWR1Y2VyLFxuICBhcHBseU1pZGRsZXdhcmUobG9nZ2VyKVxuKVxuLy8gT3IgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gbG9nZ2VyIHdpdGggY3VzdG9tIG9wdGlvbnMgaHR0cDovL2JpdC5seS9yZWR1eC1sb2dnZXItb3B0aW9uc1xuaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInXG5jb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoe1xuICAvLyAuLi5vcHRpb25zXG59KTtcbmNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gIHJlZHVjZXIsXG4gIGFwcGx5TWlkZGxld2FyZShsb2dnZXIpXG4pXG4iKSwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBlKHQpOwogICAgICAgIH07CiAgICAgIH07CiAgICB9OwogICAgdmFyIHUgPSBbXTsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgciA9IGUuZ2V0U3RhdGU7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAobCkgewogICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgJiYgIWkociwgbCkpIHJldHVybiBlKGwpOwogICAgICAgICAgdmFyIGMgPSB7fTsKICAgICAgICAgIHUucHVzaChjKSwgYy5zdGFydGVkID0gTy5ub3coKSwgYy5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCksIGMucHJldlN0YXRlID0gbihyKCkpLCBjLmFjdGlvbiA9IGw7CiAgICAgICAgICB2YXIgcyA9IHZvaWQgMDsKICAgICAgICAgIGlmIChhKSB0cnkgewogICAgICAgICAgICBzID0gZShsKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgYy5lcnJvciA9IG8oZSk7CiAgICAgICAgICB9IGVsc2UgcyA9IGUobCk7CiAgICAgICAgICBjLnRvb2sgPSBPLm5vdygpIC0gYy5zdGFydGVkLCBjLm5leHRTdGF0ZSA9IG4ocigpKTsKICAgICAgICAgIHZhciBkID0gdC5kaWZmICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGYgPyBmKHIsIGwpIDogdC5kaWZmOwogICAgICAgICAgaWYgKHgodSwgT2JqZWN0LmFzc2lnbih7fSwgdCwgewogICAgICAgICAgICBkaWZmOiBkCiAgICAgICAgICB9KSksIHUubGVuZ3RoID0gMCwgYy5lcnJvcikgdGhyb3cgYy5lcnJvcjsKICAgICAgICAgIHJldHVybiBzOwogICAgICAgIH07CiAgICAgIH07CiAgICB9OwogIH0KCiAgdmFyIGssCiAgICAgIGosCiAgICAgIEUgPSBmdW5jdGlvbiBFKGUsIHQpIHsKICAgIHJldHVybiBuZXcgQXJyYXkodCArIDEpLmpvaW4oZSk7CiAgfSwKICAgICAgQSA9IGZ1bmN0aW9uIEEoZSwgdCkgewogICAgcmV0dXJuIEUoIjAiLCB0IC0gZS50b1N0cmluZygpLmxlbmd0aCkgKyBlOwogIH0sCiAgICAgIEQgPSBmdW5jdGlvbiBEKGUpIHsKICAgIHJldHVybiBBKGUuZ2V0SG91cnMoKSwgMikgKyAiOiIgKyBBKGUuZ2V0TWludXRlcygpLCAyKSArICI6IiArIEEoZS5nZXRTZWNvbmRzKCksIDIpICsgIi4iICsgQShlLmdldE1pbGxpc2Vjb25kcygpLCAzKTsKICB9LAogICAgICBPID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIHBlcmZvcm1hbmNlICYmIG51bGwgIT09IHBlcmZvcm1hbmNlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA/IHBlcmZvcm1hbmNlIDogRGF0ZSwKICAgICAgTiA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIFN5bWJvbCAmJiAic3ltYm9sIiA9PSBfdHlwZW9mKFN5bWJvbC5pdGVyYXRvcikgPyBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIF90eXBlb2YoZSk7CiAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZSAmJiAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgZS5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIGUgIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IF90eXBlb2YoZSk7CiAgfSwKICAgICAgUCA9IGZ1bmN0aW9uIFAoZSkgewogICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHsKICAgICAgZm9yICh2YXIgdCA9IDAsIHIgPSBBcnJheShlLmxlbmd0aCk7IHQgPCBlLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgclt0XSA9IGVbdF07CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfQoKICAgIHJldHVybiBBcnJheS5mcm9tKGUpOwogIH0sCiAgICAgIEMgPSBbXTsKCiAgayA9ICJvYmplY3QiID09PSAoInVuZGVmaW5lZCIgPT0gdHlwZW9mIGdsb2JhbCA/ICJ1bmRlZmluZWQiIDogTihnbG9iYWwpKSAmJiBnbG9iYWwgPyBnbG9iYWwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDoge30sIGogPSBrLkRlZXBEaWZmLCBqICYmIEMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgaiAmJiBrLkRlZXBEaWZmID09PSBjICYmIChrLkRlZXBEaWZmID0gaiwgaiA9IHZvaWQgMCk7CiAgfSksIHQobiwgciksIHQobywgciksIHQoaSwgciksIHQoYSwgciksIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGMsIHsKICAgIGRpZmY6IHsKICAgICAgdmFsdWU6IGMsCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9LAogICAgb2JzZXJ2YWJsZURpZmY6IHsKICAgICAgdmFsdWU6IGwsCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9LAogICAgYXBwbHlEaWZmOiB7CiAgICAgIHZhbHVlOiBoLAogICAgICBlbnVtZXJhYmxlOiAhMAogICAgfSwKICAgIGFwcGx5Q2hhbmdlOiB7CiAgICAgIHZhbHVlOiBkLAogICAgICBlbnVtZXJhYmxlOiAhMAogICAgfSwKICAgIHJldmVydENoYW5nZTogewogICAgICB2YWx1ZTogZywKICAgICAgZW51bWVyYWJsZTogITAKICAgIH0sCiAgICBpc0NvbmZsaWN0OiB7CiAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgICByZXR1cm4gInVuZGVmaW5lZCIgIT0gdHlwZW9mIGo7CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9LAogICAgbm9Db25mbGljdDogewogICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgICAgcmV0dXJuIEMgJiYgKEMuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgZSgpOwogICAgICAgIH0pLCBDID0gbnVsbCksIGM7CiAgICAgIH0sCiAgICAgIGVudW1lcmFibGU6ICEwCiAgICB9CiAgfSk7CgogIHZhciBGID0gewogICAgRTogewogICAgICBjb2xvcjogIiMyMTk2RjMiLAogICAgICB0ZXh0OiAiQ0hBTkdFRDoiCiAgICB9LAogICAgTjogewogICAgICBjb2xvcjogIiM0Q0FGNTAiLAogICAgICB0ZXh0OiAiQURERUQ6IgogICAgfSwKICAgIEQ6IHsKICAgICAgY29sb3I6ICIjRjQ0MzM2IiwKICAgICAgdGV4dDogIkRFTEVURUQ6IgogICAgfSwKICAgIEE6IHsKICAgICAgY29sb3I6ICIjMjE5NkYzIiwKICAgICAgdGV4dDogIkFSUkFZOiIKICAgIH0KICB9LAogICAgICBMID0gewogICAgbGV2ZWw6ICJsb2ciLAogICAgbG9nZ2VyOiBjb25zb2xlLAogICAgbG9nRXJyb3JzOiAhMCwKICAgIGNvbGxhcHNlZDogdm9pZCAwLAogICAgcHJlZGljYXRlOiB2b2lkIDAsCiAgICBkdXJhdGlvbjogITEsCiAgICB0aW1lc3RhbXA6ICEwLAogICAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihlKSB7CiAgICAgIHJldHVybiBlOwogICAgfSwKICAgIGFjdGlvblRyYW5zZm9ybWVyOiBmdW5jdGlvbiBhY3Rpb25UcmFuc2Zvcm1lcihlKSB7CiAgICAgIHJldHVybiBlOwogICAgfSwKICAgIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZSkgewogICAgICByZXR1cm4gZTsKICAgIH0sCiAgICBjb2xvcnM6IHsKICAgICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICAgIHJldHVybiAiaW5oZXJpdCI7CiAgICAgIH0sCiAgICAgIHByZXZTdGF0ZTogZnVuY3Rpb24gcHJldlN0YXRlKCkgewogICAgICAgIHJldHVybiAiIzlFOUU5RSI7CiAgICAgIH0sCiAgICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkgewogICAgICAgIHJldHVybiAiIzAzQTlGNCI7CiAgICAgIH0sCiAgICAgIG5leHRTdGF0ZTogZnVuY3Rpb24gbmV4dFN0YXRlKCkgewogICAgICAgIHJldHVybiAiIzRDQUY1MCI7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHsKICAgICAgICByZXR1cm4gIiNGMjA0MDQiOwogICAgICB9CiAgICB9LAogICAgZGlmZjogITEsCiAgICBkaWZmUHJlZGljYXRlOiB2b2lkIDAsCiAgICB0cmFuc2Zvcm1lcjogdm9pZCAwCiAgfSwKICAgICAgVCA9IGZ1bmN0aW9uIFQoKSB7CiAgICB2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzBdID8gYXJndW1lbnRzWzBdIDoge30sCiAgICAgICAgdCA9IGUuZGlzcGF0Y2gsCiAgICAgICAgciA9IGUuZ2V0U3RhdGU7CiAgICByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiByID8gUygpKHsKICAgICAgZGlzcGF0Y2g6IHQsCiAgICAgIGdldFN0YXRlOiByCiAgICB9KSA6IHZvaWQgY29uc29sZS5lcnJvcigiXG5bcmVkdXgtbG9nZ2VyIHYzXSBCUkVBS0lORyBDSEFOR0VcbltyZWR1eC1sb2dnZXIgdjNdIFNpbmNlIDMuMC4wIHJlZHV4LWxvZ2dlciBleHBvcnRzIGJ5IGRlZmF1bHQgbG9nZ2VyIHdpdGggZGVmYXVsdCBzZXR0aW5ncy5cbltyZWR1eC1sb2dnZXIgdjNdIENoYW5nZVxuW3JlZHV4LWxvZ2dlciB2M10gaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInXG5bcmVkdXgtbG9nZ2VyIHYzXSB0b1xuW3JlZHV4LWxvZ2dlciB2M10gaW1wb3J0IHsgY3JlYXRlTG9nZ2VyIH0gZnJvbSAncmVkdXgtbG9nZ2VyJ1xuIik7CiAgfTsKCiAgZS5kZWZhdWx0cyA9IEwsIGUuY3JlYXRlTG9nZ2VyID0gUywgZS5sb2dnZXIgPSBULCBlLmRlZmF1bHQgPSBULCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogITAKICB9KTsKfSk7"},null]}